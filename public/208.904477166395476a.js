"use strict";(self.webpackChunkTPClinica=self.webpackChunkTPClinica||[]).push([[208],{9897:(re,P,f)=>{f.d(P,{Jc:()=>e,Pf:()=>T,n7:()=>O});class T{constructor(){this.duration=0}}var O=function(y){return y.Lunes="lunes",y.Martes="martes",y.Miercoles="mi\xe9rcoles",y.Jueves="jueves",y.Viernes="viernes",y.Sabado="s\xe1bado",y.Domingo="domingo",y}(O||{});class e{constructor(g){this.dayOfWeek=g?.dayOfWeek,this.date=g?.date,this.timeStart=g?.timeStart,this.timeEnd=g?.timeEnd}}},4208:(re,P,f)=>{f.r(P),f.d(P,{AppointmentsModule:()=>_i});var T=f(6814),O=f(6024),e=f(9468);let y=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-appointments"]],decls:0,vars:0,template:function(i,r){}})}return n})();var g=f(5861);class j{constructor(a){this.day=a.day,this.patient=a.patient,this.specialist=a.specialist,this.state=a.state,this.survey=a.survey,this.calification=a.calification,this.speciality=a.speciality}}var x=f(9897),ae=f(1002);function _(n,a){if(a.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+a.length+" present")}function w(n){_(1,arguments);var a=Object.prototype.toString.call(n);return n instanceof Date||"object"===(0,ae.Z)(n)&&"[object Date]"===a?new Date(n.getTime()):"number"==typeof n||"[object Number]"===a?new Date(n):(("string"==typeof n||"[object String]"===a)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function S(n){if(null===n||!0===n||!1===n)return NaN;var a=Number(n);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}function V(n){_(1,arguments);var t=w(n),i=t.getUTCDay(),r=(i<1?7:0)+i-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function oe(n){_(1,arguments);var a=w(n),t=a.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(t+1,0,4),i.setUTCHours(0,0,0,0);var r=V(i),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var s=V(o);return a.getTime()>=r.getTime()?t+1:a.getTime()>=s.getTime()?t:t-1}var se={};function W(){return se}function R(n,a){var t,i,r,o,s,l,u,c;_(1,arguments);var h=W(),d=S(null!==(t=null!==(i=null!==(r=null!==(o=a?.weekStartsOn)&&void 0!==o?o:null==a||null===(s=a.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:h.weekStartsOn)&&void 0!==i?i:null===(u=h.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==t?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=w(n),b=v.getUTCDay(),Z=(b<d?7:0)+b-d;return v.setUTCDate(v.getUTCDate()-Z),v.setUTCHours(0,0,0,0),v}function le(n,a){var t,i,r,o,s,l,u,c;_(1,arguments);var h=w(n),d=h.getUTCFullYear(),v=W(),b=S(null!==(t=null!==(i=null!==(r=null!==(o=a?.firstWeekContainsDate)&&void 0!==o?o:null==a||null===(s=a.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==r?r:v.firstWeekContainsDate)&&void 0!==i?i:null===(u=v.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==t?t:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Z=new Date(0);Z.setUTCFullYear(d+1,0,b),Z.setUTCHours(0,0,0,0);var Y=R(Z,a),q=new Date(0);q.setUTCFullYear(d,0,b),q.setUTCHours(0,0,0,0);var J=R(q,a);return h.getTime()>=Y.getTime()?d+1:h.getTime()>=J.getTime()?d:d-1}function p(n,a){for(var t=n<0?"-":"",i=Math.abs(n).toString();i.length<a;)i="0"+i;return t+i}const k_y=function(a,t){var i=a.getUTCFullYear(),r=i>0?i:1-i;return p("yy"===t?r%100:r,t.length)},k_M=function(a,t){var i=a.getUTCMonth();return"M"===t?String(i+1):p(i+1,2)},k_d=function(a,t){return p(a.getUTCDate(),t.length)},k_h=function(a,t){return p(a.getUTCHours()%12||12,t.length)},k_H=function(a,t){return p(a.getUTCHours(),t.length)},k_m=function(a,t){return p(a.getUTCMinutes(),t.length)},k_s=function(a,t){return p(a.getUTCSeconds(),t.length)},k_S=function(a,t){var i=t.length,r=a.getUTCMilliseconds();return p(Math.floor(r*Math.pow(10,i-3)),t.length)};function ce(n,a){var t=n>0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),o=i%60;if(0===o)return t+String(r);var s=a||"";return t+String(r)+s+p(o,2)}function ue(n,a){return n%60==0?(n>0?"-":"+")+p(Math.abs(n)/60,2):N(n,a)}function N(n,a){var t=a||"",i=n>0?"-":"+",r=Math.abs(n);return i+p(Math.floor(r/60),2)+t+p(r%60,2)}const Oe={G:function(a,t,i){var r=a.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});default:return i.era(r,{width:"wide"})}},y:function(a,t,i){if("yo"===t){var r=a.getUTCFullYear();return i.ordinalNumber(r>0?r:1-r,{unit:"year"})}return k_y(a,t)},Y:function(a,t,i,r){var o=le(a,r),s=o>0?o:1-o;return"YY"===t?p(s%100,2):"Yo"===t?i.ordinalNumber(s,{unit:"year"}):p(s,t.length)},R:function(a,t){return p(oe(a),t.length)},u:function(a,t){return p(a.getUTCFullYear(),t.length)},Q:function(a,t,i){var r=Math.ceil((a.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return p(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(a,t,i){var r=Math.ceil((a.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return p(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(a,t,i){var r=a.getUTCMonth();switch(t){case"M":case"MM":return k_M(a,t);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(a,t,i){var r=a.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return p(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(a,t,i,r){var o=function Se(n,a){_(1,arguments);var t=w(n),i=R(t,a).getTime()-function Te(n,a){var t,i,r,o,s,l,u,c;_(1,arguments);var h=W(),d=S(null!==(t=null!==(i=null!==(r=null!==(o=a?.firstWeekContainsDate)&&void 0!==o?o:null==a||null===(s=a.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==r?r:h.firstWeekContainsDate)&&void 0!==i?i:null===(u=h.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==t?t:1),v=le(n,a),b=new Date(0);return b.setUTCFullYear(v,0,d),b.setUTCHours(0,0,0,0),R(b,a)}(t,a).getTime();return Math.round(i/6048e5)+1}(a,r);return"wo"===t?i.ordinalNumber(o,{unit:"week"}):p(o,t.length)},I:function(a,t,i){var r=function ye(n){_(1,arguments);var a=w(n),t=V(a).getTime()-function xe(n){_(1,arguments);var a=oe(n),t=new Date(0);return t.setUTCFullYear(a,0,4),t.setUTCHours(0,0,0,0),V(t)}(a).getTime();return Math.round(t/6048e5)+1}(a);return"Io"===t?i.ordinalNumber(r,{unit:"week"}):p(r,t.length)},d:function(a,t,i){return"do"===t?i.ordinalNumber(a.getUTCDate(),{unit:"date"}):k_d(a,t)},D:function(a,t,i){var r=function be(n){_(1,arguments);var a=w(n),t=a.getTime();a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0);var i=a.getTime();return Math.floor((t-i)/864e5)+1}(a);return"Do"===t?i.ordinalNumber(r,{unit:"dayOfYear"}):p(r,t.length)},E:function(a,t,i){var r=a.getUTCDay();switch(t){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(a,t,i,r){var o=a.getUTCDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return p(s,2);case"eo":return i.ordinalNumber(s,{unit:"day"});case"eee":return i.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(o,{width:"short",context:"formatting"});default:return i.day(o,{width:"wide",context:"formatting"})}},c:function(a,t,i,r){var o=a.getUTCDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return p(s,t.length);case"co":return i.ordinalNumber(s,{unit:"day"});case"ccc":return i.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(o,{width:"narrow",context:"standalone"});case"cccccc":return i.day(o,{width:"short",context:"standalone"});default:return i.day(o,{width:"wide",context:"standalone"})}},i:function(a,t,i){var r=a.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return p(o,t.length);case"io":return i.ordinalNumber(o,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(a,t,i){var o=a.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(a,t,i){var o,r=a.getUTCHours();switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(a,t,i){var o,r=a.getUTCHours();switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(a,t,i){if("ho"===t){var r=a.getUTCHours()%12;return 0===r&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return k_h(a,t)},H:function(a,t,i){return"Ho"===t?i.ordinalNumber(a.getUTCHours(),{unit:"hour"}):k_H(a,t)},K:function(a,t,i){var r=a.getUTCHours()%12;return"Ko"===t?i.ordinalNumber(r,{unit:"hour"}):p(r,t.length)},k:function(a,t,i){var r=a.getUTCHours();return 0===r&&(r=24),"ko"===t?i.ordinalNumber(r,{unit:"hour"}):p(r,t.length)},m:function(a,t,i){return"mo"===t?i.ordinalNumber(a.getUTCMinutes(),{unit:"minute"}):k_m(a,t)},s:function(a,t,i){return"so"===t?i.ordinalNumber(a.getUTCSeconds(),{unit:"second"}):k_s(a,t)},S:function(a,t){return k_S(a,t)},X:function(a,t,i,r){var s=(r._originalDate||a).getTimezoneOffset();if(0===s)return"Z";switch(t){case"X":return ue(s);case"XXXX":case"XX":return N(s);default:return N(s,":")}},x:function(a,t,i,r){var s=(r._originalDate||a).getTimezoneOffset();switch(t){case"x":return ue(s);case"xxxx":case"xx":return N(s);default:return N(s,":")}},O:function(a,t,i,r){var s=(r._originalDate||a).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ce(s,":");default:return"GMT"+N(s,":")}},z:function(a,t,i,r){var s=(r._originalDate||a).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ce(s,":");default:return"GMT"+N(s,":")}},t:function(a,t,i,r){return p(Math.floor((r._originalDate||a).getTime()/1e3),t.length)},T:function(a,t,i,r){return p((r._originalDate||a).getTime(),t.length)}};var de=function(a,t){switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},pe=function(a,t){switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const Ie={p:pe,P:function(a,t){var s,i=a.match(/(P+)(p+)?/)||[],r=i[1],o=i[2];if(!o)return de(a,t);switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",de(r,t)).replace("{{time}}",pe(o,t))}};var qe=["D","DD"],Pe=["YY","YYYY"];function me(n,a,t){if("YYYY"===n)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(a,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===n)throw new RangeError("Use `yy` instead of `YY` (in `".concat(a,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===n)throw new RangeError("Use `d` instead of `D` (in `".concat(a,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===n)throw new RangeError("Use `dd` instead of `DD` (in `".concat(a,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Fe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function G(n){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.width?String(a.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}var We={date:G({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:G({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:G({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},$e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function E(n){return function(a,t){var r;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,s=null!=t&&t.width?String(t.width):o;r=n.formattingValues[s]||n.formattingValues[o]}else{var l=n.defaultWidth,u=null!=t&&t.width?String(t.width):n.defaultWidth;r=n.values[u]||n.values[l]}return r[n.argumentCallback?n.argumentCallback(a):a]}}function F(n){return function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.width,o=a.match(i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth]);if(!o)return null;var c,s=o[0],l=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(l)?function at(n,a){for(var t=0;t<n.length;t++)if(a(n[t]))return t}(l,function(d){return d.test(s)}):function rt(n,a){for(var t in n)if(n.hasOwnProperty(t)&&a(n[t]))return t}(l,function(d){return d.test(s)});return c=n.valueCallback?n.valueCallback(u):u,{value:c=t.valueCallback?t.valueCallback(c):c,rest:a.slice(s.length)}}}const xt={code:"en-US",formatDistance:function(a,t,i){var r,o=Fe[a];return r="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},formatLong:We,formatRelative:function(a,t,i,r){return $e[a]},localize:{ordinalNumber:function(a,t){var i=Number(a),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:E({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:E({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(a){return a-1}}),month:E({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:E({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:E({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function ot(n){return function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.match(n.matchPattern);if(!i)return null;var r=i[0],o=a.match(n.parsePattern);if(!o)return null;var s=n.valueCallback?n.valueCallback(o[0]):o[0];return{value:s=t.valueCallback?t.valueCallback(s):s,rest:a.slice(r.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(a){return parseInt(a,10)}}),era:F({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:F({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:F({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:F({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:F({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var At=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tt=/^'([^]*?)'?$/,Ct=/''/g,St=/[a-zA-Z]/;function Zt(n,a,t){var i,r,o,s,l,u,c,h,d,v,b,Z,Y,q,J,z,ee,te;_(2,arguments);var hi=String(a),Q=W(),L=null!==(i=null!==(r=t?.locale)&&void 0!==r?r:Q.locale)&&void 0!==i?i:xt,ne=S(null!==(o=null!==(s=null!==(l=null!==(u=t?.firstWeekContainsDate)&&void 0!==u?u:null==t||null===(c=t.locale)||void 0===c||null===(h=c.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==l?l:Q.firstWeekContainsDate)&&void 0!==s?s:null===(d=Q.locale)||void 0===d||null===(v=d.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==o?o:1);if(!(ne>=1&&ne<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ie=S(null!==(b=null!==(Z=null!==(Y=null!==(q=t?.weekStartsOn)&&void 0!==q?q:null==t||null===(J=t.locale)||void 0===J||null===(z=J.options)||void 0===z?void 0:z.weekStartsOn)&&void 0!==Y?Y:Q.weekStartsOn)&&void 0!==Z?Z:null===(ee=Q.locale)||void 0===ee||null===(te=ee.options)||void 0===te?void 0:te.weekStartsOn)&&void 0!==b?b:0);if(!(ie>=0&&ie<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var $=w(n);if(!function I(n){if(_(1,arguments),!function A(n){return _(1,arguments),n instanceof Date||"object"===(0,ae.Z)(n)&&"[object Date]"===Object.prototype.toString.call(n)}(n)&&"number"!=typeof n)return!1;var a=w(n);return!isNaN(Number(a))}($))throw new RangeError("Invalid time value");var gi=function Ne(n){var a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),n.getTime()-a.getTime()}($),vi=function ve(n,a){return _(2,arguments),function ge(n,a){_(2,arguments);var t=w(n).getTime(),i=S(a);return new Date(t+i)}(n,-S(a))}($,gi),wi={firstWeekContainsDate:ne,weekStartsOn:ie,locale:L,_originalDate:$},bi=hi.match(yt).map(function(C){var U=C[0];return"p"===U||"P"===U?(0,Ie[U])(C,L.formatLong):C}).join("").match(At).map(function(C){if("''"===C)return"'";var U=C[0];if("'"===U)return function Dt(n){var a=n.match(Tt);return a?a[1].replace(Ct,"'"):n}(C);var H=Oe[U];if(H)return!(null!=t&&t.useAdditionalWeekYearTokens)&&function Ee(n){return-1!==Pe.indexOf(n)}(C)&&me(C,a,String(n)),!(null!=t&&t.useAdditionalDayOfYearTokens)&&function Me(n){return-1!==qe.indexOf(n)}(C)&&me(C,a,String(n)),H(vi,C,L.localize,wi);if(U.match(St))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return C}).join("");return bi}var D=f(6825),B=f(9547),Ot=f(6084),fe=f(5710),K=f(3251),_e=f(346);let kt=(()=>{class n{transform(t,...i){return null==t?t:t.substring(0,2)+"-"+t.substring(3,5)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=e.Yjl({name:"dates",type:n,pure:!0})}return n})();function Ut(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",14),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectSpecialist(o))}),e._UZ(2,"img",15),e.TgZ(3,"label",16),e._uU(4),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.s9C("src",t.profilePhoto,e.LSH),e.xp6(2),e.AsE("",t.lastName,", ",t.name,"")}}function It(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"button",18)(2,"img",19),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectSpeciality(o))}),e.qZA()()()}if(2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.s9C("title",t),e.xp6(1),e.s9C("src",i.getSpecialityPhoto(t),e.LSH)}}function Nt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",22),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.selectAppointment(s,o))}),e._uU(2),e.ALo(3,"dates"),e.ALo(4,"hours"),e.qZA()()}if(2&n){const t=a.$implicit,i=e.oxw().$implicit,r=e.oxw();e.xp6(1),e.Q6J("disabled",r.hideTaken(r.selectedSpecialist.userId,i.date,t)),e.xp6(1),e.AsE("",e.lcZ(3,3,i.date)," ",e.lcZ(4,5,t),"")}}function qt(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",20)(2,"h5",21),e._uU(3),e.qZA(),e.YNc(4,Nt,5,7,"div",12),e.qZA()()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(3),e.Oqu(t.dayOfWeek.toUpperCase()),e.xp6(1),e.Q6J("ngForOf",i.setHours(t))}}function Pt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",23),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectPatient(o))}),e._UZ(2,"img",24),e._uU(3),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(2),e.s9C("src",t.profilePhoto,e.LSH),e.xp6(1),e.AsE("",t.lastName,", ",t.name,"")}}const Mt=(0,D.eR)(":enter",[(0,D.oB)({opacity:0}),(0,D.jt)("1s ease-in",(0,D.oB)({opacity:1}))]),Et=(0,D.eR)(":enter",[(0,D.oB)({opacity:1}),(0,D.jt)("500ms ease-out",(0,D.oB)({opacity:0}))]),Ft=(0,D.X$)("fadeIn",[Mt]),Yt=(0,D.X$)("fadeOut",[Et]);let Jt=(()=>{class n{constructor(t,i,r,o,s){this.uService=t,this.sService=i,this.aService=r,this.alertService=o,this.router=s,this.listOfAppointments=[],this.listofUsers=[],this.availableDays=[],this.availableHours=[],this.dates=[],this.selectedDay=new x.Jc,this.appointmentDuration=0,this.hiddenSpeciality=!0,this.hiddenSchedule=!0,this.hiddenSpecialist=!1,this.hiddenPatient=!0,this.hiddenHours=!0,this.hiddenStart=!1,this.selectedHour=0,this.selectedSpeciality="",this.aService.getAppointments(),this.setSpecialities()}ngOnInit(){this.getSpecialists(),this.ref=this.uService.getAllUsers().subscribe(t=>{this.listofUsers=t,this.listOfSpecialists=this.listofUsers?.filter(i=>"especialista"==i.userRole),this.ref.unsubscribe()},t=>{console.error("Error al obtener datos:",t)})}getSpecialists(){var t=this;return(0,g.Z)(function*(){yield t.uService.getUsers()})()}setSpecialities(){var t=this;return(0,g.Z)(function*(){t.listOfSpecialities=yield t.sService.getAllSpecialities()})()}selectSpeciality(t){this.selectedSpeciality=t,this.setSchedule(),this.hiddenSpeciality=!0,this.hiddenSchedule=!1}setPatientOptions(){this.listOfPatients=this.uService.users.filter(t=>"paciente"===t.userRole)}setSpecialistsOptions(){var t=this;return(0,g.Z)(function*(){return yield t.uService.getUsers(),t.uService.users.filter(i=>"especialista"===i.userRole)})()}selectSpecialist(t){this.selectedSpecialist=t,this.hiddenSpecialist=!0,this.hiddenSpeciality=!1}setSchedule(){null!=this.selectedSpecialist?.speciality.schedule&&(this.availableDays=this.generateDates(this.selectedSpecialist?.speciality.schedule.days),this.appointmentDuration=this.selectedSpecialist.speciality.schedule.duration)}getSpecialityPhoto(t){let i;return this.listOfSpecialities?.forEach(r=>{r.description==t&&(i=r.image)}),i}setHours(t){let i=[],r=parseFloat(t.timeStart),o=parseFloat(t.timeEnd);for(;r<o;)i.push(r),r+=this.appointmentDuration;return i}selectHours(t){this.selectedHour=t,this.hiddenHours=!0,"admin"==this.uService.userLogged?.userRole?(this.setPatientOptions(),this.hiddenPatient=!1):(this.selectedPatient=this.uService.userLogged,this.createAppointment())}generateDates(t){const i={[x.n7.Domingo]:0,[x.n7.Lunes]:1,[x.n7.Martes]:2,[x.n7.Miercoles]:3,[x.n7.Jueves]:4,[x.n7.Viernes]:5,[x.n7.Sabado]:6};let r=t.map(u=>u.dayOfWeek);const o=new Date,s=[];for(let u=1;u<15;u++){const c=new Date(o);c.setDate(c.getDate()+u);const h=c.getDay(),d=Object.keys(i).find(v=>i[v]===h);d&&r.includes(d)&&t.forEach(v=>{if(v.dayOfWeek==d){let b=Zt(c,"dd/MM/yyyy");s.push(new x.Jc({dayOfWeek:d,date:b,timeStart:v.timeStart,timeEnd:v.timeEnd}))}})}return s}selectPatient(t){this.selectedPatient=t,this.createAppointment()}selectAppointment(t,i){this.selectedDay=t,this.selectedHour=i,this.hiddenSchedule=!0,"admin"==this.uService.userLogged?.userRole?(this.setPatientOptions(),this.hiddenPatient=!1):(this.selectedPatient=this.uService.userLogged,this.createAppointment())}createAppointment(){var t=this;return(0,g.Z)(function*(){const i=new x.Jc({dayOfWeek:t.selectedDay.dayOfWeek,date:t.selectedDay.date,timeStart:t.selectedHour.toString(),timeEnd:(t.selectedHour+t.appointmentDuration).toString()});if(null!=t.selectedSpecialist&&null!=t.selectedPatient){const r=new j({day:i,patient:t.selectedPatient,specialist:t.selectedSpecialist,state:"Pendiente",speciality:t.selectedSpeciality});try{t.validateAppointment(i),yield t.aService.saveAppointmenInStore(r),yield t.alertService.showAlert({icon:"success",message:"Turno creado con exito!",timer:2e3}),t.router.navigateByUrl("turnos/turnos")}catch(o){yield t.alertService.showAlert({icon:"error",message:o.message,timer:2e3})}}})()}hideTaken(t,i,r){let o=!1;return this.aService.appointments.forEach(s=>{s.day.date==i&&s.day.timeStart==r.toString()&&t==s.specialist.userId&&(o=!0)}),o}validateAppointment(t){this.aService.appointments.forEach(i=>{if(i.specialist.userId==this.selectedSpecialist?.userId&&t.timeStart==i.day.timeStart&&t.date==i.day.date)throw new Error("El turno ya se encuentra ocupado!")})}return(t){switch(t){case"A":this.hiddenSpecialist=!1,this.hiddenSpeciality=!0;break;case"B":this.hiddenSpeciality=!1,this.hiddenSchedule=!0;break;case"C":this.hiddenSchedule=!1,this.hiddenPatient=!0}}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(B.K),e.Y36(Ot.d),e.Y36(fe.H),e.Y36(K.c),e.Y36(O.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-request-appointment"]],decls:52,vars:19,consts:[["transition-style","in:wipe:down",1,"container","card","d-flex","flex-col","align-items-center","justify-content-center"],["src","../../../../assets/img/icono.png","alt","",2,"width","200px","height","200px"],[1,"card","m-3","p-3","bg-beige",2,"width","50vw","height","auto"],[3,"hidden"],[1,"card","m-2","p-2"],[1,"fw-bold","m-3","p-1"],[1,"d-flex","flex-row"],["class","d-flex flex-column m-1 p-1",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-warning",3,"click"],[1,"fa-solid","fa-circle-arrow-left"],["class","m-1 p-1 d-flex flex-row align-items-center justify-content-center",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","justify-content-center"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-column","m-1","p-1"],[1,"btn","boton","m-1","p-1",2,"width","150px","height","100px",3,"click"],["alt","foto",2,"height","70px","width","60px",3,"src"],["for","specialist"],[1,"m-1","p-1","d-flex","flex-row","align-items-center","justify-content-center"],[1,"btn","boton","rounded-circle",3,"title"],["alt","foto_especialidad",3,"src","click"],[1,"card","d-flex","flex-column","align-items-center","justify-content-center","p-1","m-1"],[1,"fw-bold"],[1,"btn","botonF","m-1","p-2",3,"disabled","click"],[1,"btn","boton","rounded-circle","m-2","p-2","d-flex","flex-column","justify-content-center","align-items-center",2,"height","150px","width","150px",3,"click"],["alt","foto_paciente",2,"height","50px","width","50px",3,"src"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"H3"),e._uU(2,"Seccion: Solicitar Turno"),e.qZA(),e._UZ(3,"img",1),e.TgZ(4,"div",2)(5,"div")(6,"h4"),e._uU(7,"Datos del turno:"),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.qZA(),e.TgZ(14,"div"),e._uU(15),e.ALo(16,"hours"),e.qZA(),e.TgZ(17,"div"),e._uU(18),e.qZA()()(),e.TgZ(19,"div",3)(20,"div",4)(21,"p",5),e._uU(22,"Elija un especialista:"),e.qZA(),e.TgZ(23,"div",6),e.YNc(24,Ut,5,3,"div",7),e.qZA()()(),e.TgZ(25,"div",3)(26,"div",4)(27,"button",8),e.NdJ("click",function(){return r.return("A")}),e.TgZ(28,"i",9),e._uU(29,"Volver"),e.qZA()(),e.TgZ(30,"p",5),e._uU(31,"Elija una especialidad:"),e.qZA(),e.TgZ(32,"div",6),e.YNc(33,It,3,2,"div",10),e.qZA()()(),e.TgZ(34,"div",3)(35,"div",4)(36,"button",8),e.NdJ("click",function(){return r.return("B")}),e.TgZ(37,"i",9),e._uU(38,"Volver"),e.qZA()(),e.TgZ(39,"p",5),e._uU(40," Seleccione la fecha y el horario:"),e.qZA(),e.TgZ(41,"div",11),e.YNc(42,qt,5,2,"div",12),e.qZA()()(),e.TgZ(43,"div",3)(44,"div",4)(45,"button",8),e.NdJ("click",function(){return r.return("C")}),e.TgZ(46,"i",9),e._uU(47,"Volver"),e.qZA()(),e.TgZ(48,"p",5),e._uU(49,"Elija un paciente:"),e.qZA(),e.TgZ(50,"div",11),e.YNc(51,Pt,4,3,"div",12),e.qZA()()()()),2&i&&(e.xp6(9),e.AsE(" Especialista: ",null==r.selectedSpecialist?null:r.selectedSpecialist.lastName,", ",null==r.selectedSpecialist?null:r.selectedSpecialist.name," "),e.xp6(2),e.hij(" Especialidad: ",r.selectedSpeciality," "),e.xp6(2),e.AsE(" Fecha: ",r.selectedDay.date," (",r.selectedDay.dayOfWeek,") "),e.xp6(2),e.hij(" Hora del dia: ",e.lcZ(16,17,r.selectedHour)," hs "),e.xp6(3),e.AsE(" Paciente: ",null==r.selectedPatient?null:r.selectedPatient.lastName,", ",null==r.selectedPatient?null:r.selectedPatient.name," "),e.xp6(1),e.Q6J("hidden",r.hiddenSpecialist)("@fadeIn",void 0),e.xp6(5),e.Q6J("ngForOf",r.listOfSpecialists),e.xp6(1),e.Q6J("hidden",r.hiddenSpeciality),e.xp6(8),e.Q6J("ngForOf",null==r.selectedSpecialist||null==r.selectedSpecialist.speciality?null:r.selectedSpecialist.speciality.description),e.xp6(1),e.Q6J("hidden",r.hiddenSchedule),e.xp6(8),e.Q6J("ngForOf",r.availableDays),e.xp6(1),e.Q6J("hidden",r.hiddenPatient),e.xp6(8),e.Q6J("ngForOf",r.listOfPatients))},dependencies:[T.sg,_e.X,kt],styles:['.bg-beige[_ngcontent-%COMP%]{background-color:beige}.boton[_ngcontent-%COMP%]{background-color:#7fffd4;border-radius:0;border:2px solid blue}.boton[_ngcontent-%COMP%]:hover{background-color:#3d3dfc;box-shadow:0 0 20px #6100c8cc;color:#fff}.boton2[_ngcontent-%COMP%]{background-color:#7fffd4;border-radius:0;border:5px solid rgb(2,2,88)}.boton2[_ngcontent-%COMP%]:hover{background-color:#3ddcfc;box-shadow:0 0 20px #6100c8cc}.botonF[_ngcontent-%COMP%]{height:100px;width:100px;background-color:#7cc27c;border-radius:8px;border:2px solid rgb(1,49,1)}.botonF[_ngcontent-%COMP%]:hover{background-color:#013501;box-shadow:0 0 20px #1af302cc;color:#fff}.botonF[_ngcontent-%COMP%]:disabled{background-color:gray}@keyframes _ngcontent-%COMP%_wipe-in-down{0%{clip-path:inset(0 0 100% 0)}to{clip-path:inset(0 0 0 0)}}[transition-style="in:wipe:down"][_ngcontent-%COMP%]{animation:2.5s cubic-bezier(.25,1,.3,1) _ngcontent-%COMP%_wipe-in-down both}'],data:{animation:[Ft,Yt]}})}return n})();class Qt{constructor(a){this.questions=a.questions}}class X{constructor(a){this.question=a.question,this.response=a.response}}var m=f(95),he=f(6974);class Lt{constructor(a){this.height=a.height,this.weight=a.weight,this.temperature=a.temperature,this.pressure=a.pressure}}class Vt{constructor(a){this.key=a.key,this.value=a.value}}function Wt(n,a){1&n&&(e.TgZ(0,"span",24),e._uU(1,"Altura es requerido"),e.qZA())}function Rt(n,a){1&n&&(e.TgZ(0,"span",24),e._uU(1,"Altura invalida (30-300)"),e.qZA())}function $t(n,a){1&n&&(e.TgZ(0,"span",24),e._uU(1,"Peso es requerido"),e.qZA())}function Ht(n,a){1&n&&(e.TgZ(0,"span",24),e._uU(1,"Peso invalido (1-300)"),e.qZA())}function jt(n,a){1&n&&(e.TgZ(0,"span",24),e._uU(1,"Temperatura es requerida"),e.qZA())}function Gt(n,a){1&n&&(e.TgZ(0,"span",24),e._uU(1,"Temperatura invalida (30-45)"),e.qZA())}function Bt(n,a){1&n&&(e.TgZ(0,"span",24),e._uU(1,"Presion es requerida"),e.qZA())}function Kt(n,a){1&n&&(e.TgZ(0,"span",24),e._uU(1,"Presion invalida (80-160)"),e.qZA())}function Xt(n,a){if(1&n&&(e.TgZ(0,"div",6)(1,"div",25)(2,"label",26),e._uU(3),e.qZA(),e._UZ(4,"input",27),e.TgZ(5,"span",28),e._uU(6,"Clave es requerida"),e.qZA()(),e.TgZ(7,"div",25)(8,"label",26),e._uU(9),e.qZA(),e._UZ(10,"input",27),e.TgZ(11,"span",28),e._uU(12,"Valor es requerido"),e.qZA()()()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Q6J("for","key_"+t),e.xp6(1),e.hij("Clave adicional: ",t,""),e.xp6(1),e.MGl("placeholder","Ingrese clave adicional ",t,"..."),e.Q6J("formControlName","key_"+t),e.xp6(1),e.Q6J("hidden",i.formDiagnosis.controls["key_"+t].pristine||!i.formDiagnosis.controls["key_"+t].errors),e.xp6(3),e.Q6J("for","value_"+t),e.xp6(1),e.hij("Valor adicional: ",t,""),e.xp6(1),e.MGl("placeholder","Ingrese valor adicional ",t,"..."),e.Q6J("formControlName","value_"+t),e.xp6(1),e.Q6J("hidden",i.formDiagnosis.controls["value_"+t].pristine||!i.formDiagnosis.controls["value_"+t].errors)}}function zt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.addField(r))}),e._UZ(1,"i",30),e.qZA()}}function en(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.removeField(r))}),e._UZ(1,"i",32),e.qZA()}}let tn=(()=>{class n{constructor(t,i){this.formBuilder=t,this.aService=i,this.aditionalField=[],this.eventSendDiagnosis=new e.vpe,this.formDiagnosis=this.formBuilder.group({height:["",[m.kI.required,m.kI.min(30),m.kI.max(300)]],weight:["",[m.kI.required,m.kI.min(1),m.kI.max(300)]],temperature:["",[m.kI.required,m.kI.min(30),m.kI.max(45)]],pressure:["",[m.kI.required,m.kI.min(80),m.kI.max(160)]]})}sendDiagnosis(){var t=this;return(0,g.Z)(function*(){if(t.formDiagnosis.valid){const i=new Lt({...t.formDiagnosis.value});if(t.aditionalField.length>0){const r=[];t.aditionalField.forEach(o=>{const s=new Vt({key:t.formDiagnosis.controls[`key_${o}`].value,value:t.formDiagnosis.controls[`value_${o}`].value});r.push(s)}),i.dynamicData=r}t.formDiagnosis.reset(),t.eventSendDiagnosis.emit(i)}else yield t.aService.showAlert({icon:"error",message:"Debe completar todos los campos",timer:2e3})})()}addField(t){if(t.preventDefault(),this.aditionalField.length<3){const i=this.aditionalField.length+1;this.aditionalField.push(i),this.formDiagnosis.addControl(`key_${i}`,new m.NI("",[m.kI.required])),this.formDiagnosis.addControl(`value_${i}`,new m.NI("",[m.kI.required]))}}removeField(t){if(t.preventDefault(),this.aditionalField.length>0){const i=this.aditionalField.length,r=this.aditionalField.findIndex(o=>o===i);r>-1&&(this.aditionalField.splice(r,1),this.formDiagnosis.removeControl(`key_${i}`),this.formDiagnosis.removeControl(`value_${i}`))}}return(){this.formDiagnosis.reset(),this.eventSendDiagnosis.emit(void 0)}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(m.qu),e.Y36(K.c))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-diagnosis"]],outputs:{eventSendDiagnosis:"eventSendDiagnosis"},decls:47,vars:16,consts:[[1,"row","justify-content-center","align-items-center"],["src","../../../../../assets/img/icono.png","alt","clinica",1,"col-3","mt-1",2,"width","300px","height","200px"],[1,"mt-1","col-12","text-center"],[1,"btn","btn-warning",3,"click"],[1,"fa-solid","fa-circle-arrow-left"],[1,"card","p-2","m-1",3,"formGroup","ngSubmit"],[1,"row","mt-1","g-3","justify-content-center"],[1,"col-12"],["for","height",1,"form-label"],["type","number","formControlName","height","placeholder","Ingrese la altura del paciente...",1,"form-control"],[3,"hidden"],["class","mt-2 p-0 shadow text-center form-control alert alert-danger",4,"ngIf"],["for","weight",1,"form-label"],["type","number","formControlName","weight","placeholder","Ingrese el peso del paciente...",1,"form-control"],["for","temperature",1,"form-label"],["type","number","formControlName","temperature","placeholder","Ingrese la temperatura del paciente...",1,"form-control"],["for","pressure",1,"form-label"],["type","number","formControlName","pressure","placeholder","Ingrese presi\xf3n del paciente...",1,"form-control"],["class","row mt-1 g-3 justify-content-center",4,"ngFor","ngForOf"],[1,"w-100","m-0","p-1","row","justify-content-evenly"],["type","submit","class","mt-3 ms-1 col-lg-3 col-sm-4 btn btn-lg btn-success btn-block","style","height: 50px; width: 100px;",3,"click",4,"ngIf"],["type","submit","class","mt-3 ms-1 col-lg-3 col-sm-4 btn btn-lg btn-danger btn-block","style","height: 50px; width: 100px;",3,"click",4,"ngIf"],[1,"row","justify-content-evenly"],["type","submit",1,"mt-3","btn","boton","btn-block","btn-lg",2,"height","100px","width","250px"],[1,"mt-2","p-0","shadow","text-center","form-control","alert","alert-danger"],[1,"col-sm-6"],[1,"form-label",3,"for"],["type","text",1,"form-control",3,"formControlName","placeholder"],[1,"mt-2","p-0","shadow","text-center","form-control","alert","alert-danger",3,"hidden"],["type","submit",1,"mt-3","ms-1","col-lg-3","col-sm-4","btn","btn-lg","btn-success","btn-block",2,"height","50px","width","100px",3,"click"],[1,"text-center","fa-solid","fa-plus"],["type","submit",1,"mt-3","ms-1","col-lg-3","col-sm-4","btn","btn-lg","btn-danger","btn-block",2,"height","50px","width","100px",3,"click"],[1,"fa-solid","fa-minus"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h2",2),e._uU(3,"Diagnostico"),e.qZA()(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.return()}),e.TgZ(5,"i",4),e._uU(6,"Volver"),e.qZA()(),e.TgZ(7,"form",5),e.NdJ("ngSubmit",function(){return r.sendDiagnosis()}),e.TgZ(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11,"Altura (CM):"),e.qZA(),e._UZ(12,"input",9),e.TgZ(13,"div",10),e.YNc(14,Wt,2,0,"span",11),e.YNc(15,Rt,2,0,"span",11),e.qZA()()(),e.TgZ(16,"div",6)(17,"div",7)(18,"label",12),e._uU(19,"Peso (KG):"),e.qZA(),e._UZ(20,"input",13),e.TgZ(21,"div",10),e.YNc(22,$t,2,0,"span",11),e.YNc(23,Ht,2,0,"span",11),e.qZA()()(),e.TgZ(24,"div",6)(25,"div",7)(26,"label",14),e._uU(27,"Temperatura (C\xb0):"),e.qZA(),e._UZ(28,"input",15),e.TgZ(29,"div",10),e.YNc(30,jt,2,0,"span",11),e.YNc(31,Gt,2,0,"span",11),e.qZA()()(),e.TgZ(32,"div",6)(33,"div",7)(34,"label",16),e._uU(35,"Presi\xf3n (mmHg):"),e.qZA(),e._UZ(36,"input",17),e.TgZ(37,"div",10),e.YNc(38,Bt,2,0,"span",11),e.YNc(39,Kt,2,0,"span",11),e.qZA()()(),e.YNc(40,Xt,13,10,"div",18),e.TgZ(41,"div",19),e.YNc(42,zt,2,0,"button",20),e.YNc(43,en,2,0,"button",21),e.qZA(),e.TgZ(44,"div",22)(45,"button",23),e._uU(46,"Enviar"),e.qZA()()()),2&i&&(e.xp6(7),e.Q6J("formGroup",r.formDiagnosis),e.xp6(6),e.Q6J("hidden",r.formDiagnosis.controls.height.pristine||!r.formDiagnosis.controls.height.invalid),e.xp6(1),e.Q6J("ngIf",null==r.formDiagnosis.controls.height.errors?null:r.formDiagnosis.controls.height.errors.required),e.xp6(1),e.Q6J("ngIf",(null==r.formDiagnosis.controls.height.errors?null:r.formDiagnosis.controls.height.errors.min)||(null==r.formDiagnosis.controls.height.errors?null:r.formDiagnosis.controls.height.errors.max)),e.xp6(6),e.Q6J("hidden",r.formDiagnosis.controls.weight.pristine||!r.formDiagnosis.controls.weight.invalid),e.xp6(1),e.Q6J("ngIf",null==r.formDiagnosis.controls.weight.errors?null:r.formDiagnosis.controls.weight.errors.required),e.xp6(1),e.Q6J("ngIf",(null==r.formDiagnosis.controls.weight.errors?null:r.formDiagnosis.controls.weight.errors.min)||(null==r.formDiagnosis.controls.weight.errors?null:r.formDiagnosis.controls.weight.errors.max)),e.xp6(6),e.Q6J("hidden",r.formDiagnosis.controls.temperature.pristine||!r.formDiagnosis.controls.temperature.invalid),e.xp6(1),e.Q6J("ngIf",null==r.formDiagnosis.controls.temperature.errors?null:r.formDiagnosis.controls.temperature.errors.required),e.xp6(1),e.Q6J("ngIf",(null==r.formDiagnosis.controls.temperature.errors?null:r.formDiagnosis.controls.temperature.errors.min)||(null==r.formDiagnosis.controls.temperature.errors?null:r.formDiagnosis.controls.temperature.errors.max)),e.xp6(6),e.Q6J("hidden",r.formDiagnosis.controls.pressure.pristine||!r.formDiagnosis.controls.pressure.invalid),e.xp6(1),e.Q6J("ngIf",null==r.formDiagnosis.controls.pressure.errors?null:r.formDiagnosis.controls.pressure.errors.required),e.xp6(1),e.Q6J("ngIf",(null==r.formDiagnosis.controls.pressure.errors?null:r.formDiagnosis.controls.pressure.errors.min)||(null==r.formDiagnosis.controls.pressure.errors?null:r.formDiagnosis.controls.pressure.errors.max)),e.xp6(1),e.Q6J("ngForOf",r.aditionalField),e.xp6(2),e.Q6J("ngIf",r.aditionalField.length<3),e.xp6(1),e.Q6J("ngIf",r.aditionalField.length>0))},dependencies:[T.sg,T.O5,m._Y,m.Fj,m.wV,m.JJ,m.JL,m.sg,m.u],styles:[".boton[_ngcontent-%COMP%]{background-color:#7cc27c;border-radius:8px;border:2px solid rgb(1,49,1)}.boton[_ngcontent-%COMP%]:hover{background-color:#013501;box-shadow:0 0 20px #1af302cc;color:#fff}"]})}return n})();function nn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Especialista"),e.qZA())}function rn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Especialidad"),e.qZA())}function an(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Paciente"),e.qZA())}function on(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Dia"),e.qZA())}function sn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Hora"),e.qZA())}function ln(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Rese\xf1a"),e.qZA())}function cn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Estado"),e.qZA())}function un(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Acciones"),e.qZA())}function dn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.specialist.lastName,", ",t.specialist.name," ")}}function pn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.speciality," ")}}function mn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.patient.lastName,", ",t.patient.name," ")}}function fn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.day.dayOfWeek,", ",t.day.date," ")}}function _n(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.ALo(2,"hours"),e.ALo(3,"hours"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,t.day.timeStart)," a ",e.lcZ(3,4,t.day.timeEnd)," ")}}function hn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.review," ")}}function gn(n,a){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.state," ")}}function vn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,o=e.oxw(3);return e.KtG(o.cancelAppointment2(r))}),e._uU(1,"C"),e.qZA()}}function wn(n,a){if(1&n&&(e.TgZ(0,"td",16),e.YNc(1,vn,2,0,"button",18),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","Realizado"!=t.state&&"Cancelado"!=t.state&&"Rechazado"!=t.state)}}function bn(n,a){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,dn,2,2,"td",14),e.YNc(2,pn,2,1,"td",14),e.YNc(3,mn,2,2,"td",14),e.YNc(4,fn,2,2,"td",14),e.YNc(5,_n,4,6,"td",14),e.YNc(6,hn,2,1,"td",14),e.YNc(7,gn,2,1,"td",15),e.YNc(8,wn,2,1,"td",14),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0)}}function xn(n,a){if(1&n&&(e.TgZ(0,"table",8)(1,"thead",9)(2,"tr"),e.YNc(3,nn,2,0,"th",10),e.YNc(4,rn,2,0,"th",10),e.YNc(5,an,2,0,"th",10),e.YNc(6,on,2,0,"th",10),e.YNc(7,sn,2,0,"th",10),e.YNc(8,ln,2,0,"th",10),e.YNc(9,cn,2,0,"th",10),e.YNc(10,un,2,0,"th",10),e.qZA()(),e.TgZ(11,"tbody",11),e.YNc(12,bn,9,8,"tr",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(2),e.Q6J("ngForOf",t.listOfAppointmentsFiltered)}}function An(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"h3",4),e._uU(4,"Listado de turnos:"),e.qZA(),e.TgZ(5,"input",6),e.NdJ("keyup",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.searchAppoinment(r))}),e.qZA()()(),e.YNc(6,xn,13,9,"table",7),e.qZA()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",t.aService.appointments)}}function yn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Especialista"),e.qZA())}function Tn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Especialidad"),e.qZA())}function Cn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Paciente"),e.qZA())}function Sn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Dia"),e.qZA())}function Zn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Hora"),e.qZA())}function Dn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Estado"),e.qZA())}function On(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Acciones"),e.qZA())}function kn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.specialist.lastName,", ",t.specialist.name," ")}}function Un(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.speciality," ")}}function In(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.patient.lastName,", ",t.patient.name," ")}}function Nn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.day.dayOfWeek,", ",t.day.date," ")}}function qn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.ALo(2,"hours"),e.ALo(3,"hours"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,t.day.timeStart)," a ",e.lcZ(3,4,t.day.timeEnd)," ")}}function Pn(n,a){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.state," ")}}function Mn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,o=e.oxw(3);return e.KtG(o.cancelAppointment2(r))}),e._uU(1,"C"),e.qZA()}}function En(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,o=e.oxw(3);return e.KtG(o.showReview(r))}),e._uU(1,"R"),e.qZA()}}function Fn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,o=e.oxw(3);return e.KtG(o.showAccept(r))}),e._uU(1,"A"),e.qZA()}}function Yn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,o=e.oxw(3);return e.KtG(o.finishAppointment(r))}),e._uU(1,"F"),e.qZA()}}function Jn(n,a){if(1&n&&(e.TgZ(0,"td",16),e.YNc(1,Mn,2,0,"button",18),e.YNc(2,En,2,0,"button",21),e.YNc(3,Fn,2,0,"button",22),e.YNc(4,Yn,2,0,"button",23),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","Realizado"!=t.state&&"Cancelado"!=t.state&&"Rechazado"!=t.state),e.xp6(1),e.Q6J("ngIf",t.review),e.xp6(1),e.Q6J("ngIf","Pendiente"==t.state),e.xp6(1),e.Q6J("ngIf","Aceptado"==t.state)}}function Qn(n,a){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,kn,2,2,"td",14),e.YNc(2,Un,2,1,"td",14),e.YNc(3,In,2,2,"td",14),e.YNc(4,Nn,2,2,"td",14),e.YNc(5,qn,4,6,"td",14),e.YNc(6,Pn,2,1,"td",15),e.YNc(7,Jn,5,4,"td",14),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0)}}function Ln(n,a){if(1&n&&(e.TgZ(0,"table",8)(1,"thead",9)(2,"tr"),e.YNc(3,yn,2,0,"th",10),e.YNc(4,Tn,2,0,"th",10),e.YNc(5,Cn,2,0,"th",10),e.YNc(6,Sn,2,0,"th",10),e.YNc(7,Zn,2,0,"th",10),e.YNc(8,Dn,2,0,"th",10),e.YNc(9,On,2,0,"th",10),e.qZA()(),e.TgZ(10,"tbody",11),e.YNc(11,Qn,8,7,"tr",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(2),e.Q6J("ngForOf",t.listOfAppointmentsFiltered)}}function Vn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",4)(2,"div",5)(3,"h3",4),e._uU(4,"Listado de turnos:"),e.qZA(),e.TgZ(5,"input",20),e.NdJ("keyup",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.searchAppoinment(r))}),e.qZA()()(),e.YNc(6,Ln,12,8,"table",7),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("hidden",t.hiddenDiagnose),e.xp6(6),e.Q6J("ngIf",t.aService.appointments)}}function Wn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Especialista"),e.qZA())}function Rn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Especialidad"),e.qZA())}function $n(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Paciente"),e.qZA())}function Hn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Dia"),e.qZA())}function jn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Hora"),e.qZA())}function Gn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Estado"),e.qZA())}function Bn(n,a){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Acciones"),e.qZA())}function Kn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.specialist.lastName,", ",t.specialist.name," ")}}function Xn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.speciality," ")}}function zn(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.patient.lastName,", ",t.patient.name," ")}}function ei(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.day.dayOfWeek,", ",t.day.date," ")}}function ti(n,a){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.ALo(2,"hours"),e.ALo(3,"hours"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,t.day.timeStart)," a ",e.lcZ(3,4,t.day.timeEnd)," ")}}function ni(n,a){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.state," ")}}function ii(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,o=e.oxw(3);return e.KtG(o.cancelAppointment2(r))}),e._uU(1,"C"),e.qZA()}}function ri(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,o=e.oxw(3);return e.KtG(o.showReview(r))}),e._uU(1,"R"),e.qZA()}}function ai(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,o=e.oxw(3);return e.KtG(o.showSurvey(r))}),e._uU(1,"E"),e.qZA()}}const oi=function(){return{color:"#ebb734"}};function si(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-rating",31),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw(2).$implicit;return e.KtG(o.calification=r)})("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,o=e.oxw(3);return e.KtG(o.sendRating(r))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.calification)("cancel",!1)("iconOnStyle",e.DdM(3,oi))}}function li(n,a){if(1&n&&(e.TgZ(0,"td",16),e.YNc(1,ii,2,0,"button",18),e.YNc(2,ri,2,0,"button",21),e.YNc(3,ai,2,0,"button",28),e.YNc(4,si,1,4,"p-rating",29),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","Realizado"!=t.state&&"Cancelado"!=t.state&&"Rechazado"!=t.state),e.xp6(1),e.Q6J("ngIf",t.review),e.xp6(1),e.Q6J("ngIf","Realizado"==t.state&&t.review),e.xp6(1),e.Q6J("ngIf","Realizado"==t.state)}}function ci(n,a){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Kn,2,2,"td",14),e.YNc(2,Xn,2,1,"td",14),e.YNc(3,zn,2,2,"td",14),e.YNc(4,ei,2,2,"td",14),e.YNc(5,ti,4,6,"td",14),e.YNc(6,ni,2,1,"td",15),e.YNc(7,li,5,4,"td",14),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0),e.xp6(1),e.Q6J("ngIf",t.listOfAppointmentsFiltered.length>0)}}function ui(n,a){if(1&n&&(e.TgZ(0,"table",8)(1,"thead",9)(2,"tr"),e.YNc(3,Wn,2,0,"th",10),e.YNc(4,Rn,2,0,"th",10),e.YNc(5,$n,2,0,"th",10),e.YNc(6,Hn,2,0,"th",10),e.YNc(7,jn,2,0,"th",10),e.YNc(8,Gn,2,0,"th",10),e.YNc(9,Bn,2,0,"th",10),e.qZA()(),e.TgZ(10,"tbody",11),e.YNc(11,ci,8,7,"tr",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(1),e.Q6J("ngIf",t.aService.appointments.length>0),e.xp6(2),e.Q6J("ngForOf",t.listOfAppointmentsFiltered)}}function di(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"h3",27),e._uU(4,"Listado de turnos:"),e.qZA(),e.TgZ(5,"input",6),e.NdJ("keyup",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.searchAppoinment(r))}),e.qZA()()(),e.YNc(6,ui,12,8,"table",7),e.qZA()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",t.aService.appointments)}}const pi=[{path:"",component:y},{path:"solicitar",component:Jt,canActivate:[(n,a)=>{const t=(0,e.f3M)(B.K);return!(!t.userLogged||"especialista"===t.userLogged.userRole)}]},{path:"turnos",component:(()=>{class n{constructor(t,i,r){this.aService=t,this.alertService=i,this.uService=r,this.listOfAppointmentsFiltered=[],this.listOfAppointmentsFilteredSpec=[],this.listOfAppointmentsFilteredPac=[],this.hiddenDiagnose=!1}ngOnInit(){this.getAllAppointments(),this.ref=this.aService.getAllAppointments().subscribe(t=>{this.listOfAppointmentsFiltered=t,"especialista"==this.uService.userLogged?.userRole?this.listOfAppointmentsFiltered=this.aService.appointments.filter(i=>i.specialist.userId==this.uService.userLogged?.userId):"paciente"==this.uService.userLogged?.userRole&&(this.listOfAppointmentsFiltered=this.aService.appointments.filter(i=>i.patient.userId==this.uService.userLogged?.userId)),this.unsub()},t=>{console.error("Error al obtener datos:",t)})}unsub(){this.ref.unsubscribe()}getAllAppointments(){var t=this;return(0,g.Z)(function*(){yield t.aService.getAppointments()})()}searchAppoinment(t){const r=t.target.value.toLowerCase();this.listOfAppointmentsFiltered=this.aService.appointments.filter("paciente"==this.uService.userLogged?.userRole?o=>o.patient.userId==this.uService.userLogged?.userId&&(o.speciality?.toLowerCase().includes(r)||o.specialist.lastName.toLowerCase().includes(r)||this.filterDiagnosis(o,r)||o.specialist.name.toLowerCase().includes(r)):"especialista"==this.uService.userLogged?.userRole?o=>o.specialist.userId==this.uService.userLogged?.userId&&(o.speciality?.toLowerCase().includes(r)||o.patient.lastName.toLowerCase().includes(r)||this.filterDiagnosis(o,r)||o.patient.name.toLowerCase().includes(r)):o=>o.speciality?.toLowerCase().includes(r)||o.specialist.lastName.toLowerCase().includes(r)||o.specialist.name.toLowerCase().includes(r))}filterDiagnosis(t,i){let r=!1;const{pressure:o,weight:s,height:l,temperature:u,dynamicData:c}=t.diagnosis;return(o.toString().includes(i)||s.toString().includes(i)||l.toString().includes(i)||u.toString().includes(i)||t.state?.toLowerCase().includes(i)||t.day.dayOfWeek.toLowerCase().includes(i)||t.day.date?.toString().includes(i)||t.day.timeStart.toString().includes(i)||t.day.timeEnd.toString().includes(i))&&(r=!0),c.forEach(d=>{(d.key.toLowerCase().includes(i.toLowerCase())||d.value.toLowerCase().includes(i))&&(r=!0)}),r}cancelAppointment2(t){var i=this;return(0,g.Z)(function*(){let r=yield i.alertService.showConfirm({icon:"info",message:"Ingrese la razon de la cancelacion:",input:"text"});null!=r&&0!=r?(yield i.aService.saveAppointmentWithIdInStore(t?.id,{...t,state:"Cancelado",review:r}),yield i.alertService.showAlert({icon:"success",message:"Turno CANCELADO con exito",timer:2e3}),i.listOfAppointmentsFiltered=i.aService.appointments.filter("paciente"==i.uService.userLogged?.userRole?o=>o.patient.userId==i.uService.userLogged?.userId:"especialista"==i.uService.userLogged?.userRole?o=>o.specialist.userId==i.uService.userLogged?.userId:o=>o.specialist.speciality.description.includes("")||o.specialist.lastName.toLowerCase().includes("")||o.specialist.name.toLowerCase().includes(""))):yield i.alertService.showAlert({icon:"error",message:"Debe dejar una rese\xf1a al momento cancelar el turno",timer:2e3})})()}finishAppointment(t){var i=this;return(0,g.Z)(function*(){i.review=yield i.alertService.showConfirm({icon:"info",message:"Ingrese una rese\xf1a:",input:"text"}),""!=i.review?(i.hiddenDiagnose=!0,i.selectedAppointment=t):yield i.alertService.showAlert({icon:"error",message:"Debe dejar una rese\xf1a y el diagnostico para finalizar el turno",timer:2e3})})()}showAccept(t){var i=this;return(0,g.Z)(function*(){try{yield i.aService.saveAppointmentWithIdInStore(t?.id,{...t,state:"Aceptado"}),yield i.alertService.showAlert({icon:"success",message:"Turno Aceptado con exito",timer:2e3}),i.listOfAppointmentsFiltered=i.aService.appointments.filter(r=>r.specialist.userId==i.uService.userLogged?.userId)}catch(r){yield i.alertService.showAlert({icon:"error",message:r.message,timer:2e3})}})()}showSurvey(t){var i=this;return(0,g.Z)(function*(){let r=yield i.alertService.showSurvey({icon:"info",message:"\xbfRecomendario nuestra pagina a sus amigos?",input:"radio",inputOptions:{Si:"Si",No:"No"}}),o=yield i.alertService.showSurvey({icon:"info",message:"\xbfConsideras que nuestro sitio web es facil de usar/navegar?",input:"radio",inputOptions:{Si:"Si",No:"No","Mas o Menos":"Mas o Menos"}}),s=yield i.alertService.showSurvey({icon:"info",message:"Indica como encontraste nuestra pagina:",input:"radio",inputOptions:{Internet:"Internet",Amigos:"Amigos",Noticias:"Noticias"}});if(r&&o&&s){let l=new X({question:"\xbfRecomendarias nuestro sitio web a tus amigos?",response:r}),u=new X({question:"\xbfConsideras que nuestro sitio web es facil de usar/navegar?",response:o}),c=new X({question:"Indica como encontraste nuestra pagina:",response:s}),h=[];h.push(l),h.push(u),h.push(c);let d=new Qt({questions:h});yield i.aService.saveAppointmentWithIdInStore(t?.id,{...t,survey:d}),yield i.alertService.showAlert({icon:"success",message:"Encuesta cargada con exito.",timer:2e3})}})()}showReview(t){var i=this;return(0,g.Z)(function*(){i.alertService.showSimple(t.review)})()}sendRating(t){var i=this;return(0,g.Z)(function*(){let r=yield i.alertService.showConfirm({icon:"info",message:"Ingrese un comentario:",input:"text"});null!=r&&0!=r&&(yield i.aService.saveAppointmentWithIdInStore(t?.id,{...t,comment:r}),yield i.alertService.showAlert({icon:"success",message:"Calificado con exito.",timer:2e3}))})()}handleDiagnosis(t){var i=this;return(0,g.Z)(function*(){if(i.hiddenDiagnose=!1,i.diagnosis=t,null!=i.review&&""!=i.review&&null!=i.diagnosis)try{yield i.aService.saveAppointmentWithIdInStore(i.selectedAppointment?.id,{...i.selectedAppointment,state:"Realizado",review:i.review,diagnosis:i.diagnosis}),yield i.alertService.showAlert({icon:"success",message:"Turno Finalizado con exito",timer:2e3}),i.listOfAppointmentsFiltered=i.aService.appointments.filter(r=>r.specialist.userId==i.uService.userLogged?.userId),i.selectedAppointment=void 0,i.review=void 0}catch(r){yield i.alertService.showAlert({icon:"error",message:r.message,timer:2e3})}})()}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(fe.H),e.Y36(K.c),e.Y36(B.K))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-appointments"]],decls:5,vars:4,consts:[[4,"ngIf"],[3,"hidden",4,"ngIf"],[3,"hidden"],[3,"eventSendDiagnosis"],[1,"row","w-100","justify-content-center"],[1,"col-5"],["type","text","placeholder","Ingrese especialidad o nombre del especialista para filtrar...",1,"form-control","p-2","mb-2",3,"keyup"],["class","table table-striped table-ligth",4,"ngIf"],[1,"table","table-striped","table-ligth"],[1,"table-info"],["class","text-center fw-bold",4,"ngIf"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],[1,"text-center","fw-bold"],["class","text-center",4,"ngIf"],["class","text-center bg-state",4,"ngIf"],[1,"text-center"],[1,"text-center","bg-state"],["class","btn btn-danger m-1","type","button","title","CANCELAR",3,"click",4,"ngIf"],["type","button","title","CANCELAR",1,"btn","btn-danger","m-1",3,"click"],["type","text","placeholder","Ingrese especialidad o nombre del paciente para filtrar...",1,"form-control","p-2","mb-2",3,"keyup"],["class","btn btn-warning m-1","type","button","title","RESE\xd1A",3,"click",4,"ngIf"],["class","btn btn-success m-1","type","button","title","ACEPTAR",3,"click",4,"ngIf"],["class","btn btn-success m-1","type","button","title","FINALIZAR",3,"click",4,"ngIf"],["type","button","title","RESE\xd1A",1,"btn","btn-warning","m-1",3,"click"],["type","button","title","ACEPTAR",1,"btn","btn-success","m-1",3,"click"],["type","button","title","FINALIZAR",1,"btn","btn-success","m-1",3,"click"],[1,"row","w-100","justify-content-center","p-2"],["class","btn btn-primary m-1","type","button","title","ENCUESTA",3,"click",4,"ngIf"],["class","p-3 m-3","title","CALIFICACI\xd3N",3,"ngModel","cancel","iconOnStyle","ngModelChange","click",4,"ngIf"],["type","button","title","ENCUESTA",1,"btn","btn-primary","m-1",3,"click"],["title","CALIFICACI\xd3N",1,"p-3","m-3",3,"ngModel","cancel","iconOnStyle","ngModelChange","click"]],template:function(i,r){1&i&&(e.YNc(0,An,7,1,"div",0),e.YNc(1,Vn,7,2,"div",1),e.YNc(2,di,7,1,"div",0),e.TgZ(3,"div",2)(4,"app-diagnosis",3),e.NdJ("eventSendDiagnosis",function(s){return r.handleDiagnosis(s)}),e.qZA()()),2&i&&(e.Q6J("ngIf","admin"==(null==r.uService.userLogged?null:r.uService.userLogged.userRole)),e.xp6(1),e.Q6J("ngIf","especialista"==(null==r.uService.userLogged?null:r.uService.userLogged.userRole)),e.xp6(1),e.Q6J("ngIf","paciente"==(null==r.uService.userLogged?null:r.uService.userLogged.userRole)),e.xp6(1),e.Q6J("hidden",!r.hiddenDiagnose))},dependencies:[T.sg,T.O5,m.JJ,m.On,he.iG,tn,_e.X],styles:[".bg-state[_ngcontent-%COMP%]{background-color:#f0f8ff;font-weight:700;text-decoration:underline}.ratings_size[_ngcontent-%COMP%]{transform:scale(3)}.swal2-radio[_ngcontent-%COMP%]{display:grid!important;text-align:left!important}"]})}return n})()}];let mi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[O.Bz.forChild(pi),O.Bz]})}return n})();var fi=f(103);let _i=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[T.ez,mi,m.UX,m.u5,he.Xt,fi.D]})}return n})()},6084:(re,P,f)=>{f.d(P,{d:()=>j});var T=f(5861),O=f(4036),e=f(9468),y=f(3384),g=f(388);let j=(()=>{class x{constructor(_,A){this.firebaseStoreProvider=_,this.firebaseStorageProvider=A}getAllSpecialities(){var _=this;return(0,T.Z)(function*(){let A=yield(0,O.z)(_.firebaseStoreProvider.getCollection("specialities"));return A=yield Promise.all(A.map(function(){var w=(0,T.Z)(function*(I){return{...I,image:yield _.getSpecialityPhoto(I)}});return function(I){return w.apply(this,arguments)}}())),A})()}addSpeciality(_){var A=this;return(0,T.Z)(function*(){let w=!1;if((yield A.getAllSpecialities()).forEach(S=>{S.description==_.description&&(w=!0)}),!w){const S=A.firebaseStoreProvider.createDoc("specialities");return A.firebaseStoreProvider.saveDoc(S,JSON.parse(JSON.stringify(_)))}})()}getSpecialityPhoto(_){var A=this;return(0,T.Z)(function*(){try{const w=A.firebaseStorageProvider.referenceCloudStorage(_.image);return yield A.firebaseStorageProvider.getUrlFromFile(w)}catch{}})()}static#e=this.\u0275fac=function(A){return new(A||x)(e.LFG(y.f),e.LFG(g.O))};static#t=this.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()}}]);