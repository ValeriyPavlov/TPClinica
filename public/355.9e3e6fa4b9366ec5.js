"use strict";(self.webpackChunkTPClinica=self.webpackChunkTPClinica||[]).push([[355],{4355:(D,m,o)=>{o.r(m),o.d(m,{UsersModule:()=>X});var c=o(6814),d=o(6024),a=o(5861),e=o(9468),u=o(9547),g=o(951),h=o(8642),f=o(3251),_=o(8672),b=o(5710),T=o(4212),U=o(3175);let v=(()=>{class t{transform(n){return n}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275pipe=e.Yjl({name:"specialist",type:t,pure:!0})}return t})();var x=o(4553);function Z(t,l){if(1&t&&(e.TgZ(0,"th",14),e._uU(1),e.ALo(2,"uppercase"),e.ALo(3,"keysToSpanish"),e.qZA()),2&t){const n=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,n.key))," ")}}function w(t,l){1&t&&(e.TgZ(0,"th"),e._uU(1,"Accion"),e.qZA())}function C(t,l){1&t&&e._UZ(0,"td",19)}function y(t,l){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"speciality"),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.value)," ")}}function A(t,l){}function S(t,l){1&t&&e.YNc(0,A,0,0,"ng-template")}function k(t,l){if(1&t&&e._UZ(0,"img",26),2&t){const n=e.oxw(2).$implicit;e.s9C("src",n.value,e.LSH)}}function O(t,l){if(1&t&&(e._uU(0),e.ALo(1,"booleans")),2&t){const n=e.oxw(2).$implicit;e.Oqu(e.lcZ(1,1,n.value))}}function J(t,l){if(1&t&&(e.YNc(0,S,1,0,null,23),e.YNc(1,k,1,1,"ng-template",null,24,e.W1O),e.YNc(3,O,2,3,"ng-template",null,25,e.W1O)),2&t){const n=e.MAs(2),s=e.MAs(4),i=e.oxw().$implicit;e.Q6J("ngIf",i.key.startsWith("profilePh"))("ngIfThen",n)("ngIfElse",s)}}function N(t,l){if(1&t&&(e.TgZ(0,"td",19),e.YNc(1,y,3,3,"div",21),e.YNc(2,J,5,3,"ng-template",null,22,e.W1O),e.qZA()),2&t){const n=l.$implicit,s=e.MAs(3);e.xp6(1),e.Q6J("ngIf","speciality"===n.key)("ngIfElse",s)}}function I(t,l){if(1&t&&(e.YNc(0,N,4,2,"td",20),e.ALo(1,"keyvalue"),e.ALo(2,"specialist")),2&t){const n=e.oxw().$implicit;e.Q6J("ngForOf",e.lcZ(1,1,e.lcZ(2,3,n)))}}function Y(t,l){}function Q(t,l){1&t&&e.YNc(0,Y,0,0,"ng-template")}function E(t,l){if(1&t&&e._UZ(0,"img",29),2&t){const n=e.oxw().$implicit;e.s9C("src",n.value,e.LSH)}}function F(t,l){if(1&t&&(e._uU(0),e.ALo(1,"booleans")),2&t){const n=e.oxw().$implicit;e.Oqu(e.lcZ(1,1,n.value))}}function M(t,l){if(1&t&&(e.TgZ(0,"td",19),e.YNc(1,Q,1,0,null,23),e.YNc(2,E,1,1,"ng-template",null,27,e.W1O),e.YNc(4,F,2,3,"ng-template",null,28,e.W1O),e.qZA()),2&t){const n=l.$implicit,s=e.MAs(3),i=e.MAs(5);e.xp6(1),e.Q6J("ngIf",n.key.startsWith("profilePh"))("ngIfThen",s)("ngIfElse",i)}}function P(t,l){if(1&t&&(e.YNc(0,M,6,3,"td",20),e.ALo(1,"keyvalue")),2&t){const n=e.oxw().$implicit;e.Q6J("ngForOf",e.lcZ(1,1,n))}}function H(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"i",32),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.validateSpecialist(i))}),e._UZ(1,"img",33),e.qZA()}}function L(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"i",34),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.validateSpecialist(i))}),e._UZ(1,"img",35),e.qZA()}}function j(t,l){if(1&t&&(e.TgZ(0,"td",19),e.YNc(1,H,2,0,"i",30),e.ALo(2,"specialist"),e.YNc(3,L,2,0,"i",31),e.ALo(4,"specialist"),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(2,2,n).verifiedByAdmin),e.xp6(2),e.Q6J("ngIf",!0===e.lcZ(4,4,n).verifiedByAdmin)}}function $(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"td",19)(1,"button",36),e.NdJ("click",function(){e.CHM(n);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.selectUser(i))}),e._uU(2,"Historial"),e.qZA()()}}function q(t,l){if(1&t&&(e.TgZ(0,"tr"),e.YNc(1,C,1,0,"td",15),e.YNc(2,I,3,5,"ng-template",null,16,e.W1O),e.YNc(4,P,2,3,"ng-template",null,17,e.W1O),e.YNc(6,j,5,6,"td",18),e.YNc(7,$,3,0,"td",18),e.qZA()),2&t){const n=e.MAs(3),s=e.MAs(5),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","especialista"===i.roleOption)("ngIfThen",n)("ngIfElse",s),e.xp6(5),e.Q6J("ngIf","especialista"===i.roleOption),e.xp6(1),e.Q6J("ngIf","paciente"===i.roleOption)}}function B(t,l){if(1&t&&(e.TgZ(0,"table",8)(1,"thead",9)(2,"tr"),e.YNc(3,Z,4,5,"th",10),e.ALo(4,"keyvalue"),e.YNc(5,w,2,0,"th",11),e.qZA()(),e.TgZ(6,"tbody",12),e.YNc(7,q,8,5,"tr",13),e.qZA()()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,3,n.list[0])),e.xp6(2),e.Q6J("ngIf","admin"!==n.roleOption),e.xp6(2),e.Q6J("ngForOf",n.list)}}let W=(()=>{class t{constructor(n,s,i,r){this.userService=n,this.alertService=s,this.sService=i,this.aService=r,this.eventSendUser=new e.vpe,this.eventShowTable=new e.vpe,this.showTable=!0,this.hideMedicalRecord=!0,this.myAppointments=[]}return(){this.showTable=!this.showTable,this.eventShowTable.emit(this.showTable)}validateSpecialist(n){var s=this;return(0,a.Z)(function*(){try{s.sService.show();const i=yield s.userService.authorizeSpecialistByAdmin(n);s.sService.hide(),i?yield s.alertService.showAlert({icon:"success",message:"Especialista habilitado con exito",timer:2e3}):yield s.alertService.showAlert({icon:"success",message:"Especialista inhabilitado con exito",timer:2e3})}catch(i){yield s.alertService.showAlert({icon:"error",message:i.message,timer:2e3})}})()}returnToTable(){}selectUser(n){this.eventSendUser.emit(n)}static#e=this.\u0275fac=function(s){return new(s||t)(e.Y36(u.K),e.Y36(f.c),e.Y36(_.t2),e.Y36(b.H))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-users-table"]],inputs:{list:"list",roleOption:"roleOption",showTable:"showTable"},outputs:{eventSendUser:"eventSendUser",eventShowTable:"eventShowTable"},decls:8,vars:2,consts:[["type","ball-scale-multiple"],["src","../../../../assets/img/loader.gif","alt",""],[1,"h-100","p-4",3,"hidden"],[1,"w-100","row","justify-content-center","justify-content-sm-start","p-2","m-0"],["title","Volver",1,"col-sm-1","col-md-2","col-8","btn","btn-warning",3,"click"],[1,"fa-solid","fa-circle-arrow-left"],[1,"table-responsive"],["class","table table-striped table-ligth",4,"ngIf"],[1,"table","table-striped","table-ligth"],[1,"table-dark"],["class","text-center fw-bold",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],[1,"text-center","fw-bold"],["class","text-center",4,"ngIf","ngIfThen","ngIfElse"],["thenEspecialistBlock",""],["elseEspcialistBlock",""],["class","text-center",4,"ngIf"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseSpecialityBlock",""],[4,"ngIf","ngIfThen","ngIfElse"],["thenProfilePhoto",""],["elseProfilePhoto",""],["alt","foto_perfil",1,"img-fluid","rounded","rounded-3",3,"src"],["thenElseEspcialistBlockProfilePhoto",""],["elseElseEspcialistBlockProfilePhoto",""],["alt","foto_perfil",1,"p-1","img-fluid","rounded","rounded-3",3,"src"],["title","Habilitar","class","btn btn-outline-success",3,"click",4,"ngIf"],["title","Inhabilitar","class","btn btn-outline-danger",3,"click",4,"ngIf"],["title","Habilitar",1,"btn","btn-outline-success",3,"click"],["src","../../../../assets/img/check.png","alt","Habilitar",2,"width","35px","height","35px"],["title","Inhabilitar",1,"btn","btn-outline-danger",3,"click"],["src","../../../../assets/img/cross.png","alt","Inhabilitar",2,"width","35px","height","35px"],[1,"btn","btn-warning",2,"width","80px","height","35px",3,"click"]],template:function(s,i){1&s&&(e.TgZ(0,"ngx-spinner",0),e._UZ(1,"img",1),e.qZA(),e.TgZ(2,"section",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return i.return()}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,B,8,5,"table",7),e.qZA()()),2&s&&(e.xp6(2),e.Q6J("hidden",i.showTable),e.xp6(5),e.Q6J("ngIf",i.list))},dependencies:[c.sg,c.O5,_.Ro,c.gd,c.Nd,T.x,U.U,v,x.t],styles:["@media (min-width: 1000px){img[_ngcontent-%COMP%]{width:64px;height:64px}}"]})}return t})();const R=[{path:"",component:(()=>{class t{constructor(n){this.userService=n,this.setListOfUsers(),this.listUsers=this.userService.users,this.showTable=!0,this.showHistory=!1}chooseListOption(n){var s=this;return(0,a.Z)(function*(){s.userOption=n,s.listFiltered=s.userService.users?.filter(i=>i.userRole===n),s.showTable=!s.showTable,s.listChoseOption=n})()}setListOfUsers(){var n=this;return(0,a.Z)(function*(){yield n.userService.getUsers()})()}activateCreateUsers(){this.showCreateUsers=!0}return(){this.showCreateUsers=!1}handlerUpdateView(n){this.showTable=n}handleSelectUser(n){this.selectedUser=n,this.showHistory=!0}returnFromHistory(){this.showHistory=!1}downloadUsersAsExcel(){this.userService.exportUsersToXls(this.userService.users,"usuarios")}static#e=this.\u0275fac=function(s){return new(s||t)(e.Y36(u.K))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-users"]],decls:36,vars:10,consts:[[1,"justify-content-center","align-items-center",3,"hidden"],["title","Volver",1,"btn","btn-warning",3,"click"],[1,"fa-solid","fa-circle-arrow-left"],[3,"selectedUser"],[1,"row","justify-content-end","w-100","p-0","m-0",3,"hidden"],[1,"p-5","mt-4","shadow","bg-body-tertiary","rounded-3"],[1,"container-fluid","py-5"],[1,"text-center","display-5","fw-bold"],[1,"row","justify-content-center","align-items-center","m-0","p-0","w-100",3,"hidden"],["title","Pacientes",1,"col-xxl-1","col-sm-2","col-6","m-1","p-3","btn","boton","rounded-circle",3,"click"],["src","../../../assets/img/paciente.jpg","alt","Pacientes",1,"card-img","img-fluid","rounded-circle"],["title","Especialistas",1,"col-xxl-1","col-sm-2","col-6","m-1","p-3","btn","boton","rounded-circle",3,"click"],["src","../../../assets/img/doctor.jpg","alt","Especialistas",1,"card-img","img-fluid","rounded-circle"],["title","Administradores",1,"col-xxl-1","col-sm-2","col-6","m-1","p-3","btn","boton","rounded-circle",3,"click"],["src","../../../assets/img/admin.png","alt","Administradores",1,"card-img","img-fluid","rounded-circle"],[1,"d-flex","flex-row","justify-content-center","align-items-center","p-2","m-2"],[1,"btn","boton2",3,"click"],["src","../../../assets/img/excel.png","alt","excel",2,"width","75px","height","50px"],[3,"list","showTable","roleOption","eventShowTable","eventSendUser"],[1,"w-100","row","justify-content-center","justify-content-sm-center","p-2","m-0"],["type","button","value","Comenzar",1,"col-sm-1","col-md-2","col-8","btn","boton2",3,"click"],[1,"mt-4","rounded-3",3,"hidden"],[1,"container-fluid"],["title","Salir del Alta",1,"col-sm-1","col-md-2","col-8","btn","btn-warning",3,"click"]],template:function(s,i){1&s&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return i.returnFromHistory()}),e._UZ(2,"i",2),e._uU(3,"Volver"),e.qZA(),e._UZ(4,"app-history",3),e.qZA(),e.TgZ(5,"section",4)(6,"div",5)(7,"div",6)(8,"h1",7),e._uU(9,"Usuarios Registrados"),e.qZA(),e.TgZ(10,"section",8)(11,"button",9),e.NdJ("click",function(){return i.chooseListOption("paciente")}),e._UZ(12,"img",10),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){return i.chooseListOption("especialista")}),e._UZ(14,"img",12),e.qZA(),e.TgZ(15,"button",13),e.NdJ("click",function(){return i.chooseListOption("admin")}),e._UZ(16,"img",14),e.qZA()(),e.TgZ(17,"div",15)(18,"button",16),e.NdJ("click",function(){return i.downloadUsersAsExcel()}),e._uU(19,"Descargar Usuarios "),e._UZ(20,"img",17),e.qZA()()()(),e.TgZ(21,"app-users-table",18),e.NdJ("eventShowTable",function(p){return i.handlerUpdateView(p)})("eventSendUser",function(p){return i.handleSelectUser(p)}),e.qZA()(),e.TgZ(22,"section",4)(23,"div",5)(24,"div",6)(25,"h1",7),e._uU(26,"Alta Usuarios"),e.qZA(),e.TgZ(27,"section",8)(28,"div",19)(29,"input",20),e.NdJ("click",function(){return i.activateCreateUsers()}),e.qZA()()(),e.TgZ(30,"div",21)(31,"div",22)(32,"div",19)(33,"button",23),e.NdJ("click",function(){return i.return()}),e._uU(34,"Salir del Alta"),e.qZA()(),e._UZ(35,"app-register"),e.qZA()()()()()),2&s&&(e.Q6J("hidden",!i.showHistory),e.xp6(4),e.Q6J("selectedUser",i.selectedUser),e.xp6(1),e.Q6J("hidden",i.showHistory),e.xp6(5),e.Q6J("hidden",!i.showTable),e.xp6(11),e.Q6J("list",i.listFiltered)("showTable",i.showTable)("roleOption",i.listChoseOption),e.xp6(1),e.Q6J("hidden",i.showHistory),e.xp6(5),e.Q6J("hidden",i.showCreateUsers),e.xp6(3),e.Q6J("hidden",!i.showCreateUsers))},dependencies:[g.y,h.u,W],styles:[".text-shadow[_ngcontent-%COMP%]{cursor:pointer;background-color:#f5f5f5;opacity:75%;padding:.3rem;border-radius:1rem;font-weight:700}.boton[_ngcontent-%COMP%]{background-color:#bae7f7}.boton[_ngcontent-%COMP%]:hover{background-color:#4801fd;box-shadow:0 0 20px #6100c8cc}.boton2[_ngcontent-%COMP%]{background-color:#6ac35a;border:2px solid black}.boton2[_ngcontent-%COMP%]:hover{background-color:#02510f;box-shadow:0 0 20px #338a01cc;color:#fff}"]})}return t})()}];let z=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(R),d.Bz]})}return t})();var K=o(8147),V=o(103),G=o(6710);let X=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[c.ez,z,K.RegisterModule,_.ef,V.D,G.H]})}return t})()}}]);