"use strict";(self.webpackChunkTPClinica=self.webpackChunkTPClinica||[]).push([[572],{8572:(S,l,o)=>{o.r(l),o.d(l,{PatientsModule:()=>w});var r=o(6814),a=o(6024),p=o(5861),t=o(9468),u=o(7615),h=o(3251),m=o(8672),f=o(5710),v=o(8642);function g(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"div",5)(1,"button",9),t.NdJ("click",function(){const c=t.CHM(e).$implicit,Z=t.oxw();return t.KtG(Z.selectUser(c))}),t._UZ(2,"img",10),t.TgZ(3,"h5"),t._uU(4),t.qZA()()()}if(2&s){const e=d.$implicit;t.xp6(2),t.s9C("src",e.profilePhoto,t.LSH),t.xp6(2),t.AsE("",e.lastName,", ",e.name,"")}}function x(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"div")(1,"button",11),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.return())}),t._UZ(2,"i",12),t._uU(3,"Volver "),t.qZA(),t.TgZ(4,"div",13)(5,"h3",14),t._uU(6,"Historial Cl\xednico de"),t.qZA(),t.TgZ(7,"h3",15),t._uU(8),t.qZA()(),t._UZ(9,"app-history",16),t.qZA()}if(2&s){const e=t.oxw();t.xp6(8),t.AsE(" ",e.selectedUser.lastName,", ",e.selectedUser.name,""),t.xp6(1),t.Q6J("selectedUser",e.selectedUser)}}const T=[{path:"",component:(()=>{class s{constructor(e,i,n,c){this.userService=e,this.alertService=i,this.sService=n,this.aService=c,this.eventSendUser=new t.vpe,this.eventShowTable=new t.vpe,this.showTable=!0,this.hideMedicalRecord=!0,this.myAppointments=[],this.list=[],this.listOfAppointments=[]}ngOnInit(){this.getAllAppointments(),this.ref=this.aService.getAllAppointments().subscribe(e=>{this.listOfAppointments=e,this.myAppointments=this.aService.appointments.filter(n=>n.specialist.userId==this.userService.userLogged?.userId&&"Realizado"==n.state);let i={};this.myAppointments=this.myAppointments.filter(n=>!i[n.patient.userId]&&(i[n.patient.userId]=!0,!0)),this.myAppointments.map(n=>{this.list?.push(n.patient)}),this.unsub()},e=>{console.error("Error al obtener datos:",e)})}unsub(){this.ref.unsubscribe()}getAllAppointments(){var e=this;return(0,p.Z)(function*(){yield e.aService.getAppointments()})()}return(){this.showTable=!this.showTable}selectUser(e){this.selectedUser=e,this.showTable=!this.showTable}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(u.K),t.Y36(h.c),t.Y36(m.t2),t.Y36(f.H))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-patients"]],inputs:{roleOption:"roleOption",showTable:"showTable"},outputs:{eventSendUser:"eventSendUser",eventShowTable:"eventShowTable"},decls:10,vars:6,consts:[[1,"h-100","p-4",3,"hidden"],[1,"w-100","row","justify-content-center","justify-content-sm-start","p-2","m-0"],[1,"table-responsive"],[1,"d-flex","align-items-center","justify-content-center","p-2","m-2"],[2,"text-decoration-line","underline"],[1,"d-flex","flex-row","align-items-center","justify-content-center","p-2","m-2"],["class","d-flex flex-row align-items-center justify-content-center p-2 m-2",4,"ngFor","ngForOf"],[3,"hidden"],[4,"ngIf"],[1,"col-xxl-1","col-sm-2","col-6","m-1","p-3","rounded-circle","d-flex","flex-column","align-items-center","justify-content-center","boton",2,"width","200px","height","200px",3,"click"],["alt","foto_paciente",1,"card-img","img-fluid","rounded-circle",2,"height","100px","width","100px",3,"src"],["title","Volver",1,"col-sm-1","col-md-2","col-8","btn","btn-warning","m-2","p-2",3,"click"],[1,"fa-solid","fa-circle-arrow-left"],[1,"d-flex","flex-row","justify-content-center","align-items-center"],[1,"text-center",2,"padding-right","15px"],[1,"text-center","fw-bold"],[3,"selectedUser"]],template:function(i,n){1&i&&(t.TgZ(0,"section",0),t._UZ(1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.qZA()(),t.TgZ(6,"div",5),t.YNc(7,g,5,3,"div",6),t.qZA()()(),t.TgZ(8,"div",7),t.YNc(9,x,10,3,"div",8),t.qZA()),2&i&&(t.Q6J("hidden",!n.showTable),t.xp6(5),t.AsE("Pacientes de ",null==n.userService.userLogged?null:n.userService.userLogged.lastName,", ",null==n.userService.userLogged?null:n.userService.userLogged.name,":"),t.xp6(2),t.Q6J("ngForOf",n.list),t.xp6(1),t.Q6J("hidden",n.showTable),t.xp6(1),t.Q6J("ngIf",null!=n.selectedUser))},dependencies:[r.sg,r.O5,v.u],styles:[".boton[_ngcontent-%COMP%]{border:0px;background-color:#71d4f8;box-shadow:4px 4px 8px #00000080}.boton[_ngcontent-%COMP%]:hover{border:0px;background-color:#363699;color:#fff;box-shadow:6px 6px 12px #000000bf}"]})}return s})()}];let b=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=t.oAB({type:s});static#n=this.\u0275inj=t.cJS({imports:[a.Bz.forChild(T),a.Bz]})}return s})();var A=o(103),y=o(6710);let w=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=t.oAB({type:s});static#n=this.\u0275inj=t.cJS({imports:[r.ez,b,A.D,y.H]})}return s})()}}]);