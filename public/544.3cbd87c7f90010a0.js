"use strict";(self.webpackChunkTPClinica=self.webpackChunkTPClinica||[]).push([[544],{1544:(K,p,a)=>{a.r(p),a.d(p,{UsersModule:()=>W});var c=a(6814),m=a(6024),r=a(5861),e=a(9468),u=a(563),d=a(1364),f=a(3251),_=a(8672);let g=(()=>{class t{transform(i){return i}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=e.Yjl({name:"specialist",type:t,pure:!0})}return t})(),h=(()=>{class t{transform(i,...n){return[{key:"userId",value:"ID"},{key:"name",value:"Nombre"},{key:"lastName",value:"Apellido"},{key:"age",value:"Edad"},{key:"dni",value:"DNI"},{key:"email",value:"E-mail"},{key:"password",value:"Contrase\xf1a"},{key:"socialWork",value:"Obra Social"},{key:"speciality",value:"Especialidad"},{key:"userRole",value:"Rol"},{key:"profilePhoto",value:"Foto1"},{key:"profilePhotoTwo",value:"Foto2"},{key:"verified",value:"E-mail Verificado"},{key:"verifiedByAdmin",value:"Verificado por Admin"}].find(o=>o.key===i)?.value}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=e.Yjl({name:"keysToSpanish",type:t,pure:!0})}return t})(),b=(()=>{class t{transform(i,...n){return i.description}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=e.Yjl({name:"speciality",type:t,pure:!0})}return t})();function T(t,l){if(1&t&&(e.TgZ(0,"th",14),e._uU(1),e.ALo(2,"uppercase"),e.ALo(3,"keysToSpanish"),e.qZA()),2&t){const i=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,i.key))," ")}}function v(t,l){1&t&&(e.TgZ(0,"th"),e._uU(1,"Accion"),e.qZA())}function y(t,l){1&t&&e._UZ(0,"td",19)}function U(t,l){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"speciality"),e.qZA()),2&t){const i=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,i.value)," ")}}function w(t,l){}function x(t,l){1&t&&e.YNc(0,w,0,0,"ng-template")}function Z(t,l){if(1&t&&e._UZ(0,"img",26),2&t){const i=e.oxw(2).$implicit;e.s9C("src",i.value,e.LSH)}}function C(t,l){if(1&t&&e._uU(0),2&t){const i=e.oxw(2).$implicit;e.Oqu(i.value)}}function A(t,l){if(1&t&&(e.YNc(0,x,1,0,null,23),e.YNc(1,Z,1,1,"ng-template",null,24,e.W1O),e.YNc(3,C,1,1,"ng-template",null,25,e.W1O)),2&t){const i=e.MAs(2),n=e.MAs(4),s=e.oxw().$implicit;e.Q6J("ngIf",s.key.startsWith("profilePh"))("ngIfThen",i)("ngIfElse",n)}}function k(t,l){if(1&t&&(e.TgZ(0,"td",19),e.YNc(1,U,3,3,"div",21),e.YNc(2,A,5,3,"ng-template",null,22,e.W1O),e.qZA()),2&t){const i=l.$implicit,n=e.MAs(3);e.xp6(1),e.Q6J("ngIf","speciality"===i.key)("ngIfElse",n)}}function S(t,l){if(1&t&&(e.YNc(0,k,4,2,"td",20),e.ALo(1,"keyvalue"),e.ALo(2,"specialist")),2&t){const i=e.oxw().$implicit;e.Q6J("ngForOf",e.lcZ(1,1,e.lcZ(2,3,i)))}}function O(t,l){}function I(t,l){1&t&&e.YNc(0,O,0,0,"ng-template")}function N(t,l){if(1&t&&e._UZ(0,"img",29),2&t){const i=e.oxw().$implicit;e.s9C("src",i.value,e.LSH)}}function J(t,l){if(1&t&&e._uU(0),2&t){const i=e.oxw().$implicit;e.Oqu(i.value)}}function Y(t,l){if(1&t&&(e.TgZ(0,"td",19),e.YNc(1,I,1,0,null,23),e.YNc(2,N,1,1,"ng-template",null,27,e.W1O),e.YNc(4,J,1,1,"ng-template",null,28,e.W1O),e.qZA()),2&t){const i=l.$implicit,n=e.MAs(3),s=e.MAs(5);e.xp6(1),e.Q6J("ngIf",i.key.startsWith("profilePh"))("ngIfThen",n)("ngIfElse",s)}}function E(t,l){if(1&t&&(e.YNc(0,Y,6,3,"td",20),e.ALo(1,"keyvalue")),2&t){const i=e.oxw().$implicit;e.Q6J("ngForOf",e.lcZ(1,1,i))}}function F(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"i",32),e.NdJ("click",function(){e.CHM(i);const s=e.oxw(2).$implicit,o=e.oxw(2);return e.KtG(o.validateSpecialist(s))}),e._UZ(1,"img",33),e.qZA()}}function P(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"i",34),e.NdJ("click",function(){e.CHM(i);const s=e.oxw(2).$implicit,o=e.oxw(2);return e.KtG(o.validateSpecialist(s))}),e._UZ(1,"img",35),e.qZA()}}function Q(t,l){if(1&t&&(e.TgZ(0,"td",19),e.YNc(1,F,2,0,"i",30),e.ALo(2,"specialist"),e.YNc(3,P,2,0,"i",31),e.ALo(4,"specialist"),e.qZA()),2&t){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(2,2,i).verifiedByAdmin),e.xp6(2),e.Q6J("ngIf",!0===e.lcZ(4,4,i).verifiedByAdmin)}}function L(t,l){if(1&t&&(e.TgZ(0,"tr"),e.YNc(1,y,1,0,"td",15),e.YNc(2,S,3,5,"ng-template",null,16,e.W1O),e.YNc(4,E,2,3,"ng-template",null,17,e.W1O),e.YNc(6,Q,5,6,"td",18),e.qZA()),2&t){const i=e.MAs(3),n=e.MAs(5),s=e.oxw(2);e.xp6(1),e.Q6J("ngIf","especialista"===s.roleOption)("ngIfThen",i)("ngIfElse",n),e.xp6(5),e.Q6J("ngIf","especialista"===s.roleOption)}}function M(t,l){if(1&t&&(e.TgZ(0,"table",8)(1,"thead",9)(2,"tr"),e.YNc(3,T,4,5,"th",10),e.ALo(4,"keyvalue"),e.YNc(5,v,2,0,"th",11),e.qZA()(),e.TgZ(6,"tbody",12),e.YNc(7,L,7,4,"tr",13),e.qZA()()),2&t){const i=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,3,i.list[0])),e.xp6(2),e.Q6J("ngIf","especialista"===i.roleOption),e.xp6(2),e.Q6J("ngForOf",i.list)}}let j=(()=>{class t{constructor(i,n,s){this.userService=i,this.alertService=n,this.sService=s,this.eventSendUser=new e.vpe,this.eventShowTable=new e.vpe,this.showTable=!0}return(){this.showTable=!this.showTable,this.eventShowTable.emit(this.showTable)}validateSpecialist(i){var n=this;return(0,r.Z)(function*(){try{n.sService.show();const s=yield n.userService.authorizeSpecialistByAdmin(i);n.sService.hide(),s?yield n.alertService.showAlert({icon:"success",message:"Especialista habilitado con exito",timer:2e3}):yield n.alertService.showAlert({icon:"success",message:"Especialista inhabilitado con exito",timer:2e3})}catch(s){yield n.alertService.showAlert({icon:"error",message:s.message,timer:2e3})}})()}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(u.K),e.Y36(f.c),e.Y36(_.t2))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-users-table"]],inputs:{list:"list",roleOption:"roleOption",showTable:"showTable"},outputs:{eventSendUser:"eventSendUser",eventShowTable:"eventShowTable"},decls:8,vars:2,consts:[["type","ball-scale-multiple"],["src","../../../../assets/img/loader.gif","alt",""],[1,"h-100","p-4",3,"hidden"],[1,"w-100","row","justify-content-center","justify-content-sm-start","p-2","m-0"],["title","Volver",1,"col-sm-1","col-md-2","col-8","btn","btn-warning",3,"click"],[1,"fa-solid","fa-circle-arrow-left"],[1,"table-responsive"],["class","table table-striped table-ligth",4,"ngIf"],[1,"table","table-striped","table-ligth"],[1,"table-dark"],["class","text-center fw-bold",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],[1,"text-center","fw-bold"],["class","text-center",4,"ngIf","ngIfThen","ngIfElse"],["thenEspecialistBlock",""],["elseEspcialistBlock",""],["class","text-center",4,"ngIf"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseSpecialityBlock",""],[4,"ngIf","ngIfThen","ngIfElse"],["thenProfilePhoto",""],["elseProfilePhoto",""],["alt","foto_perfil",1,"img-fluid","rounded","rounded-3",3,"src"],["thenElseEspcialistBlockProfilePhoto",""],["elseElseEspcialistBlockProfilePhoto",""],["alt","foto_perfil",1,"p-1","img-fluid","rounded","rounded-3",3,"src"],["title","Habilitar","class","btn btn-outline-success",3,"click",4,"ngIf"],["title","Inhabilitar","class","btn btn-outline-danger",3,"click",4,"ngIf"],["title","Habilitar",1,"btn","btn-outline-success",3,"click"],["src","../../../../assets/img/check.png","alt","Habilitar",2,"width","35px","height","35px"],["title","Inhabilitar",1,"btn","btn-outline-danger",3,"click"],["src","../../../../assets/img/cross.png","alt","Inhabilitar",2,"width","35px","height","35px"]],template:function(n,s){1&n&&(e.TgZ(0,"ngx-spinner",0),e._UZ(1,"img",1),e.qZA(),e.TgZ(2,"section",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return s.return()}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,M,8,5,"table",7),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("hidden",s.showTable),e.xp6(5),e.Q6J("ngIf",s.list))},dependencies:[c.sg,c.O5,_.Ro,c.gd,c.Nd,g,h,b],styles:["@media (min-width: 1000px){img[_ngcontent-%COMP%]{width:64px;height:64px}}"]})}return t})();const q=[{path:"",component:(()=>{class t{constructor(i){this.userService=i,this.setListOfUsers(),this.listUsers=this.userService.users,this.showTable=!0}chooseListOption(i){var n=this;return(0,r.Z)(function*(){n.userOption=i,n.listFiltered=n.userService.users?.filter(s=>s.userRole===i),n.showTable=!n.showTable,n.listChoseOption=i})()}setListOfUsers(){var i=this;return(0,r.Z)(function*(){yield i.userService.getUsers()})()}activateCreateUsers(){this.showCreateUsers=!0}return(){this.showCreateUsers=!1}handlerUpdateView(i){this.showTable=i}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(u.K))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-users"]],decls:27,vars:6,consts:[[1,"row","justify-content-end","w-100","p-0","m-0"],[1,"p-5","mt-4","shadow","bg-body-tertiary","rounded-3"],[1,"container-fluid","py-5"],[1,"text-center","display-5","fw-bold"],[1,"row","justify-content-center","align-items-center","m-0","p-0","w-100",3,"hidden"],["title","Pacientes",1,"col-xxl-1","col-sm-2","col-6","m-1","p-3","btn","boton","rounded-circle",3,"click"],["src","../../../assets/img/paciente.jpg","alt","Pacientes",1,"card-img","img-fluid","rounded-circle"],["title","Especialistas",1,"col-xxl-1","col-sm-2","col-6","m-1","p-3","btn","boton","rounded-circle",3,"click"],["src","../../../assets/img/doctor.jpg","alt","Especialistas",1,"card-img","img-fluid","rounded-circle"],["title","Administradores",1,"col-xxl-1","col-sm-2","col-6","m-1","p-3","btn","boton","rounded-circle",3,"click"],["src","../../../assets/img/admin.png","alt","Administradores",1,"card-img","img-fluid","rounded-circle"],[3,"list","showTable","roleOption","eventShowTable"],[1,"w-100","row","justify-content-center","justify-content-sm-center","p-2","m-0"],["type","button","value","Comenzar",1,"col-sm-1","col-md-2","col-8","btn","btn-warning",3,"click"],[1,"mt-4","rounded-3",3,"hidden"],[1,"container-fluid"],["title","Salir del Alta",1,"col-sm-1","col-md-2","col-8","btn","btn-warning",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"Usuarios Registrados"),e.qZA(),e.TgZ(5,"section",4)(6,"button",5),e.NdJ("click",function(){return s.chooseListOption("paciente")}),e._UZ(7,"img",6),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return s.chooseListOption("especialista")}),e._UZ(9,"img",8),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){return s.chooseListOption("admin")}),e._UZ(11,"img",10),e.qZA()()()()(),e.TgZ(12,"app-users-table",11),e.NdJ("eventShowTable",function(H){return s.handlerUpdateView(H)}),e.qZA(),e.TgZ(13,"section",0)(14,"div",1)(15,"div",2)(16,"h1",3),e._uU(17,"Alta Usuarios"),e.qZA(),e.TgZ(18,"section",4)(19,"div",12)(20,"input",13),e.NdJ("click",function(){return s.activateCreateUsers()}),e.qZA()()(),e.TgZ(21,"div",14)(22,"div",15)(23,"div",12)(24,"button",16),e.NdJ("click",function(){return s.return()}),e._uU(25,"Salir del Alta"),e.qZA()(),e._UZ(26,"app-register"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Q6J("hidden",!s.showTable),e.xp6(7),e.Q6J("list",s.listFiltered)("showTable",s.showTable)("roleOption",s.listChoseOption),e.xp6(6),e.Q6J("hidden",s.showCreateUsers),e.xp6(3),e.Q6J("hidden",!s.showCreateUsers))},dependencies:[d.y,j],styles:[".text-shadow[_ngcontent-%COMP%]{cursor:pointer;background-color:#f5f5f5;opacity:75%;padding:.3rem;border-radius:1rem;font-weight:700}.boton[_ngcontent-%COMP%]{background-color:#bae7f7}.boton[_ngcontent-%COMP%]:hover{background-color:#4801fd;box-shadow:0 0 20px #6100c8cc}"]})}return t})()}];let $=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(q),m.Bz]})}return t})();var B=a(8147);let W=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[c.ez,$,B.RegisterModule,_.ef]})}return t})()}}]);