"use strict";(self.webpackChunkTPClinica=self.webpackChunkTPClinica||[]).push([[179],{9058:(Lt,Ke,$)=>{$.d(Ke,{BH:()=>Qe,L:()=>Ye,LL:()=>It,P0:()=>Re,Pz:()=>xe,Sg:()=>Le,UG:()=>lt,ZR:()=>yt,aH:()=>_e,b$:()=>ft,eu:()=>Be,hl:()=>Me,m9:()=>Bi,ne:()=>cr,pd:()=>rn,q4:()=>$n,ru:()=>Xn,tV:()=>de,uI:()=>je,vZ:()=>Se,w1:()=>er,xO:()=>Xt,xb:()=>Y,z$:()=>Ue,zd:()=>en});const y=function(we){const ne=[];let se=0;for(let te=0;te<we.length;te++){let ie=we.charCodeAt(te);ie<128?ne[se++]=ie:ie<2048?(ne[se++]=ie>>6|192,ne[se++]=63&ie|128):55296==(64512&ie)&&te+1<we.length&&56320==(64512&we.charCodeAt(te+1))?(ie=65536+((1023&ie)<<10)+(1023&we.charCodeAt(++te)),ne[se++]=ie>>18|240,ne[se++]=ie>>12&63|128,ne[se++]=ie>>6&63|128,ne[se++]=63&ie|128):(ne[se++]=ie>>12|224,ne[se++]=ie>>6&63|128,ne[se++]=63&ie|128)}return ne},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,ne){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let ie=0;ie<we.length;ie+=3){const Oe=we[ie],gt=ie+1<we.length,kt=gt?we[ie+1]:0,dn=ie+2<we.length,Sn=dn?we[ie+2]:0;let Ln=(15&kt)<<2|Sn>>6,ri=63&Sn;dn||(ri=64,gt||(Ln=64)),te.push(se[Oe>>2],se[(3&Oe)<<4|kt>>4],se[Ln],se[ri])}return te.join("")},encodeString(we,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(we):this.encodeByteArray(y(we),ne)},decodeString(we,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(we):function(we){const ne=[];let se=0,te=0;for(;se<we.length;){const ie=we[se++];if(ie<128)ne[te++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Oe=we[se++];ne[te++]=String.fromCharCode((31&ie)<<6|63&Oe)}else if(ie>239&&ie<365){const dn=((7&ie)<<18|(63&we[se++])<<12|(63&we[se++])<<6|63&we[se++])-65536;ne[te++]=String.fromCharCode(55296+(dn>>10)),ne[te++]=String.fromCharCode(56320+(1023&dn))}else{const Oe=we[se++],gt=we[se++];ne[te++]=String.fromCharCode((15&ie)<<12|(63&Oe)<<6|63&gt)}}return ne.join("")}(this.decodeStringToByteArray(we,ne))},decodeStringToByteArray(we,ne){this.init_();const se=ne?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let ie=0;ie<we.length;){const Oe=se[we.charAt(ie++)],kt=ie<we.length?se[we.charAt(ie)]:0;++ie;const Sn=ie<we.length?se[we.charAt(ie)]:64;++ie;const _n=ie<we.length?se[we.charAt(ie)]:64;if(++ie,null==Oe||null==kt||null==Sn||null==_n)throw new Ae;te.push(Oe<<2|kt>>4),64!==Sn&&(te.push(kt<<4&240|Sn>>2),64!==_n&&te.push(Sn<<6&192|_n))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ye=function(we){return function(we){const ne=y(we);return he.encodeByteArray(ne,!0)}(we).replace(/\./g,"")},de=function(we){try{return he.decodeString(we,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null},St=()=>{try{return function it(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const we=process.env.__FIREBASE_DEFAULTS__;return we?JSON.parse(we):void 0})()||(()=>{if(typeof document>"u")return;let we;try{we=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ne=we&&de(we[1]);return ne&&JSON.parse(ne)})()}catch(we){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${we}`)}},$n=we=>{var ne,se;return null===(se=null===(ne=St())||void 0===ne?void 0:ne.emulatorHosts)||void 0===se?void 0:se[we]},Re=we=>{const ne=$n(we);if(!ne)return;const se=ne.lastIndexOf(":");if(se<=0||se+1===ne.length)throw new Error(`Invalid host ${ne} with no separate hostname and port!`);const te=parseInt(ne.substring(se+1),10);return"["===ne[0]?[ne.substring(1,se-1),te]:[ne.substring(0,se),te]},_e=()=>{var we;return null===(we=St())||void 0===we?void 0:we.config},xe=we=>{var ne;return null===(ne=St())||void 0===ne?void 0:ne[`_${we}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ne,se)=>{this.resolve=ne,this.reject=se})}wrapCallback(ne){return(se,te)=>{se?this.reject(se):this.resolve(te),"function"==typeof ne&&(this.promise.catch(()=>{}),1===ne.length?ne(se):ne(se,te))}}}function Le(we,ne){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=ne||"demo-project",ie=we.iat||0,Oe=we.sub||we.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:ie,exp:ie+3600,auth_time:ie,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},we);return[Ye(JSON.stringify({alg:"none",type:"JWT"})),Ye(JSON.stringify(gt)),""].join(".")}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function lt(){var we;const ne=null===(we=St())||void 0===we?void 0:we.forceEnvironment;if("node"===ne)return!0;if("browser"===ne)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xn(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function er(){const we=Ue();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((we,ne)=>{try{let se=!0;const te="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(te);ie.onsuccess=()=>{ie.result.close(),se||self.indexedDB.deleteDatabase(te),we(!0)},ie.onupgradeneeded=()=>{se=!1},ie.onerror=()=>{var Oe;ne((null===(Oe=ie.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(se){ne(se)}})}class yt extends Error{constructor(ne,se,te){super(se),this.code=ne,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(ne,se,te){this.service=ne,this.serviceName=se,this.errors=te}create(ne,...se){const te=se[0]||{},ie=`${this.service}/${ne}`,Oe=this.errors[ne],gt=Oe?function Zt(we,ne){return we.replace(Qt,(se,te)=>{const ie=ne[te];return null!=ie?String(ie):`<${te}?>`})}(Oe,te):"Error";return new yt(ie,`${this.serviceName}: ${gt} (${ie}).`,te)}}const Qt=/\{\$([^}]+)}/g;function Y(we){for(const ne in we)if(Object.prototype.hasOwnProperty.call(we,ne))return!1;return!0}function Se(we,ne){if(we===ne)return!0;const se=Object.keys(we),te=Object.keys(ne);for(const ie of se){if(!te.includes(ie))return!1;const Oe=we[ie],gt=ne[ie];if($e(Oe)&&$e(gt)){if(!Se(Oe,gt))return!1}else if(Oe!==gt)return!1}for(const ie of te)if(!se.includes(ie))return!1;return!0}function $e(we){return null!==we&&"object"==typeof we}function Xt(we){const ne=[];for(const[se,te]of Object.entries(we))Array.isArray(te)?te.forEach(ie=>{ne.push(encodeURIComponent(se)+"="+encodeURIComponent(ie))}):ne.push(encodeURIComponent(se)+"="+encodeURIComponent(te));return ne.length?"&"+ne.join("&"):""}function en(we){const ne={};return we.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[ie,Oe]=te.split("=");ne[decodeURIComponent(ie)]=decodeURIComponent(Oe)}}),ne}function rn(we){const ne=we.indexOf("?");if(!ne)return"";const se=we.indexOf("#",ne);return we.substring(ne,se>0?se:void 0)}function cr(we,ne){const se=new ln(we,ne);return se.subscribe.bind(se)}class ln{constructor(ne,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{ne(this)}).catch(te=>{this.error(te)})}next(ne){this.forEachObserver(se=>{se.next(ne)})}error(ne){this.forEachObserver(se=>{se.error(ne)}),this.close(ne)}complete(){this.forEachObserver(ne=>{ne.complete()}),this.close()}subscribe(ne,se,te){let ie;if(void 0===ne&&void 0===se&&void 0===te)throw new Error("Missing Observer.");ie=function fr(we,ne){if("object"!=typeof we||null===we)return!1;for(const se of ne)if(se in we&&"function"==typeof we[se])return!0;return!1}(ne,["next","error","complete"])?ne:{next:ne,error:se,complete:te},void 0===ie.next&&(ie.next=zn),void 0===ie.error&&(ie.error=zn),void 0===ie.complete&&(ie.complete=zn);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),Oe}unsubscribeOne(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ne){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,ne)}sendOne(ne,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ne])try{se(this.observers[ne])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(ne){this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}function Bi(we){return we&&we._delegate?we._delegate:we}},8416:(Lt,Ke,$)=>{$.d(Ke,{q:()=>Fe});var E=$(6814),B=$(9468);let Fe=(()=>{class y{static#e=this.\u0275fac=function(Ae){return new(Ae||y)};static#t=this.\u0275mod=B.oAB({type:y});static#n=this.\u0275inj=B.cJS({imports:[E.ez]})}return y})()},6191:(Lt,Ke,$)=>{$.d(Ke,{w:()=>B});var E=$(799);class B extends E.n{constructor(y){super(y,"admin")}}},4814:(Lt,Ke,$)=>{$.d(Ke,{T:()=>B});var E=$(799);class B extends E.n{constructor(y){super(y,"paciente"),this.socialWork=y.socialWork,this.profilePhotoTwo=y.profilePhotoTwo}}},2117:(Lt,Ke,$)=>{$.d(Ke,{r:()=>B});var E=$(799);class B extends E.n{constructor(y){super(y,"especialista"),this.verifiedByAdmin=y.verifiedByAdmin,this.speciality=y.speciality}}},799:(Lt,Ke,$)=>{$.d(Ke,{n:()=>E});class E{constructor(Fe,y){this.userId=Fe.userId,this.age=Fe.age,this.email=Fe.email,this.dni=Fe.dni,this.lastName=Fe.lastName,this.name=Fe.name,this.password=Fe.password,this.verified=Fe.verified,this.userRole=y,this.profilePhoto=Fe.profilePhoto}}},388:(Lt,Ke,$)=>{$.d(Ke,{O:()=>Fe});var E=$(5017),B=$(9468);let Fe=(()=>{class y{constructor(he){this.storage=he}referenceCloudStorage(he){return(0,E.iH)(this.storage,he)}uploadFile(he,Ae){return(0,E.KV)(he,Ae)}getUrlFromFile(he){return(0,E.Jt)(he)}static#e=this.\u0275fac=function(Ae){return new(Ae||y)(B.LFG(E.Ke))};static#t=this.\u0275prov=B.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},3384:(Lt,Ke,$)=>{$.d(Ke,{f:()=>Fe});var E=$(7732),B=$(9468);let Fe=(()=>{class y{constructor(he){this.firestore=he}getCollection(he){return(0,E.BS)((0,E.hJ)(this.firestore,he))}saveDoc(he,Ae){return(0,E.pl)(he,Ae)}setDocWithId(he,Ae,Ce){return(0,E.pl)((0,E.JU)(this.firestore,he,Ae),Ce)}createDoc(he){return(0,E.JU)((0,E.hJ)(this.firestore,he))}static#e=this.\u0275fac=function(Ae){return new(Ae||y)(B.LFG(E.gg))};static#t=this.\u0275prov=B.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},563:(Lt,Ke,$)=>{$.d(Ke,{K:()=>pt});var E=$(5861),B=$(15),Fe=$(3182),y=$(9413),ce=$(9468),he=$(1210),Ae=$(2117),Ce=$(4814),Ye=$(6191),de=$(4036),Ie=$(3384),ze=$(388);let wt=(()=>{class St{constructor(Re,_e,xe){this.fireAuth=Re,this.firebaseStoreProvider=_e,this.firebaseStorageProvider=xe,this.fireAuth.onAuthStateChanged(Qe=>{this.findUserFromSessionByEmail(Qe).then(Le=>{this._userLogged=Le}).catch(Le=>console.warn(Le))})}loginWithEmailAndPassword(Re,_e){var xe=this;return(0,E.Z)(function*(){const Qe=yield(0,he.e5)(xe.fireAuth,Re,_e);return xe._userLogged=yield xe.findUserFromSessionByEmail(Qe.user),"admin"!==xe._userLogged?.userRole&&(yield xe.validateEmailVerified(Qe.user),yield xe.validateSpecialist(xe._userLogged)),xe.userLogged})()}registerUserWithEmailAndPassword(Re){var _e=this;return(0,E.Z)(function*(){_e._userLogged&&"admin"===_e.userLogged?.userRole&&(_e.__userAdmin=new Ye.w({..._e._userLogged}));const xe=yield(0,he.Xb)(_e.fireAuth,Re.email,Re.password);return Re.verified=xe.user.emailVerified,Re.userId=xe.user.uid,yield(0,he.w$)(xe.user),yield _e.saveUserWithIdInStore(Re.userId,Re),_e.__userAdmin&&(yield _e.signOut(),yield _e.loginWithEmailAndPassword(_e.__userAdmin.email,_e.__userAdmin.password)),_e._userLogged})()}get userLogged(){return this._userLogged}getUsersFromStore(){var Re=this;return(0,E.Z)(function*(){let _e=yield(0,de.z)(Re.firebaseStoreProvider.getCollection("usuarios"));return _e=yield Promise.all(_e.map(function(){var xe=(0,E.Z)(function*(Qe){return{...Qe,profilePhoto:yield Re.getProfilePhoto(Qe)}});return function(Qe){return xe.apply(this,arguments)}}())),_e})()}findUserFromSessionByEmail(Re){var _e=this;return(0,E.Z)(function*(){if(Re){const Qe=(yield _e.getUsersFromStore()).find(Le=>Le.email===Re.email);switch(Qe?.userRole){case"especialista":return new Ae.r(Qe);case"paciente":return new Ce.T(Qe)}return Qe}})()}getProfilePhoto(Re){var _e=this;return(0,E.Z)(function*(){try{const xe=_e.firebaseStorageProvider.referenceCloudStorage(Re.profilePhoto);return yield _e.firebaseStorageProvider.getUrlFromFile(xe)}catch{console.warn("No se obtuvo la imagen del usuario")}})()}signOut(){return this.fireAuth.signOut()}validateSpecialist(Re){var _e=this;return(0,E.Z)(function*(){if(Re instanceof Ae.r&&!Re.verifiedByAdmin)throw yield _e.signOut(),new Error("Un administrador debe validar su cuenta.")})()}validateEmailVerified(Re){var _e=this;return(0,E.Z)(function*(){if(!Re.emailVerified)throw yield _e.signOut(),new Error("Debe validar su e-mail!");yield _e.rewriteFieldVerified(_e._userLogged,Re)})()}rewriteFieldVerified(Re,_e){var xe=this;return(0,E.Z)(function*(){Re.verified!==_e.emailVerified&&(Re.verified=_e.emailVerified,yield xe.firebaseStoreProvider.setDocWithId("usuarios",Re.userId,JSON.parse(JSON.stringify(Re))))})()}saveUserWithIdInStore(Re,_e){return this.firebaseStoreProvider.setDocWithId("usuarios",Re,JSON.parse(JSON.stringify(_e)))}static#e=this.\u0275fac=function(_e){return new(_e||St)(ce.LFG(he.gx),ce.LFG(Ie.f),ce.LFG(ze.O))};static#t=this.\u0275prov=ce.Yz7({token:St,factory:St.\u0275fac,providedIn:"root"})}return St})();var it=$(6024);let pt=(()=>{class St{constructor(Re,_e,xe,Qe){this.firebaseAuthProvider=Re,this.firebaseStoreProvider=_e,this.firebaseStorageProvider=xe,this.router=Qe,this.users=[],this.usersQuickAccess=[]}loginWithEmailAndPassword(Re,_e){var xe=this;return(0,E.Z)(function*(){return yield xe.firebaseAuthProvider.loginWithEmailAndPassword(Re,_e)})()}registerWithFirebase(Re){var _e=this;return(0,E.Z)(function*(){return yield _e.firebaseAuthProvider.registerUserWithEmailAndPassword(Re)})()}getUsers(){var Re=this;return(0,E.Z)(function*(){const _e=(0,B.IO)((0,B.hJ)(Yt,"usuarios"));(0,B.cf)(_e,xe=>(Re.users=[],xe.forEach(function(){var Qe=(0,E.Z)(function*(Le){var Ue=Le.data();Re.users.push("paciente"==Ue.userRole?{...Ue,profilePhoto:yield Re.getProfilePhoto(Ue),profilePhotoTwo:yield Re.getProfilePhoto(Ue,2)}:{...Ue,profilePhoto:yield Re.getProfilePhoto(Ue)})});return function(Le){return Qe.apply(this,arguments)}}()),Re.users))})()}getUsersForQuickAccess(){var Re=this;return(0,E.Z)(function*(){let _e=3,xe=2,Qe=1;const Le=(0,B.IO)((0,B.hJ)(Yt,"usuarios"));(0,B.cf)(Le,Ue=>(Re.usersQuickAccess=[],Ue.forEach(function(){var je=(0,E.Z)(function*(lt){var _t=lt.data();"paciente"==_t.userRole&&_e>0&&1==_t.verified&&(_e-=1,Re.usersQuickAccess.push({..._t,profilePhoto:yield Re.getProfilePhoto(_t)})),"especialista"==_t.userRole&&xe>0&&1==_t.verified&&(xe-=1,Re.usersQuickAccess.push({..._t,profilePhoto:yield Re.getProfilePhoto(_t)})),"admin"==_t.userRole&&Qe>0&&1==_t.verified&&(Qe-=1,Re.usersQuickAccess.push({..._t,profilePhoto:yield Re.getProfilePhoto(_t)}))});return function(lt){return je.apply(this,arguments)}}()),Re.usersQuickAccess))})()}saveUserWithIdInStore(Re,_e){return this.firebaseStoreProvider.setDocWithId("usuarios",Re,JSON.parse(JSON.stringify(_e)))}logout(){var Re=this;return(0,E.Z)(function*(){yield Re.firebaseAuthProvider.signOut(),yield Re.router.navigateByUrl("ingresar")})()}uploadPhoto(Re,_e){const xe=this.firebaseStorageProvider.referenceCloudStorage(Re);return this.firebaseStorageProvider.uploadFile(xe,_e)}get userLogged(){return this.firebaseAuthProvider.userLogged}authorizeSpecialistByAdmin(Re){var _e=this;return(0,E.Z)(function*(){const xe=Re;return xe.verifiedByAdmin=!xe.verifiedByAdmin,yield _e.saveUserWithIdInStore(xe.userId,xe),xe.verifiedByAdmin})()}getProfilePhoto(Re,_e=1){var xe=this;return(0,E.Z)(function*(){try{if(2==_e){const Qe=xe.firebaseStorageProvider.referenceCloudStorage(Re.profilePhotoTwo);return yield xe.firebaseStorageProvider.getUrlFromFile(Qe)}{const Qe=xe.firebaseStorageProvider.referenceCloudStorage(Re.profilePhoto);return yield xe.firebaseStorageProvider.getUrlFromFile(Qe)}}catch{console.warn("No se obtuvo la imagen del usuario")}})()}static#e=this.\u0275fac=function(_e){return new(_e||St)(ce.LFG(wt),ce.LFG(Ie.f),ce.LFG(ze.O),ce.LFG(it.F0))};static#t=this.\u0275prov=ce.Yz7({token:St,factory:St.\u0275fac,providedIn:"root"})}return St})();const Rt=(0,Fe.ZF)(y.N.firebaseConfig),Yt=(0,B.ad)(Rt)},9413:(Lt,Ke,$)=>{$.d(Ke,{N:()=>E});const E={firebaseConfig:{apiKey:"AIzaSyC1X9LI5gJ4GpmY7Z7u-bsfQG5c-Ej_RCA",authDomain:"pruebaapp-c7145.firebaseapp.com",databaseURL:"https://pruebaapp-c7145-default-rtdb.firebaseio.com",projectId:"pruebaapp-c7145",storageBucket:"pruebaapp-c7145.appspot.com",messagingSenderId:"15965783690",appId:"1:15965783690:web:69fbad13fd73d69ea38f73",measurementId:"G-VC6WZEPPPB"},recaptcha:{siteKey:"6LcB-wopAAAAAD1U4SJ05yZ8QALVlajxoetG6QQ2"}}},8620:(Lt,Ke,$)=>{var E=$(6593),B=$(6024),Fe=$(563),y=$(9468);const he=(c,h)=>!(0,y.f3M)(Fe.K).userLogged,Ae=(c,h)=>!!(0,y.f3M)(Fe.K).userLogged,Ce=[{path:"",redirectTo:"bienvenida",pathMatch:"full"},{path:"bienvenida",loadChildren:()=>$.e(13).then($.bind($,6013)).then(c=>c.WelcomeModule)},{path:"ingresar",loadChildren:()=>Promise.all([$.e(251),$.e(763)]).then($.bind($,8763)).then(c=>c.LoginModule),canActivate:[he]},{path:"registrarse",loadChildren:()=>Promise.all([$.e(251),$.e(147)]).then($.bind($,8147)).then(c=>c.RegisterModule),canActivate:[he]},{path:"usuarios",loadChildren:()=>Promise.all([$.e(251),$.e(147),$.e(592),$.e(355)]).then($.bind($,4355)).then(c=>c.UsersModule),canActivate:[(c,h)=>{const a=(0,y.f3M)(Fe.K);return!(!a.userLogged||"admin"!==a.userLogged.userRole)}]},{path:"perfil",loadChildren:()=>Promise.all([$.e(251),$.e(592),$.e(957)]).then($.bind($,4957)).then(c=>c.MyProfileModule),canActivate:[Ae]},{path:"turnos",loadChildren:()=>Promise.all([$.e(251),$.e(592),$.e(130)]).then($.bind($,130)).then(c=>c.AppointmentsModule),canActivate:[Ae]}];let Ye=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({imports:[B.Bz.forRoot(Ce),B.Bz]})}return c})();var de=$(6814);const Ie=function(){return{width:"32px","border-radius":"100%"}};function ze(c,h){if(1&c){const a=y.EpF();y.TgZ(0,"div",15)(1,"ul",16)(2,"li",17)(3,"a",18),y._UZ(4,"img",19),y._uU(5),y.qZA(),y.TgZ(6,"ul",20)(7,"input",21),y.NdJ("click",function(){y.CHM(a);const g=y.oxw();return y.KtG(g.signOut())}),y.qZA()()()()()}if(2&c){const a=y.oxw();y.xp6(4),y.Q6J("src",a.userService.userLogged.profilePhoto,y.LSH)("ngStyle",y.DdM(4,Ie)),y.xp6(1),y.AsE(" ",a.userService.userLogged.name," ",a.userService.userLogged.lastName," ")}}function wt(c,h){1&c&&(y.TgZ(0,"li",12)(1,"a",22),y._uU(2,"Ingresar"),y.qZA()())}function it(c,h){1&c&&(y.TgZ(0,"li",12)(1,"a",23),y._uU(2,"Registrarse"),y.qZA()())}function pt(c,h){1&c&&(y.TgZ(0,"li",12)(1,"a",24),y._uU(2,"Usuarios"),y.qZA()())}function Rt(c,h){1&c&&(y.TgZ(0,"li",12)(1,"a",25),y._uU(2,"Mi Perfil"),y.qZA()())}function Yt(c,h){1&c&&(y.TgZ(0,"li",12)(1,"a",26),y._uU(2,"Solicitar Turno"),y.qZA()())}function St(c,h){1&c&&(y.TgZ(0,"li",12)(1,"a",27),y._uU(2,"Turnos"),y.qZA()())}function $n(c,h){1&c&&(y.TgZ(0,"li",12)(1,"a",27),y._uU(2,"Mis Turnos"),y.qZA()())}const Re=function(){return{"background-color":"rgb(37, 142, 255)"}},_e=function(){return{width:"64px"}};let xe=(()=>{class c{constructor(a){this.userService=a}signOut(){this.userService.logout()}static#e=this.\u0275fac=function(d){return new(d||c)(y.Y36(Fe.K))};static#t=this.\u0275cmp=y.Xpm({type:c,selectors:[["app-nav-bar"]],decls:24,vars:12,consts:[[1,"p-2","navbar","sticky-top","bg-gradient",3,"ngStyle"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar","aria-label","Toggle navigation",1,"btn","boton","bg-gradient"],[1,"navbar-toggler-icon"],[1,"text-white"],["src","../../../assets/img/icono.png","alt","logo",3,"ngStyle"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-start","bg-nav"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],["class","d-flex",4,"ngIf"],[1,"navbar-nav","justify-content-end","flex-grow-1","pe-3"],[1,"nav-item"],["aria-current","page","routerLink","bienvenida","routerLinkActive","actual badge","data-bs-dismiss","offcanvas",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"d-flex"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["appNotImageUser","","alt","img-usuario",3,"src","ngStyle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","bg-nav"],["type","button","value","Salir",1,"btn","btn-warning",3,"click"],["aria-current","page","routerLink","ingresar","routerLinkActive","actual badge","data-bs-dismiss","offcanvas",1,"nav-link"],["routerLink","registrarse","routerLinkActive","actual badge","data-bs-dismiss","offcanvas",1,"nav-link"],["routerLink","usuarios","routerLinkActive","actual badge","data-bs-dismiss","offcanvas",1,"nav-link"],["routerLink","perfil","routerLinkActive","actual badge","data-bs-dismiss","offcanvas",1,"nav-link"],["routerLink","turnos/solicitar","routerLinkActive","actual badge","data-bs-dismiss","offcanvas",1,"nav-link"],["routerLink","turnos/turnos","routerLinkActive","actual badge","data-bs-dismiss","offcanvas",1,"nav-link"]],template:function(d,g){1&d&&(y.TgZ(0,"nav",0)(1,"button",1),y._UZ(2,"span",2),y.qZA(),y.TgZ(3,"h1",3),y._uU(4,"Cl\xednica Online"),y.qZA(),y._UZ(5,"img",4),y.TgZ(6,"div",5)(7,"div",6)(8,"h5",7),y._uU(9,"Cl\xednica Online"),y.qZA(),y._UZ(10,"button",8),y.qZA(),y.TgZ(11,"div",9),y.YNc(12,ze,8,5,"div",10),y.TgZ(13,"ul",11)(14,"li",12)(15,"a",13),y._uU(16,"Bienvenida"),y.qZA()(),y.YNc(17,wt,3,0,"li",14),y.YNc(18,it,3,0,"li",14),y.YNc(19,pt,3,0,"li",14),y.YNc(20,Rt,3,0,"li",14),y.YNc(21,Yt,3,0,"li",14),y.YNc(22,St,3,0,"li",14),y.YNc(23,$n,3,0,"li",14),y.qZA()()()()),2&d&&(y.Q6J("ngStyle",y.DdM(10,Re)),y.xp6(5),y.Q6J("ngStyle",y.DdM(11,_e)),y.xp6(7),y.Q6J("ngIf",g.userService.userLogged),y.xp6(5),y.Q6J("ngIf",!g.userService.userLogged),y.xp6(1),y.Q6J("ngIf",!g.userService.userLogged),y.xp6(1),y.Q6J("ngIf",g.userService.userLogged&&"admin"===g.userService.userLogged.userRole),y.xp6(1),y.Q6J("ngIf",g.userService.userLogged),y.xp6(1),y.Q6J("ngIf",g.userService.userLogged&&"especialista"!==(null==g.userService.userLogged?null:g.userService.userLogged.userRole)),y.xp6(1),y.Q6J("ngIf",g.userService.userLogged&&"admin"===(null==g.userService.userLogged?null:g.userService.userLogged.userRole)),y.xp6(1),y.Q6J("ngIf",g.userService.userLogged&&"admin"!==(null==g.userService.userLogged?null:g.userService.userLogged.userRole)))},dependencies:[de.O5,de.PC,B.rH,B.Od],styles:[".boton[_ngcontent-%COMP%]{background-color:#0362fb;border:3px solid black;border-radius:10px}.boton[_ngcontent-%COMP%]:hover{background-color:#03defb;box-shadow:0 5px 5px 3px #bcdfff,0 17px 50px #31dbf993}.actual[_ngcontent-%COMP%]{background-color:#4602ad;font-size:24px}.actual[_ngcontent-%COMP%]:hover{color:#03defb}.bg-nav[_ngcontent-%COMP%]{background-color:beige}"]})}return c})(),Qe=(()=>{class c{constructor(){this.title="TPClinica"}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=y.Xpm({type:c,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-fluid"]],template:function(d,g){1&d&&(y._UZ(0,"app-nav-bar"),y.TgZ(1,"main",0),y._UZ(2,"router-outlet"),y.qZA())},dependencies:[B.lC,xe]})}return c})();var Le=$(6825);function je(c){return new y.vHH(3e3,!1)}function ln(c){switch(c.length){case 0:return new Le.ZN;case 1:return c[0];default:return new Le.ZE(c)}}function dr(c,h,a=new Map,d=new Map){const g=[],w=[];let k=-1,K=null;if(h.forEach(oe=>{const ge=oe.get("offset"),De=ge==k,et=De&&K||new Map;oe.forEach((ut,ht)=>{let dt=ht,Vt=ut;if("offset"!==ht)switch(dt=c.normalizePropertyName(dt,g),Vt){case Le.k1:Vt=a.get(ht);break;case Le.l3:Vt=d.get(ht);break;default:Vt=c.normalizeStyleValue(ht,dt,Vt,g)}et.set(dt,Vt)}),De||w.push(et),K=et,k=ge}),g.length)throw function ni(c){return new y.vHH(3502,!1)}();return w}function fr(c,h,a,d){switch(h){case"start":c.onStart(()=>d(a&&zn(a,"start",c)));break;case"done":c.onDone(()=>d(a&&zn(a,"done",c)));break;case"destroy":c.onDestroy(()=>d(a&&zn(a,"destroy",c)))}}function zn(c,h,a){const w=pr(c.element,c.triggerName,c.fromState,c.toState,h||c.phaseName,a.totalTime??c.totalTime,!!a.disabled),k=c._data;return null!=k&&(w._data=k),w}function pr(c,h,a,d,g="",w=0,k){return{element:c,triggerName:h,fromState:a,toState:d,phaseName:g,totalTime:w,disabled:!!k}}function Wn(c,h,a){let d=c.get(h);return d||c.set(h,d=a),d}function Mr(c){const h=c.indexOf(":");return[c.substring(1,h),c.slice(h+1)]}const qn=(()=>typeof document>"u"?null:document.documentElement)();function cs(c){const h=c.parentNode||c.host||null;return h===qn?null:h}let Gn=null,On=!1;function yi(c,h){for(;h;){if(h===c)return!0;h=cs(h)}return!1}function Wi(c,h,a){if(a)return Array.from(c.querySelectorAll(h));const d=c.querySelector(h);return d?[d]:[]}let Si=(()=>{class c{validateStyleProperty(a){return function Ir(c){Gn||(Gn=function Vs(){return typeof document<"u"?document.body:null}()||{},On=!!Gn.style&&"WebkitAppearance"in Gn.style);let h=!0;return Gn.style&&!function Pn(c){return"ebkit"==c.substring(1,6)}(c)&&(h=c in Gn.style,!h&&On&&(h="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Gn.style)),h}(a)}matchesElement(a,d){return!1}containsElement(a,d){return yi(a,d)}getParentElement(a){return cs(a)}query(a,d,g){return Wi(a,d,g)}computeStyle(a,d,g){return g||""}animate(a,d,g,w,k,K=[],oe){return new Le.ZN(g,w)}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac})}return c})(),Bi=(()=>{class c{static#e=this.NOOP=new Si}return c})();const we=1e3,te="ng-enter",ie="ng-leave",Oe="ng-trigger",gt=".ng-trigger",kt="ng-animating",dn=".ng-animating";function Sn(c){if("number"==typeof c)return c;const h=c.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:Nn(parseFloat(h[1]),h[2])}function Nn(c,h){return"s"===h?c*we:c}function _n(c,h,a){return c.hasOwnProperty("duration")?c:function Ln(c,h,a){let g,w=0,k="";if("string"==typeof c){const K=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===K)return h.push(je()),{duration:0,delay:0,easing:""};g=Nn(parseFloat(K[1]),K[2]);const oe=K[3];null!=oe&&(w=Nn(parseFloat(oe),K[4]));const ge=K[5];ge&&(k=ge)}else g=c;if(!a){let K=!1,oe=h.length;g<0&&(h.push(function lt(){return new y.vHH(3100,!1)}()),K=!0),w<0&&(h.push(function _t(){return new y.vHH(3101,!1)}()),K=!0),K&&h.splice(oe,0,je())}return{duration:g,delay:w,easing:k}}(c,h,a)}function ri(c,h={}){return Object.keys(c).forEach(a=>{h[a]=c[a]}),h}function nr(c){const h=new Map;return Object.keys(c).forEach(a=>{h.set(a,c[a])}),h}function He(c,h=new Map,a){if(a)for(let[d,g]of a)h.set(d,g);for(let[d,g]of c)h.set(d,g);return h}function bt(c,h,a){h.forEach((d,g)=>{const w=ys(g);a&&!a.has(g)&&a.set(g,c.style[w]),c.style[w]=d})}function Jt(c,h){h.forEach((a,d)=>{const g=ys(d);c.style[g]=""})}function Rn(c){return Array.isArray(c)?1==c.length?c[0]:(0,Le.vP)(c):c}const Qn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Br(c){let h=[];if("string"==typeof c){let a;for(;a=Qn.exec(c);)h.push(a[1]);Qn.lastIndex=0}return h}function rr(c,h,a){const d=c.toString(),g=d.replace(Qn,(w,k)=>{let K=h[k];return null==K&&(a.push(function ft(c){return new y.vHH(3003,!1)}()),K=""),K.toString()});return g==d?c:g}function Vn(c){const h=[];let a=c.next();for(;!a.done;)h.push(a.value),a=c.next();return h}const gi=/-+([a-z0-9])/g;function ys(c){return c.replace(gi,(...h)=>h[1].toUpperCase())}function ii(c,h,a){switch(h.type){case 7:return c.visitTrigger(h,a);case 0:return c.visitState(h,a);case 1:return c.visitTransition(h,a);case 2:return c.visitSequence(h,a);case 3:return c.visitGroup(h,a);case 4:return c.visitAnimate(h,a);case 5:return c.visitKeyframes(h,a);case 6:return c.visitStyle(h,a);case 8:return c.visitReference(h,a);case 9:return c.visitAnimateChild(h,a);case 10:return c.visitAnimateRef(h,a);case 11:return c.visitQuery(h,a);case 12:return c.visitStagger(h,a);default:throw function wn(c){return new y.vHH(3004,!1)}()}}function Sa(c,h){return window.getComputedStyle(c)[h]}const At="*";function $t(c,h){const a=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(d=>function yn(c,h,a){if(":"==c[0]){const oe=function ci(c,h){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,d)=>parseFloat(d)>parseFloat(a);case":decrement":return(a,d)=>parseFloat(d)<parseFloat(a);default:return h.push(function Dn(c){return new y.vHH(3016,!1)}()),"* => *"}}(c,a);if("function"==typeof oe)return void h.push(oe);c=oe}const d=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return a.push(function mn(c){return new y.vHH(3015,!1)}()),h;const g=d[1],w=d[2],k=d[3];h.push(qi(g,k));"<"==w[0]&&!(g==At&&k==At)&&h.push(qi(k,g))}(d,a,h)):a.push(c),a}const yr=new Set(["true","1"]),vr=new Set(["false","0"]);function qi(c,h){const a=yr.has(c)||vr.has(c),d=yr.has(h)||vr.has(h);return(g,w)=>{let k=c==At||c==g,K=h==At||h==w;return!k&&a&&"boolean"==typeof g&&(k=g?yr.has(c):vr.has(c)),!K&&d&&"boolean"==typeof w&&(K=w?yr.has(h):vr.has(h)),k&&K}}const Bs=new RegExp("s*:selfs*,?","g");function qs(c,h,a,d){return new Dl(c).build(h,a,d)}class Dl{constructor(h){this._driver=h}build(h,a,d){const g=new Go(a);return this._resetContextStyleTimingState(g),ii(this,Rn(h),g)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,a){let d=a.queryCount=0,g=a.depCount=0;const w=[],k=[];return"@"==h.name.charAt(0)&&a.errors.push(function xt(){return new y.vHH(3006,!1)}()),h.definitions.forEach(K=>{if(this._resetContextStyleTimingState(a),0==K.type){const oe=K,ge=oe.name;ge.toString().split(/\s*,\s*/).forEach(De=>{oe.name=De,w.push(this.visitState(oe,a))}),oe.name=ge}else if(1==K.type){const oe=this.visitTransition(K,a);d+=oe.queryCount,g+=oe.depCount,k.push(oe)}else a.errors.push(function vn(){return new y.vHH(3007,!1)}())}),{type:7,name:h.name,states:w,transitions:k,queryCount:d,depCount:g,options:null}}visitState(h,a){const d=this.visitStyle(h.styles,a),g=h.options&&h.options.params||null;if(d.containsDynamicStyles){const w=new Set,k=g||{};d.styles.forEach(K=>{K instanceof Map&&K.forEach(oe=>{Br(oe).forEach(ge=>{k.hasOwnProperty(ge)||w.add(ge)})})}),w.size&&(Vn(w.values()),a.errors.push(function tn(c,h){return new y.vHH(3008,!1)}()))}return{type:0,name:h.name,style:d,options:g?{params:g}:null}}visitTransition(h,a){a.queryCount=0,a.depCount=0;const d=ii(this,Rn(h.animation),a);return{type:1,matchers:$t(h.expr,a.errors),animation:d,queryCount:a.queryCount,depCount:a.depCount,options:Us(h.options)}}visitSequence(h,a){return{type:2,steps:h.steps.map(d=>ii(this,d,a)),options:Us(h.options)}}visitGroup(h,a){const d=a.currentTime;let g=0;const w=h.steps.map(k=>{a.currentTime=d;const K=ii(this,k,a);return g=Math.max(g,a.currentTime),K});return a.currentTime=g,{type:3,steps:w,options:Us(h.options)}}visitAnimate(h,a){const d=function Xs(c,h){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return ia(_n(c,h).duration,0,"");const a=c;if(a.split(/\s+/).some(w=>"{"==w.charAt(0)&&"{"==w.charAt(1))){const w=ia(0,0,"");return w.dynamic=!0,w.strValue=a,w}const g=_n(a,h);return ia(g.duration,g.delay,g.easing)}(h.timings,a.errors);a.currentAnimateTimings=d;let g,w=h.styles?h.styles:(0,Le.oB)({});if(5==w.type)g=this.visitKeyframes(w,a);else{let k=h.styles,K=!1;if(!k){K=!0;const ge={};d.easing&&(ge.easing=d.easing),k=(0,Le.oB)(ge)}a.currentTime+=d.duration+d.delay;const oe=this.visitStyle(k,a);oe.isEmptyStep=K,g=oe}return a.currentAnimateTimings=null,{type:4,timings:d,style:g,options:null}}visitStyle(h,a){const d=this._makeStyleAst(h,a);return this._validateStyleAst(d,a),d}_makeStyleAst(h,a){const d=[],g=Array.isArray(h.styles)?h.styles:[h.styles];for(let K of g)"string"==typeof K?K===Le.l3?d.push(K):a.errors.push(new y.vHH(3002,!1)):d.push(nr(K));let w=!1,k=null;return d.forEach(K=>{if(K instanceof Map&&(K.has("easing")&&(k=K.get("easing"),K.delete("easing")),!w))for(let oe of K.values())if(oe.toString().indexOf("{{")>=0){w=!0;break}}),{type:6,styles:d,easing:k,offset:h.offset,containsDynamicStyles:w,options:null}}_validateStyleAst(h,a){const d=a.currentAnimateTimings;let g=a.currentTime,w=a.currentTime;d&&w>0&&(w-=d.duration+d.delay),h.styles.forEach(k=>{"string"!=typeof k&&k.forEach((K,oe)=>{const ge=a.collectedStyles.get(a.currentQuerySelector),De=ge.get(oe);let et=!0;De&&(w!=g&&w>=De.startTime&&g<=De.endTime&&(a.errors.push(function We(c,h,a,d,g){return new y.vHH(3010,!1)}()),et=!1),w=De.startTime),et&&ge.set(oe,{startTime:w,endTime:g}),a.options&&function pn(c,h,a){const d=h.params||{},g=Br(c);g.length&&g.forEach(w=>{d.hasOwnProperty(w)||a.push(function Xn(c){return new y.vHH(3001,!1)}())})}(K,a.options,a.errors)})})}visitKeyframes(h,a){const d={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function st(){return new y.vHH(3011,!1)}()),d;let w=0;const k=[];let K=!1,oe=!1,ge=0;const De=h.steps.map(Mn=>{const jn=this._makeStyleAst(Mn,a);let Cn=null!=jn.offset?jn.offset:function Co(c){if("string"==typeof c)return null;let h=null;if(Array.isArray(c))c.forEach(a=>{if(a instanceof Map&&a.has("offset")){const d=a;h=parseFloat(d.get("offset")),d.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const a=c;h=parseFloat(a.get("offset")),a.delete("offset")}return h}(jn.styles),nn=0;return null!=Cn&&(w++,nn=jn.offset=Cn),oe=oe||nn<0||nn>1,K=K||nn<ge,ge=nn,k.push(nn),jn});oe&&a.errors.push(function yt(){return new y.vHH(3012,!1)}()),K&&a.errors.push(function It(){return new y.vHH(3200,!1)}());const et=h.steps.length;let ut=0;w>0&&w<et?a.errors.push(function Zt(){return new y.vHH(3202,!1)}()):0==w&&(ut=1/(et-1));const ht=et-1,dt=a.currentTime,Vt=a.currentAnimateTimings,Gt=Vt.duration;return De.forEach((Mn,jn)=>{const Cn=ut>0?jn==ht?1:ut*jn:k[jn],nn=Cn*Gt;a.currentTime=dt+Vt.delay+nn,Vt.duration=nn,this._validateStyleAst(Mn,a),Mn.offset=Cn,d.styles.push(Mn)}),d}visitReference(h,a){return{type:8,animation:ii(this,Rn(h.animation),a),options:Us(h.options)}}visitAnimateChild(h,a){return a.depCount++,{type:9,options:Us(h.options)}}visitAnimateRef(h,a){return{type:10,animation:this.visitReference(h.animation,a),options:Us(h.options)}}visitQuery(h,a){const d=a.currentQuerySelector,g=h.options||{};a.queryCount++,a.currentQuery=h;const[w,k]=function ra(c){const h=!!c.split(/\s*,\s*/).find(a=>":self"==a);return h&&(c=c.replace(Bs,"")),c=c.replace(/@\*/g,gt).replace(/@\w+/g,a=>gt+"-"+a.slice(1)).replace(/:animating/g,dn),[c,h]}(h.selector);a.currentQuerySelector=d.length?d+" "+w:w,Wn(a.collectedStyles,a.currentQuerySelector,new Map);const K=ii(this,Rn(h.animation),a);return a.currentQuery=null,a.currentQuerySelector=d,{type:11,selector:w,limit:g.limit||0,optional:!!g.optional,includeSelf:k,animation:K,originalSelector:h.selector,options:Us(h.options)}}visitStagger(h,a){a.currentQuery||a.errors.push(function Qt(){return new y.vHH(3013,!1)}());const d="full"===h.timings?{duration:0,delay:0,easing:"full"}:_n(h.timings,a.errors,!0);return{type:12,animation:ii(this,Rn(h.animation),a),timings:d,options:null}}}class Go{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Us(c){return c?(c=ri(c)).params&&(c.params=function Aa(c){return c?ri(c):null}(c.params)):c={},c}function ia(c,h,a){return{duration:c,delay:h,easing:a}}function zo(c,h,a,d,g,w,k=null,K=!1){return{type:1,element:c,keyframes:h,preStyleProps:a,postStyleProps:d,duration:g,delay:w,totalTime:g+w,easing:k,subTimeline:K}}class eo{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,a){let d=this._map.get(h);d||this._map.set(h,d=[]),d.push(...a)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const Ns=new RegExp(":enter","g"),Jn=new RegExp(":leave","g");function Pr(c,h,a,d,g,w=new Map,k=new Map,K,oe,ge=[]){return(new Ai).buildKeyframes(c,h,a,d,g,w,k,K,oe,ge)}class Ai{buildKeyframes(h,a,d,g,w,k,K,oe,ge,De=[]){ge=ge||new eo;const et=new si(h,a,ge,g,w,De,[]);et.options=oe;const ut=oe.delay?Sn(oe.delay):0;et.currentTimeline.delayNextStep(ut),et.currentTimeline.setStyles([k],null,et.errors,oe),ii(this,d,et);const ht=et.timelines.filter(dt=>dt.containsAnimation());if(ht.length&&K.size){let dt;for(let Vt=ht.length-1;Vt>=0;Vt--){const Gt=ht[Vt];if(Gt.element===a){dt=Gt;break}}dt&&!dt.allowOnlyTimelineStyles()&&dt.setStyles([K],null,et.errors,oe)}return ht.length?ht.map(dt=>dt.buildKeyframes()):[zo(a,[],[],[],0,ut,"",!1)]}visitTrigger(h,a){}visitState(h,a){}visitTransition(h,a){}visitAnimateChild(h,a){const d=a.subInstructions.get(a.element);if(d){const g=a.createSubContext(h.options),w=a.currentTimeline.currentTime,k=this._visitSubInstructions(d,g,g.options);w!=k&&a.transformIntoNewTimeline(k)}a.previousNode=h}visitAnimateRef(h,a){const d=a.createSubContext(h.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],a,d),this.visitReference(h.animation,d),a.transformIntoNewTimeline(d.currentTimeline.currentTime),a.previousNode=h}_applyAnimationRefDelays(h,a,d){for(const g of h){const w=g?.delay;if(w){const k="number"==typeof w?w:Sn(rr(w,g?.params??{},a.errors));d.delayNextStep(k)}}}_visitSubInstructions(h,a,d){let w=a.currentTimeline.currentTime;const k=null!=d.duration?Sn(d.duration):null,K=null!=d.delay?Sn(d.delay):null;return 0!==k&&h.forEach(oe=>{const ge=a.appendInstructionToTimeline(oe,k,K);w=Math.max(w,ge.duration+ge.delay)}),w}visitReference(h,a){a.updateOptions(h.options,!0),ii(this,h.animation,a),a.previousNode=h}visitSequence(h,a){const d=a.subContextCount;let g=a;const w=h.options;if(w&&(w.params||w.delay)&&(g=a.createSubContext(w),g.transformIntoNewTimeline(),null!=w.delay)){6==g.previousNode.type&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=ir);const k=Sn(w.delay);g.delayNextStep(k)}h.steps.length&&(h.steps.forEach(k=>ii(this,k,g)),g.currentTimeline.applyStylesToKeyframe(),g.subContextCount>d&&g.transformIntoNewTimeline()),a.previousNode=h}visitGroup(h,a){const d=[];let g=a.currentTimeline.currentTime;const w=h.options&&h.options.delay?Sn(h.options.delay):0;h.steps.forEach(k=>{const K=a.createSubContext(h.options);w&&K.delayNextStep(w),ii(this,k,K),g=Math.max(g,K.currentTimeline.currentTime),d.push(K.currentTimeline)}),d.forEach(k=>a.currentTimeline.mergeTimelineCollectedStyles(k)),a.transformIntoNewTimeline(g),a.previousNode=h}_visitTiming(h,a){if(h.dynamic){const d=h.strValue;return _n(a.params?rr(d,a.params,a.errors):d,a.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,a){const d=a.currentAnimateTimings=this._visitTiming(h.timings,a),g=a.currentTimeline;d.delay&&(a.incrementTime(d.delay),g.snapshotCurrentStyles());const w=h.style;5==w.type?this.visitKeyframes(w,a):(a.incrementTime(d.duration),this.visitStyle(w,a),g.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=h}visitStyle(h,a){const d=a.currentTimeline,g=a.currentAnimateTimings;!g&&d.hasCurrentStyleProperties()&&d.forwardFrame();const w=g&&g.easing||h.easing;h.isEmptyStep?d.applyEmptyStep(w):d.setStyles(h.styles,w,a.errors,a.options),a.previousNode=h}visitKeyframes(h,a){const d=a.currentAnimateTimings,g=a.currentTimeline.duration,w=d.duration,K=a.createSubContext().currentTimeline;K.easing=d.easing,h.styles.forEach(oe=>{K.forwardTime((oe.offset||0)*w),K.setStyles(oe.styles,oe.easing,a.errors,a.options),K.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(K),a.transformIntoNewTimeline(g+w),a.previousNode=h}visitQuery(h,a){const d=a.currentTimeline.currentTime,g=h.options||{},w=g.delay?Sn(g.delay):0;w&&(6===a.previousNode.type||0==d&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=ir);let k=d;const K=a.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!g.optional,a.errors);a.currentQueryTotal=K.length;let oe=null;K.forEach((ge,De)=>{a.currentQueryIndex=De;const et=a.createSubContext(h.options,ge);w&&et.delayNextStep(w),ge===a.element&&(oe=et.currentTimeline),ii(this,h.animation,et),et.currentTimeline.applyStylesToKeyframe(),k=Math.max(k,et.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(k),oe&&(a.currentTimeline.mergeTimelineCollectedStyles(oe),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=h}visitStagger(h,a){const d=a.parentContext,g=a.currentTimeline,w=h.timings,k=Math.abs(w.duration),K=k*(a.currentQueryTotal-1);let oe=k*a.currentQueryIndex;switch(w.duration<0?"reverse":w.easing){case"reverse":oe=K-oe;break;case"full":oe=d.currentStaggerTime}const De=a.currentTimeline;oe&&De.delayNextStep(oe);const et=De.currentTime;ii(this,h.animation,a),a.previousNode=h,d.currentStaggerTime=g.currentTime-et+(g.startTime-d.currentTimeline.startTime)}}const ir={};class si{constructor(h,a,d,g,w,k,K,oe){this._driver=h,this.element=a,this.subInstructions=d,this._enterClassName=g,this._leaveClassName=w,this.errors=k,this.timelines=K,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ir,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=oe||new Ri(this._driver,a,0),K.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,a){if(!h)return;const d=h;let g=this.options;null!=d.duration&&(g.duration=Sn(d.duration)),null!=d.delay&&(g.delay=Sn(d.delay));const w=d.params;if(w){let k=g.params;k||(k=this.options.params={}),Object.keys(w).forEach(K=>{(!a||!k.hasOwnProperty(K))&&(k[K]=rr(w[K],k,this.errors))})}}_copyOptions(){const h={};if(this.options){const a=this.options.params;if(a){const d=h.params={};Object.keys(a).forEach(g=>{d[g]=a[g]})}}return h}createSubContext(h=null,a,d){const g=a||this.element,w=new si(this._driver,g,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(g,d||0));return w.previousNode=this.previousNode,w.currentAnimateTimings=this.currentAnimateTimings,w.options=this._copyOptions(),w.updateOptions(h),w.currentQueryIndex=this.currentQueryIndex,w.currentQueryTotal=this.currentQueryTotal,w.parentContext=this,this.subContextCount++,w}transformIntoNewTimeline(h){return this.previousNode=ir,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,a,d){const g={duration:a??h.duration,delay:this.currentTimeline.currentTime+(d??0)+h.delay,easing:""},w=new Es(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,g,h.stretchStartingKeyframe);return this.timelines.push(w),g}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,a,d,g,w,k){let K=[];if(g&&K.push(this.element),h.length>0){h=(h=h.replace(Ns,"."+this._enterClassName)).replace(Jn,"."+this._leaveClassName);let ge=this._driver.query(this.element,h,1!=d);0!==d&&(ge=d<0?ge.slice(ge.length+d,ge.length):ge.slice(0,d)),K.push(...ge)}return!w&&0==K.length&&k.push(function An(c){return new y.vHH(3014,!1)}()),K}}class Ri{constructor(h,a,d,g){this._driver=h,this.element=a,this.startTime=d,this._elementTimelineStylesLookup=g,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+h),a&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,a){return this.applyStylesToKeyframe(),new Ri(this._driver,h,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,a){this._localTimelineStyles.set(h,a),this._globalTimelineStyles.set(h,a),this._styleSummary.set(h,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[a,d]of this._globalTimelineStyles)this._backFill.set(a,d||Le.l3),this._currentKeyframe.set(a,Le.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,a,d,g){a&&this._previousKeyframe.set("easing",a);const w=g&&g.params||{},k=function sa(c,h){const a=new Map;let d;return c.forEach(g=>{if("*"===g){d=d||h.keys();for(let w of d)a.set(w,Le.l3)}else He(g,a)}),a}(h,this._globalTimelineStyles);for(let[K,oe]of k){const ge=rr(oe,w,d);this._pendingStyles.set(K,ge),this._localTimelineStyles.has(K)||this._backFill.set(K,this._globalTimelineStyles.get(K)??Le.l3),this._updateStyle(K,ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,a)=>{this._currentKeyframe.set(a,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,h)}))}snapshotCurrentStyles(){for(let[h,a]of this._localTimelineStyles)this._pendingStyles.set(h,a),this._updateStyle(h,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let a in this._currentKeyframe)h.push(a);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((a,d)=>{const g=this._styleSummary.get(d);(!g||a.time>g.time)&&this._updateStyle(d,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,a=new Set,d=1===this._keyframes.size&&0===this.duration;let g=[];this._keyframes.forEach((K,oe)=>{const ge=He(K,new Map,this._backFill);ge.forEach((De,et)=>{De===Le.k1?h.add(et):De===Le.l3&&a.add(et)}),d||ge.set("offset",oe/this.duration),g.push(ge)});const w=h.size?Vn(h.values()):[],k=a.size?Vn(a.values()):[];if(d){const K=g[0],oe=new Map(K);K.set("offset",0),oe.set("offset",1),g=[K,oe]}return zo(this.element,g,w,k,this.duration,this.startTime,this.easing,!1)}}class Es extends Ri{constructor(h,a,d,g,w,k,K=!1){super(h,a,k.delay),this.keyframes=d,this.preStyleProps=g,this.postStyleProps=w,this._stretchStartingKeyframe=K,this.timings={duration:k.duration,delay:k.delay,easing:k.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:a,duration:d,easing:g}=this.timings;if(this._stretchStartingKeyframe&&a){const w=[],k=d+a,K=a/k,oe=He(h[0]);oe.set("offset",0),w.push(oe);const ge=He(h[0]);ge.set("offset",So(K)),w.push(ge);const De=h.length-1;for(let et=1;et<=De;et++){let ut=He(h[et]);const ht=ut.get("offset");ut.set("offset",So((a+ht*d)/k)),w.push(ut)}d=k,a=0,g="",h=w}return zo(this.element,h,this.preStyleProps,this.postStyleProps,d,a,g,!0)}}function So(c,h=3){const a=Math.pow(10,h-1);return Math.round(c*a)/a}class Er{}const Kn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Or extends Er{normalizePropertyName(h,a){return ys(h)}normalizeStyleValue(h,a,d,g){let w="";const k=d.toString().trim();if(Kn.has(a)&&0!==d&&"0"!==d)if("number"==typeof d)w="px";else{const K=d.match(/^[+-]?[\d\.]+([a-z]*)$/);K&&0==K[1].length&&g.push(function er(c,h){return new y.vHH(3005,!1)}())}return k+w}}function oi(c,h,a,d,g,w,k,K,oe,ge,De,et,ut){return{type:0,element:c,triggerName:h,isRemovalTransition:g,fromState:a,fromStyles:w,toState:d,toStyles:k,timelines:K,queriedElements:oe,preStyleProps:ge,postStyleProps:De,totalTime:et,errors:ut}}const bs={};class Wr{constructor(h,a,d){this._triggerName=h,this.ast=a,this._stateStyles=d}match(h,a,d,g){return function xr(c,h,a,d,g){return c.some(w=>w(h,a,d,g))}(this.ast.matchers,h,a,d,g)}buildStyles(h,a,d){let g=this._stateStyles.get("*");return void 0!==h&&(g=this._stateStyles.get(h?.toString())||g),g?g.buildStyles(a,d):new Map}build(h,a,d,g,w,k,K,oe,ge,De){const et=[],ut=this.ast.options&&this.ast.options.params||bs,dt=this.buildStyles(d,K&&K.params||bs,et),Vt=oe&&oe.params||bs,Gt=this.buildStyles(g,Vt,et),Mn=new Set,jn=new Map,Cn=new Map,nn="void"===g,sr={params:us(Vt,ut),delay:this.ast.options?.delay},hr=De?[]:Pr(h,a,this.ast.animation,w,k,dt,Gt,sr,ge,et);let Fr=0;if(hr.forEach(ts=>{Fr=Math.max(ts.duration+ts.delay,Fr)}),et.length)return oi(a,this._triggerName,d,g,nn,dt,Gt,[],[],jn,Cn,Fr,et);hr.forEach(ts=>{const fi=ts.element,Fs=Wn(jn,fi,new Set);ts.preStyleProps.forEach(as=>Fs.add(as));const uo=Wn(Cn,fi,new Set);ts.postStyleProps.forEach(as=>uo.add(as)),fi!==a&&Mn.add(fi)});const zr=Vn(Mn.values());return oi(a,this._triggerName,d,g,nn,dt,Gt,hr,zr,jn,Cn,Fr)}}function us(c,h){const a=ri(h);for(const d in c)c.hasOwnProperty(d)&&null!=c[d]&&(a[d]=c[d]);return a}class oa{constructor(h,a,d){this.styles=h,this.defaultParams=a,this.normalizer=d}buildStyles(h,a){const d=new Map,g=ri(this.defaultParams);return Object.keys(h).forEach(w=>{const k=h[w];null!==k&&(g[w]=k)}),this.styles.styles.forEach(w=>{"string"!=typeof w&&w.forEach((k,K)=>{k&&(k=rr(k,g,a));const oe=this.normalizer.normalizePropertyName(K,a);k=this.normalizer.normalizeStyleValue(K,oe,k,a),d.set(K,k)})}),d}}class ma{constructor(h,a,d){this.name=h,this.ast=a,this._normalizer=d,this.transitionFactories=[],this.states=new Map,a.states.forEach(g=>{this.states.set(g.name,new oa(g.style,g.options&&g.options.params||{},d))}),Ts(this.states,"true","1"),Ts(this.states,"false","0"),a.transitions.forEach(g=>{this.transitionFactories.push(new Wr(h,g,this.states))}),this.fallbackTransition=function _a(c,h,a){return new Wr(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(k,K)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,a,d,g){return this.transitionFactories.find(k=>k.match(h,a,d,g))||null}matchStyles(h,a,d){return this.fallbackTransition.buildStyles(h,a,d)}}function Ts(c,h,a){c.has(h)?c.has(a)||c.set(a,c.get(h)):c.has(a)&&c.set(h,c.get(a))}const Lr=new eo;class Ao{constructor(h,a,d){this.bodyNode=h,this._driver=a,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,a){const d=[],w=qs(this._driver,a,d,[]);if(d.length)throw function ae(c){return new y.vHH(3503,!1)}();this._animations.set(h,w)}_buildPlayer(h,a,d){const g=h.element,w=dr(this._normalizer,h.keyframes,a,d);return this._driver.animate(g,w,h.duration,h.delay,h.easing,[],!0)}create(h,a,d={}){const g=[],w=this._animations.get(h);let k;const K=new Map;if(w?(k=Pr(this._driver,a,w,te,ie,new Map,new Map,d,Lr,g),k.forEach(De=>{const et=Wn(K,De.element,new Map);De.postStyleProps.forEach(ut=>et.set(ut,null))})):(g.push(function ue(){return new y.vHH(3300,!1)}()),k=[]),g.length)throw function Y(c){return new y.vHH(3504,!1)}();K.forEach((De,et)=>{De.forEach((ut,ht)=>{De.set(ht,this._driver.computeStyle(et,ht,Le.l3))})});const ge=ln(k.map(De=>{const et=K.get(De.element);return this._buildPlayer(De,new Map,et)}));return this._playersById.set(h,ge),ge.onDestroy(()=>this.destroy(h)),this.players.push(ge),ge}destroy(h){const a=this._getPlayer(h);a.destroy(),this._playersById.delete(h);const d=this.players.indexOf(a);d>=0&&this.players.splice(d,1)}_getPlayer(h){const a=this._playersById.get(h);if(!a)throw function ve(c){return new y.vHH(3301,!1)}();return a}listen(h,a,d,g){const w=pr(a,"","","");return fr(this._getPlayer(h),d,w,g),()=>{}}command(h,a,d,g){if("register"==d)return void this.register(h,g[0]);if("create"==d)return void this.create(h,a,g[0]||{});const w=this._getPlayer(h);switch(d){case"play":w.play();break;case"pause":w.pause();break;case"reset":w.reset();break;case"restart":w.restart();break;case"finish":w.finish();break;case"init":w.init();break;case"setPosition":w.setPosition(parseFloat(g[0]));break;case"destroy":this.destroy(h)}}}const Ks="ng-animate-queued",ns="ng-animate-disabled",xo=[],Ms={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ro="__ng_removed";class ko{get params(){return this.options.params}constructor(h,a=""){this.namespaceId=a;const d=h&&h.hasOwnProperty("value");if(this.value=function Ga(c){return c??null}(d?h.value:h),d){const w=ri(h);delete w.value,this.options=w}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const a=h.params;if(a){const d=this.options.params;Object.keys(a).forEach(g=>{null==d[g]&&(d[g]=a[g])})}}}const po="void",Hs=new ko(po);class $a{constructor(h,a,d){this.id=h,this.hostElement=a,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,ui(a,this._hostClassName)}listen(h,a,d,g){if(!this._triggers.has(a))throw function Se(c,h){return new y.vHH(3302,!1)}();if(null==d||0==d.length)throw function $e(c){return new y.vHH(3303,!1)}();if(!function Is(c){return"start"==c||"done"==c}(d))throw function Ot(c,h){return new y.vHH(3400,!1)}();const w=Wn(this._elementListeners,h,[]),k={name:a,phase:d,callback:g};w.push(k);const K=Wn(this._engine.statesByElement,h,new Map);return K.has(a)||(ui(h,Oe),ui(h,Oe+"-"+a),K.set(a,Hs)),()=>{this._engine.afterFlush(()=>{const oe=w.indexOf(k);oe>=0&&w.splice(oe,1),this._triggers.has(a)||K.delete(a)})}}register(h,a){return!this._triggers.has(h)&&(this._triggers.set(h,a),!0)}_getTrigger(h){const a=this._triggers.get(h);if(!a)throw function Xt(c){return new y.vHH(3401,!1)}();return a}trigger(h,a,d,g=!0){const w=this._getTrigger(a),k=new rs(this.id,a,h);let K=this._engine.statesByElement.get(h);K||(ui(h,Oe),ui(h,Oe+"-"+a),this._engine.statesByElement.set(h,K=new Map));let oe=K.get(a);const ge=new ko(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&oe&&ge.absorbOptions(oe.options),K.set(a,ge),oe||(oe=Hs),ge.value!==po&&oe.value===ge.value){if(!function ye(c,h){const a=Object.keys(c),d=Object.keys(h);if(a.length!=d.length)return!1;for(let g=0;g<a.length;g++){const w=a[g];if(!h.hasOwnProperty(w)||c[w]!==h[w])return!1}return!0}(oe.params,ge.params)){const Vt=[],Gt=w.matchStyles(oe.value,oe.params,Vt),Mn=w.matchStyles(ge.value,ge.params,Vt);Vt.length?this._engine.reportError(Vt):this._engine.afterFlush(()=>{Jt(h,Gt),bt(h,Mn)})}return}const ut=Wn(this._engine.playersByElement,h,[]);ut.forEach(Vt=>{Vt.namespaceId==this.id&&Vt.triggerName==a&&Vt.queued&&Vt.destroy()});let ht=w.matchTransition(oe.value,ge.value,h,ge.params),dt=!1;if(!ht){if(!g)return;ht=w.fallbackTransition,dt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:a,transition:ht,fromState:oe,toState:ge,player:k,isFallbackTransition:dt}),dt||(ui(h,Ks),k.onStart(()=>{Yi(h,Ks)})),k.onDone(()=>{let Vt=this.players.indexOf(k);Vt>=0&&this.players.splice(Vt,1);const Gt=this._engine.playersByElement.get(h);if(Gt){let Mn=Gt.indexOf(k);Mn>=0&&Gt.splice(Mn,1)}}),this.players.push(k),ut.push(k),k}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(a=>a.delete(h)),this._elementListeners.forEach((a,d)=>{this._elementListeners.set(d,a.filter(g=>g.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const a=this._engine.playersByElement.get(h);a&&(a.forEach(d=>d.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,a){const d=this._engine.driver.query(h,gt,!0);d.forEach(g=>{if(g[ro])return;const w=this._engine.fetchNamespacesByElement(g);w.size?w.forEach(k=>k.triggerLeaveAnimation(g,a,!1,!0)):this.clearElementCache(g)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(g=>this.clearElementCache(g)))}triggerLeaveAnimation(h,a,d,g){const w=this._engine.statesByElement.get(h),k=new Map;if(w){const K=[];if(w.forEach((oe,ge)=>{if(k.set(ge,oe.value),this._triggers.has(ge)){const De=this.trigger(h,ge,po,g);De&&K.push(De)}}),K.length)return this._engine.markElementAsRemoved(this.id,h,!0,a,k),d&&ln(K).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const a=this._elementListeners.get(h),d=this._engine.statesByElement.get(h);if(a&&d){const g=new Set;a.forEach(w=>{const k=w.name;if(g.has(k))return;g.add(k);const oe=this._triggers.get(k).fallbackTransition,ge=d.get(k)||Hs,De=new ko(po),et=new rs(this.id,k,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:k,transition:oe,fromState:ge,toState:De,player:et,isFallbackTransition:!0})})}}removeNode(h,a){const d=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,a),this.triggerLeaveAnimation(h,a,!0))return;let g=!1;if(d.totalAnimations){const w=d.players.length?d.playersByQueriedElement.get(h):[];if(w&&w.length)g=!0;else{let k=h;for(;k=k.parentNode;)if(d.statesByElement.get(k)){g=!0;break}}}if(this.prepareLeaveAnimationListeners(h),g)d.markElementAsRemoved(this.id,h,!1,a);else{const w=h[ro];(!w||w===Ms)&&(d.afterFlush(()=>this.clearElementCache(h)),d.destroyInnerAnimations(h),d._onRemovalComplete(h,a))}}insertNode(h,a){ui(h,this._hostClassName)}drainQueuedTransitions(h){const a=[];return this._queue.forEach(d=>{const g=d.player;if(g.destroyed)return;const w=d.element,k=this._elementListeners.get(w);k&&k.forEach(K=>{if(K.name==d.triggerName){const oe=pr(w,d.triggerName,d.fromState.value,d.toState.value);oe._data=h,fr(d.player,K.phase,oe,K.callback)}}),g.markedForDestroy?this._engine.afterFlush(()=>{g.destroy()}):a.push(d)}),this._queue=[],a.sort((d,g)=>{const w=d.transition.ast.depCount,k=g.transition.ast.depCount;return 0==w||0==k?w-k:this._engine.driver.containsElement(d.element,g.element)?1:-1})}destroy(h){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class Yr{_onRemovalComplete(h,a){this.onRemovalComplete(h,a)}constructor(h,a,d){this.bodyNode=h,this.driver=a,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(g,w)=>{}}get queuedPlayers(){const h=[];return this._namespaceList.forEach(a=>{a.players.forEach(d=>{d.queued&&h.push(d)})}),h}createNamespace(h,a){const d=new $a(h,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(d,a):(this.newHostElements.set(a,d),this.collectEnterElement(a)),this._namespaceLookup[h]=d}_balanceNamespaceList(h,a){const d=this._namespaceList,g=this.namespacesByHostElement;if(d.length-1>=0){let k=!1,K=this.driver.getParentElement(a);for(;K;){const oe=g.get(K);if(oe){const ge=d.indexOf(oe);d.splice(ge+1,0,h),k=!0;break}K=this.driver.getParentElement(K)}k||d.unshift(h)}else d.push(h);return g.set(a,h),h}register(h,a){let d=this._namespaceLookup[h];return d||(d=this.createNamespace(h,a)),d}registerTrigger(h,a,d){let g=this._namespaceLookup[h];g&&g.register(a,d)&&this.totalAnimations++}destroy(h,a){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const d=this._fetchNamespace(h);this.namespacesByHostElement.delete(d.hostElement);const g=this._namespaceList.indexOf(d);g>=0&&this._namespaceList.splice(g,1),d.destroy(a),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const a=new Set,d=this.statesByElement.get(h);if(d)for(let g of d.values())if(g.namespaceId){const w=this._fetchNamespace(g.namespaceId);w&&a.add(w)}return a}trigger(h,a,d,g){if(Ki(a)){const w=this._fetchNamespace(h);if(w)return w.trigger(a,d,g),!0}return!1}insertNode(h,a,d,g){if(!Ki(a))return;const w=a[ro];if(w&&w.setForRemoval){w.setForRemoval=!1,w.setForMove=!0;const k=this.collectedLeaveElements.indexOf(a);k>=0&&this.collectedLeaveElements.splice(k,1)}if(h){const k=this._fetchNamespace(h);k&&k.insertNode(a,d)}g&&this.collectEnterElement(a)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,a){a?this.disabledNodes.has(h)||(this.disabledNodes.add(h),ui(h,ns)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),Yi(h,ns))}removeNode(h,a,d){if(Ki(a)){const g=h?this._fetchNamespace(h):null;g?g.removeNode(a,d):this.markElementAsRemoved(h,a,!1,d);const w=this.namespacesByHostElement.get(a);w&&w.id!==h&&w.removeNode(a,d)}else this._onRemovalComplete(a,d)}markElementAsRemoved(h,a,d,g,w){this.collectedLeaveElements.push(a),a[ro]={namespaceId:h,setForRemoval:g,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:w}}listen(h,a,d,g,w){return Ki(a)?this._fetchNamespace(h).listen(a,d,g,w):()=>{}}_buildInstruction(h,a,d,g,w){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,d,g,h.fromState.options,h.toState.options,a,w)}destroyInnerAnimations(h){let a=this.driver.query(h,gt,!0);a.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(h,dn,!0),a.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(h){const a=this.playersByElement.get(h);a&&a.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(h){const a=this.playersByQueriedElement.get(h);a&&a.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return ln(this.players).onDone(()=>h());h()})}processLeaveNode(h){const a=h[ro];if(a&&a.setForRemoval){if(h[ro]=Ms,a.namespaceId){this.destroyInnerAnimations(h);const d=this._fetchNamespace(a.namespaceId);d&&d.clearElementCache(h)}this._onRemovalComplete(h,a.setForRemoval)}h.classList?.contains(ns)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(h=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,g)=>this._balanceNamespaceList(d,g)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)ui(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{a=this._flushAnimations(d,h)}finally{for(let g=0;g<d.length;g++)d[g]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],a.length?ln(a).onDone(()=>{d.forEach(g=>g())}):d.forEach(g=>g())}}reportError(h){throw function en(c){return new y.vHH(3402,!1)}()}_flushAnimations(h,a){const d=new eo,g=[],w=new Map,k=[],K=new Map,oe=new Map,ge=new Map,De=new Set;this.disabledNodes.forEach(on=>{De.add(on);const In=this.driver.query(on,".ng-animate-queued",!0);for(let un=0;un<In.length;un++)De.add(In[un])});const et=this.bodyNode,ut=Array.from(this.statesByElement.keys()),ht=go(ut,this.collectedEnterElements),dt=new Map;let Vt=0;ht.forEach((on,In)=>{const un=te+Vt++;dt.set(In,un),on.forEach(Tr=>ui(Tr,un))});const Gt=[],Mn=new Set,jn=new Set;for(let on=0;on<this.collectedLeaveElements.length;on++){const In=this.collectedLeaveElements[on],un=In[ro];un&&un.setForRemoval&&(Gt.push(In),Mn.add(In),un.hasAnimation?this.driver.query(In,".ng-star-inserted",!0).forEach(Tr=>Mn.add(Tr)):jn.add(In))}const Cn=new Map,nn=go(ut,Array.from(Mn));nn.forEach((on,In)=>{const un=ie+Vt++;Cn.set(In,un),on.forEach(Tr=>ui(Tr,un))}),h.push(()=>{ht.forEach((on,In)=>{const un=dt.get(In);on.forEach(Tr=>Yi(Tr,un))}),nn.forEach((on,In)=>{const un=Cn.get(In);on.forEach(Tr=>Yi(Tr,un))}),Gt.forEach(on=>{this.processLeaveNode(on)})});const sr=[],hr=[];for(let on=this._namespaceList.length-1;on>=0;on--)this._namespaceList[on].drainQueuedTransitions(a).forEach(un=>{const Tr=un.player,Ls=un.element;if(sr.push(Tr),this.collectedEnterElements.length){const ho=Ls[ro];if(ho&&ho.setForMove){if(ho.previousTriggersValues&&ho.previousTriggersValues.has(un.triggerName)){const Oo=ho.previousTriggersValues.get(un.triggerName),ga=this.statesByElement.get(un.element);if(ga&&ga.has(un.triggerName)){const cd=ga.get(un.triggerName);cd.value=Oo,ga.set(un.triggerName,cd)}}return void Tr.destroy()}}const Ca=!et||!this.driver.containsElement(et,Ls),Rs=Cn.get(Ls),sl=dt.get(Ls),Mi=this._buildInstruction(un,d,sl,Rs,Ca);if(Mi.errors&&Mi.errors.length)return void hr.push(Mi);if(Ca)return Tr.onStart(()=>Jt(Ls,Mi.fromStyles)),Tr.onDestroy(()=>bt(Ls,Mi.toStyles)),void g.push(Tr);if(un.isFallbackTransition)return Tr.onStart(()=>Jt(Ls,Mi.fromStyles)),Tr.onDestroy(()=>bt(Ls,Mi.toStyles)),void g.push(Tr);const bl=[];Mi.timelines.forEach(ho=>{ho.stretchStartingKeyframe=!0,this.disabledNodes.has(ho.element)||bl.push(ho)}),Mi.timelines=bl,d.append(Ls,Mi.timelines),k.push({instruction:Mi,player:Tr,element:Ls}),Mi.queriedElements.forEach(ho=>Wn(K,ho,[]).push(Tr)),Mi.preStyleProps.forEach((ho,Oo)=>{if(ho.size){let ga=oe.get(Oo);ga||oe.set(Oo,ga=new Set),ho.forEach((cd,Tl)=>ga.add(Tl))}}),Mi.postStyleProps.forEach((ho,Oo)=>{let ga=ge.get(Oo);ga||ge.set(Oo,ga=new Set),ho.forEach((cd,Tl)=>ga.add(Tl))})});if(hr.length){const on=[];hr.forEach(In=>{on.push(function fn(c,h){return new y.vHH(3505,!1)}())}),sr.forEach(In=>In.destroy()),this.reportError(on)}const Fr=new Map,zr=new Map;k.forEach(on=>{const In=on.element;d.has(In)&&(zr.set(In,In),this._beforeAnimationBuild(on.player.namespaceId,on.instruction,Fr))}),g.forEach(on=>{const In=on.element;this._getPreviousPlayers(In,!1,on.namespaceId,on.triggerName,null).forEach(Tr=>{Wn(Fr,In,[]).push(Tr),Tr.destroy()})});const ts=Gt.filter(on=>Ee(on,oe,ge)),fi=new Map;bi(fi,this.driver,jn,ge,Le.l3).forEach(on=>{Ee(on,oe,ge)&&ts.push(on)});const uo=new Map;ht.forEach((on,In)=>{bi(uo,this.driver,new Set(on),oe,Le.k1)}),ts.forEach(on=>{const In=fi.get(on),un=uo.get(on);fi.set(on,new Map([...In?.entries()??[],...un?.entries()??[]]))});const as=[],iu=[],ti={};k.forEach(on=>{const{element:In,player:un,instruction:Tr}=on;if(d.has(In)){if(De.has(In))return un.onDestroy(()=>bt(In,Tr.toStyles)),un.disabled=!0,un.overrideTotalTime(Tr.totalTime),void g.push(un);let Ls=ti;if(zr.size>1){let Rs=In;const sl=[];for(;Rs=Rs.parentNode;){const Mi=zr.get(Rs);if(Mi){Ls=Mi;break}sl.push(Rs)}sl.forEach(Mi=>zr.set(Mi,Ls))}const Ca=this._buildAnimation(un.namespaceId,Tr,Fr,w,uo,fi);if(un.setRealPlayer(Ca),Ls===ti)as.push(un);else{const Rs=this.playersByElement.get(Ls);Rs&&Rs.length&&(un.parentPlayer=ln(Rs)),g.push(un)}}else Jt(In,Tr.fromStyles),un.onDestroy(()=>bt(In,Tr.toStyles)),iu.push(un),De.has(In)&&g.push(un)}),iu.forEach(on=>{const In=w.get(on.element);if(In&&In.length){const un=ln(In);on.setRealPlayer(un)}}),g.forEach(on=>{on.parentPlayer?on.syncPlayerEvents(on.parentPlayer):on.destroy()});for(let on=0;on<Gt.length;on++){const In=Gt[on],un=In[ro];if(Yi(In,ie),un&&un.hasAnimation)continue;let Tr=[];if(K.size){let Ca=K.get(In);Ca&&Ca.length&&Tr.push(...Ca);let Rs=this.driver.query(In,dn,!0);for(let sl=0;sl<Rs.length;sl++){let Mi=K.get(Rs[sl]);Mi&&Mi.length&&Tr.push(...Mi)}}const Ls=Tr.filter(Ca=>!Ca.destroyed);Ls.length?la(this,In,Ls):this.processLeaveNode(In)}return Gt.length=0,as.forEach(on=>{this.players.push(on),on.onDone(()=>{on.destroy();const In=this.players.indexOf(on);this.players.splice(In,1)}),on.play()}),as}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,a,d,g,w){let k=[];if(a){const K=this.playersByQueriedElement.get(h);K&&(k=K)}else{const K=this.playersByElement.get(h);if(K){const oe=!w||w==po;K.forEach(ge=>{ge.queued||!oe&&ge.triggerName!=g||k.push(ge)})}}return(d||g)&&(k=k.filter(K=>!(d&&d!=K.namespaceId||g&&g!=K.triggerName))),k}_beforeAnimationBuild(h,a,d){const w=a.element,k=a.isRemovalTransition?void 0:h,K=a.isRemovalTransition?void 0:a.triggerName;for(const oe of a.timelines){const ge=oe.element,De=ge!==w,et=Wn(d,ge,[]);this._getPreviousPlayers(ge,De,k,K,a.toState).forEach(ht=>{const dt=ht.getRealPlayer();dt.beforeDestroy&&dt.beforeDestroy(),ht.destroy(),et.push(ht)})}Jt(w,a.fromStyles)}_buildAnimation(h,a,d,g,w,k){const K=a.triggerName,oe=a.element,ge=[],De=new Set,et=new Set,ut=a.timelines.map(dt=>{const Vt=dt.element;De.add(Vt);const Gt=Vt[ro];if(Gt&&Gt.removedBeforeQueried)return new Le.ZN(dt.duration,dt.delay);const Mn=Vt!==oe,jn=function z(c){const h=[];return q(c,h),h}((d.get(Vt)||xo).map(Fr=>Fr.getRealPlayer())).filter(Fr=>!!Fr.element&&Fr.element===Vt),Cn=w.get(Vt),nn=k.get(Vt),sr=dr(this._normalizer,dt.keyframes,Cn,nn),hr=this._buildPlayer(dt,sr,jn);if(dt.subTimeline&&g&&et.add(Vt),Mn){const Fr=new rs(h,K,Vt);Fr.setRealPlayer(hr),ge.push(Fr)}return hr});ge.forEach(dt=>{Wn(this.playersByQueriedElement,dt.element,[]).push(dt),dt.onDone(()=>function Zr(c,h,a){let d=c.get(h);if(d){if(d.length){const g=d.indexOf(a);d.splice(g,1)}0==d.length&&c.delete(h)}return d}(this.playersByQueriedElement,dt.element,dt))}),De.forEach(dt=>ui(dt,kt));const ht=ln(ut);return ht.onDestroy(()=>{De.forEach(dt=>Yi(dt,kt)),bt(oe,a.toStyles)}),et.forEach(dt=>{Wn(g,dt,[]).push(ht)}),ht}_buildPlayer(h,a,d){return a.length>0?this.driver.animate(h.element,a,h.duration,h.delay,h.easing,d):new Le.ZN(h.duration,h.delay)}}class rs{constructor(h,a,d){this.namespaceId=h,this.triggerName=a,this.element=d,this._player=new Le.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((a,d)=>{a.forEach(g=>fr(h,d,void 0,g))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const a=this._player;a.triggerCallback&&h.onStart(()=>a.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,a){Wn(this._queuedCallbacks,h,[]).push(a)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const a=this._player;a.triggerCallback&&a.triggerCallback(h)}}function Ki(c){return c&&1===c.nodeType}function aa(c,h){const a=c.style.display;return c.style.display=h??"none",a}function bi(c,h,a,d,g){const w=[];a.forEach(oe=>w.push(aa(oe)));const k=[];d.forEach((oe,ge)=>{const De=new Map;oe.forEach(et=>{const ut=h.computeStyle(ge,et,g);De.set(et,ut),(!ut||0==ut.length)&&(ge[ro]=Bn,k.push(ge))}),c.set(ge,De)});let K=0;return a.forEach(oe=>aa(oe,w[K++])),k}function go(c,h){const a=new Map;if(c.forEach(K=>a.set(K,[])),0==h.length)return a;const g=new Set(h),w=new Map;function k(K){if(!K)return 1;let oe=w.get(K);if(oe)return oe;const ge=K.parentNode;return oe=a.has(ge)?ge:g.has(ge)?1:k(ge),w.set(K,oe),oe}return h.forEach(K=>{const oe=k(K);1!==oe&&a.get(oe).push(K)}),a}function ui(c,h){c.classList?.add(h)}function Yi(c,h){c.classList?.remove(h)}function la(c,h,a){ln(a).onDone(()=>c.processLeaveNode(h))}function q(c,h){for(let a=0;a<c.length;a++){const d=c[a];d instanceof Le.ZE?q(d.players,h):h.push(d)}}function Ee(c,h,a){const d=a.get(c);if(!d)return!1;let g=h.get(c);return g?d.forEach(w=>g.add(w)):h.set(c,d),a.delete(c),!0}class Ve{constructor(h,a,d){this.bodyNode=h,this._driver=a,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(g,w)=>{},this._transitionEngine=new Yr(h,a,d),this._timelineEngine=new Ao(h,a,d),this._transitionEngine.onRemovalComplete=(g,w)=>this.onRemovalComplete(g,w)}registerTrigger(h,a,d,g,w){const k=h+"-"+g;let K=this._triggerCache[k];if(!K){const oe=[],De=qs(this._driver,w,oe,[]);if(oe.length)throw function tr(c,h){return new y.vHH(3404,!1)}();K=function xn(c,h,a){return new ma(c,h,a)}(g,De,this._normalizer),this._triggerCache[k]=K}this._transitionEngine.registerTrigger(a,g,K)}register(h,a){this._transitionEngine.register(h,a)}destroy(h,a){this._transitionEngine.destroy(h,a)}onInsert(h,a,d,g){this._transitionEngine.insertNode(h,a,d,g)}onRemove(h,a,d){this._transitionEngine.removeNode(h,a,d)}disableAnimations(h,a){this._transitionEngine.markElementAsDisabled(h,a)}process(h,a,d,g){if("@"==d.charAt(0)){const[w,k]=Mr(d);this._timelineEngine.command(w,a,k,g)}else this._transitionEngine.trigger(h,a,d,g)}listen(h,a,d,g,w){if("@"==d.charAt(0)){const[k,K]=Mr(d);return this._timelineEngine.listen(k,a,K,w)}return this._transitionEngine.listen(h,a,d,g,w)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}let L=(()=>{class c{static#e=this.initialStylesByElement=new WeakMap;constructor(a,d,g){this._element=a,this._startStyles=d,this._endStyles=g,this._state=0;let w=c.initialStylesByElement.get(a);w||c.initialStylesByElement.set(a,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&bt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bt(this._element,this._initialStyles),this._endStyles&&(bt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(Jt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jt(this._element,this._endStyles),this._endStyles=null),bt(this._element,this._initialStyles),this._state=3)}}return c})();function j(c){let h=null;return c.forEach((a,d)=>{(function x(c){return"display"===c||"position"===c})(d)&&(h=h||new Map,h.set(d,a))}),h}class Q{constructor(h,a,d,g){this.element=h,this.keyframes=a,this.options=d,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const a=[];return h.forEach(d=>{a.push(Object.fromEntries(d))}),a}_triggerWebAnimation(h,a,d){return h.animate(this._convertKeyframesToObject(a),d)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,g)=>{"offset"!==g&&h.set(g,this._finished?d:Sa(this.element,g))}),this.currentSnapshot=h}triggerCallback(h){const a="start"===h?this._onStartFns:this._onDoneFns;a.forEach(d=>d()),a.length=0}}class be{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,a){return!1}containsElement(h,a){return yi(h,a)}getParentElement(h){return cs(h)}query(h,a,d){return Wi(h,a,d)}computeStyle(h,a,d){return window.getComputedStyle(h)[a]}animate(h,a,d,g,w,k=[]){const oe={duration:d,delay:g,fill:0==g?"both":"forwards"};w&&(oe.easing=w);const ge=new Map,De=k.filter(ht=>ht instanceof Q);(function $o(c,h){return 0===c||0===h})(d,g)&&De.forEach(ht=>{ht.currentSnapshot.forEach((dt,Vt)=>ge.set(Vt,dt))});let et=function Ui(c){return c.length?c[0]instanceof Map?c:c.map(h=>nr(h)):[]}(a).map(ht=>He(ht));et=function Pi(c,h,a){if(a.size&&h.length){let d=h[0],g=[];if(a.forEach((w,k)=>{d.has(k)||g.push(k),d.set(k,w)}),g.length)for(let w=1;w<h.length;w++){let k=h[w];g.forEach(K=>k.set(K,Sa(c,K)))}}return h}(h,et,ge);const ut=function ct(c,h){let a=null,d=null;return Array.isArray(h)&&h.length?(a=j(h[0]),h.length>1&&(d=j(h[h.length-1]))):h instanceof Map&&(a=j(h)),a||d?new L(c,a,d):null}(h,et);return new Q(h,et,oe,ut)}}let Nt=(()=>{class c extends Le._j{constructor(a,d){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(d.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(a){const d=this._nextAnimationId.toString();this._nextAnimationId++;const g=Array.isArray(a)?(0,Le.vP)(a):a;return Qr(this._renderer,null,d,"register",[g]),new hn(d,this._renderer)}static#e=this.\u0275fac=function(d){return new(d||c)(y.LFG(y.FYo),y.LFG(de.K0))};static#t=this.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac})}return c})();class hn extends Le.LC{constructor(h,a){super(),this._id=h,this._renderer=a}create(h,a){return new wr(this._id,h,a||{},this._renderer)}}class wr{constructor(h,a,d,g){this.id=h,this.element=a,this._renderer=g,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(h,a){return this._renderer.listen(this.element,`@@${this.id}:${h}`,a)}_command(h,...a){return Qr(this._renderer,this.element,this.id,h,a)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Qr(c,h,a,d,g){return c.setProperty(h,`@@${a}:${d}`,g)}const Dr="@.disabled";let Zi=(()=>{class c{constructor(a,d,g){this.delegate=a,this.engine=d,this._zone=g,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,d.onRemovalComplete=(w,k)=>{const K=k?.parentNode(w);K&&k.removeChild(K,w)}}createRenderer(a,d){const w=this.delegate.createRenderer(a,d);if(!(a&&d&&d.data&&d.data.animation)){let De=this._rendererCache.get(w);return De||(De=new js("",w,this.engine,()=>this._rendererCache.delete(w)),this._rendererCache.set(w,De)),De}const k=d.id,K=d.id+"-"+this._currentId;this._currentId++,this.engine.register(K,a);const oe=De=>{Array.isArray(De)?De.forEach(oe):this.engine.registerTrigger(k,K,a,De.name,De)};return d.data.animation.forEach(oe),new Ni(this,K,w,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,d,g){a>=0&&a<this._microtaskId?this._zone.run(()=>d(g)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(w=>{const[k,K]=w;k(K)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,g]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(d){return new(d||c)(y.LFG(y.FYo),y.LFG(Ve),y.LFG(y.R0b))};static#t=this.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac})}return c})();class js{constructor(h,a,d,g){this.namespaceId=h,this.delegate=a,this.engine=d,this._onDestroy=g}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,a){return this.delegate.createElement(h,a)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,a){this.delegate.appendChild(h,a),this.engine.onInsert(this.namespaceId,a,h,!1)}insertBefore(h,a,d,g=!0){this.delegate.insertBefore(h,a,d),this.engine.onInsert(this.namespaceId,a,h,g)}removeChild(h,a,d){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(h,a){return this.delegate.selectRootElement(h,a)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,a,d,g){this.delegate.setAttribute(h,a,d,g)}removeAttribute(h,a,d){this.delegate.removeAttribute(h,a,d)}addClass(h,a){this.delegate.addClass(h,a)}removeClass(h,a){this.delegate.removeClass(h,a)}setStyle(h,a,d,g){this.delegate.setStyle(h,a,d,g)}removeStyle(h,a,d){this.delegate.removeStyle(h,a,d)}setProperty(h,a,d){"@"==a.charAt(0)&&a==Dr?this.disableAnimations(h,!!d):this.delegate.setProperty(h,a,d)}setValue(h,a){this.delegate.setValue(h,a)}listen(h,a,d){return this.delegate.listen(h,a,d)}disableAnimations(h,a){this.engine.disableAnimations(h,a)}}class Ni extends js{constructor(h,a,d,g,w){super(a,d,g,w),this.factory=h,this.namespaceId=a}setProperty(h,a,d){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Dr?this.disableAnimations(h,d=void 0===d||!!d):this.engine.process(this.namespaceId,h,a.slice(1),d):this.delegate.setProperty(h,a,d)}listen(h,a,d){if("@"==a.charAt(0)){const g=function Gi(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(h);let w=a.slice(1),k="";return"@"!=w.charAt(0)&&([w,k]=function $s(c){const h=c.indexOf(".");return[c.substring(0,h),c.slice(h+1)]}(w)),this.engine.listen(this.namespaceId,g,w,k,K=>{this.factory.scheduleListenerCallback(K._data||-1,d,K)})}return this.delegate.listen(h,a,d)}}const di=[{provide:Le._j,useClass:Nt},{provide:Er,useFactory:function ya(){return new Or}},{provide:Ve,useClass:(()=>{class c extends Ve{constructor(a,d,g,w){super(a.body,d,g)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(d){return new(d||c)(y.LFG(de.K0),y.LFG(Bi),y.LFG(Er),y.LFG(y.z2F))};static#t=this.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac})}return c})()},{provide:y.FYo,useFactory:function va(c,h,a){return new Zi(c,h,a)},deps:[E.se,Ve,y.R0b]}],Qi=[{provide:Bi,useFactory:()=>new be},{provide:y.QbO,useValue:"BrowserAnimations"},...di],Ps=[{provide:Bi,useClass:Si},{provide:y.QbO,useValue:"NoopAnimations"},...di];let za=(()=>{class c{static withConfig(a){return{ngModule:c,providers:a.disableAnimations?Ps:Qi}}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({providers:Qi,imports:[E.b2]})}return c})();var Kl=$(9413),Ur=$(1210),Yl=$(721),ca=$(7732),Fo=$(5017),Lo=$(5592),Wa=$(6232),_o=$(2096),Ji=$(8645),qo=$(4829),Ro=$(1631),No=$(4266),is=$(4674),Sl=$(7400);const Zl=["addListener","removeListener"],qa=["addEventListener","removeEventListener"],du=["on","off"];function ss(c,h,a,d){if((0,is.m)(a)&&(d=a,a=void 0),d)return ss(c,h,a).pipe((0,Sl.Z)(d));const[g,w]=function J(c){return(0,is.m)(c.addEventListener)&&(0,is.m)(c.removeEventListener)}(c)?qa.map(k=>K=>c[k](h,K,a)):function hu(c){return(0,is.m)(c.addListener)&&(0,is.m)(c.removeListener)}(c)?Zl.map(yo(c,h)):function R(c){return(0,is.m)(c.on)&&(0,is.m)(c.off)}(c)?du.map(yo(c,h)):[];if(!g&&(0,No.z)(c))return(0,Ro.z)(k=>ss(k,h,a))((0,qo.Xf)(c));if(!g)throw new TypeError("Invalid event target");return new Lo.y(k=>{const K=(...oe)=>k.next(1<oe.length?oe:oe[0]);return g(K),()=>w(K)})}function yo(c,h){return a=>d=>c[a](h,d)}var V=$(6321),W=$(671);const{isArray:Et}=Array;function En(c){return 1===c.length&&Et(c[0])?c[0]:c}var Vr=$(8251);$(3019);var mi=$(9940);function kr(...c){const h=(0,mi.jO)(c),a=En(c);return a.length?new Lo.y(d=>{let g=a.map(()=>[]),w=a.map(()=>!1);d.add(()=>{g=w=null});for(let k=0;!d.closed&&k<a.length;k++)(0,qo.Xf)(a[k]).subscribe((0,Vr.x)(d,K=>{if(g[k].push(K),g.every(oe=>oe.length)){const oe=g.map(ge=>ge.shift());d.next(h?h(...oe):oe),g.some((ge,De)=>!ge.length&&w[De])&&d.complete()}},()=>{w[k]=!0,!g[k].length&&d.complete()}));return()=>{g=w=null}}):Wa.E}var Ti=$(5211),at=$(9773),Cr=$(2181),Hr=$(8180),Ko=$(9397),Wt=$(7398),cn=$(9360),Ql=$(2737),Ht=$(2420);function Xe(...c){const h=(0,mi.jO)(c);return(0,cn.e)((a,d)=>{const g=c.length,w=new Array(g);let k=c.map(()=>!1),K=!1;for(let oe=0;oe<g;oe++)(0,qo.Xf)(c[oe]).subscribe((0,Vr.x)(d,ge=>{w[oe]=ge,!K&&!k[oe]&&(k[oe]=!0,(K=k.every(Ql.y))&&(k=null))},Ht.Z));a.subscribe((0,Vr.x)(d,oe=>{if(K){const ge=[oe,...w];d.next(h?h(...ge):ge)}}))})}$(975);var Al=$(4664);$(7921),$(3997),$(95),Math,Math,Math;const Df=["*"],rm=["dialog"];function ku(c){return"string"==typeof c}function fa(c){return null!=c}function Ba(c){return(c||document.body).getBoundingClientRect()}const cc={animation:!0,transitionTimerDelayMs:5},uc=()=>{},{transitionTimerDelayMs:Yc}=cc,rl=new Map,Do=(c,h,a,d)=>{let g=d.context||{};const w=rl.get(h);if(w)switch(d.runningTransition){case"continue":return Wa.E;case"stop":c.run(()=>w.transition$.complete()),g=Object.assign(w.context,g),rl.delete(h)}const k=a(h,d.animation,g)||uc;if(!d.animation||"none"===window.getComputedStyle(h).transitionProperty)return c.run(()=>k()),(0,_o.of)(void 0).pipe(function Th(c){return h=>new Lo.y(a=>h.subscribe({next:k=>c.run(()=>a.next(k)),error:k=>c.run(()=>a.error(k)),complete:()=>c.run(()=>a.complete())}))}(c));const K=new Ji.x,oe=new Ji.x,ge=K.pipe(function Mo(...c){return h=>(0,Ti.z)(h,(0,_o.of)(...c))}(!0));rl.set(h,{transition$:K,complete:()=>{oe.next(),oe.complete()},context:g});const De=function Ih(c){const{transitionDelay:h,transitionDuration:a}=window.getComputedStyle(c);return 1e3*(parseFloat(h)+parseFloat(a))}(h);return c.runOutsideAngular(()=>{const et=ss(h,"transitionend").pipe((0,at.R)(ge),(0,Cr.h)(({target:ht})=>ht===h));(function gr(...c){return 1===(c=En(c)).length?(0,qo.Xf)(c[0]):new Lo.y(function br(c){return h=>{let a=[];for(let d=0;a&&!h.closed&&d<c.length;d++)a.push((0,qo.Xf)(c[d]).subscribe((0,Vr.x)(h,g=>{if(a){for(let w=0;w<a.length;w++)w!==d&&a[w].unsubscribe();a=null}h.next(g)})))}}(c))})(function rt(c=0,h,a=V.P){let d=-1;return null!=h&&((0,W.K)(h)?a=h:d=h),new Lo.y(g=>{let w=function Te(c){return c instanceof Date&&!isNaN(c)}(c)?+c-a.now():c;w<0&&(w=0);let k=0;return a.schedule(function(){g.closed||(g.next(k++),0<=d?this.schedule(void 0,d):g.complete())},w)})}(De+Yc).pipe((0,at.R)(ge)),et,oe).pipe((0,at.R)(ge)).subscribe(()=>{rl.delete(h),c.run(()=>{k(),K.next(),K.complete()})})}),K.asObservable()};let Nd=(()=>{class c{constructor(){this.animation=cc.animation}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Ch=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),gl=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),zp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),Ah=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})();var zi=function(c){return c[c.Tab=9]="Tab",c[c.Enter=13]="Enter",c[c.Escape=27]="Escape",c[c.Space=32]="Space",c[c.PageUp=33]="PageUp",c[c.PageDown=34]="PageDown",c[c.End=35]="End",c[c.Home=36]="Home",c[c.ArrowLeft=37]="ArrowLeft",c[c.ArrowUp=38]="ArrowUp",c[c.ArrowRight=39]="ArrowRight",c[c.ArrowDown=40]="ArrowDown",c}(zi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ju=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Mh(c){const h=Array.from(c.querySelectorAll(ju)).filter(a=>-1!==a.tabIndex);return[h[0],h[h.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Xu=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),_g=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})();class yl{constructor(h,a,d){this.nodes=h,this.viewRef=a,this.componentRef=d}}let vg=(()=>{class c{constructor(a,d){this._el=a,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Hr.q)(1)).subscribe(()=>{Do(this._zone,this._el.nativeElement,(a,d)=>{d&&Ba(a),a.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Do(this._zone,this._el.nativeElement,({classList:a})=>a.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(d){return new(d||c)(y.Y36(y.SBq),y.Y36(y.R0b))};static#t=this.\u0275cmp=y.Xpm({type:c,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(d,g){2&d&&(y.Tol("modal-backdrop"+(g.backdropClass?" "+g.backdropClass:"")),y.ekj("show",!g.animation)("fade",g.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[y.jDz],decls:0,vars:0,template:function(d,g){},encapsulation:2})}return c})();class op{update(h){}close(h){}dismiss(h){}}const td=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],tu=["animation","backdropClass"];class ap{_applyWindowOptions(h,a){td.forEach(d=>{fa(a[d])&&(h[d]=a[d])})}_applyBackdropOptions(h,a){tu.forEach(d=>{fa(a[d])&&(h[d]=a[d])})}update(h){this._applyWindowOptions(this._windowCmptRef.instance,h),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,h)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,at.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,at.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(h,a,d,g){this._windowCmptRef=h,this._contentRef=a,this._backdropCmptRef=d,this._beforeDismiss=g,this._closed=new Ji.x,this._dismissed=new Ji.x,this._hidden=new Ji.x,h.instance.dismissEvent.subscribe(w=>{this.dismiss(w)}),this.result=new Promise((w,k)=>{this._resolve=w,this._reject=k}),this.result.then(null,()=>{})}close(h){this._windowCmptRef&&(this._closed.next(h),this._resolve(h),this._removeModalElements())}_dismiss(h){this._dismissed.next(h),this._reject(h),this._removeModalElements()}dismiss(h){if(this._windowCmptRef)if(this._beforeDismiss){const a=this._beforeDismiss();!function Va(c){return c&&c.then}(a)?!1!==a&&this._dismiss(h):a.then(d=>{!1!==d&&this._dismiss(h)},()=>{})}else this._dismiss(h)}_removeModalElements(){const h=this._windowCmptRef.instance.hide(),a=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,_o.of)(void 0);h.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),a.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),kr(h,a).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var nu=function(c){return c[c.BACKDROP_CLICK=0]="BACKDROP_CLICK",c[c.ESC=1]="ESC",c}(nu||{});let jd=(()=>{class c{constructor(a,d,g){this._document=a,this._elRef=d,this._zone=g,this._closed$=new Ji.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new y.vpe,this.shown=new Ji.x,this.hidden=new Ji.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ku(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(a){this.dismissEvent.emit(a)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Hr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:a}=this._elRef,d={animation:this.animation,runningTransition:"stop"},k=kr(Do(this._zone,a,()=>a.classList.remove("show"),d),Do(this._zone,this._dialogEl.nativeElement,()=>{},d));return k.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),k}_show(){const a={animation:this.animation,runningTransition:"continue"};kr(Do(this._zone,this._elRef.nativeElement,(w,k)=>{k&&Ba(w),w.classList.add("show")},a),Do(this._zone,this._dialogEl.nativeElement,()=>{},a)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:a}=this._elRef;this._zone.runOutsideAngular(()=>{ss(a,"keydown").pipe((0,at.R)(this._closed$),(0,Cr.h)(g=>g.which===zi.Escape)).subscribe(g=>{this.keyboard?requestAnimationFrame(()=>{g.defaultPrevented||this._zone.run(()=>this.dismiss(nu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;ss(this._dialogEl.nativeElement,"mousedown").pipe((0,at.R)(this._closed$),(0,Ko.b)(()=>d=!1),(0,Al.w)(()=>ss(a,"mouseup").pipe((0,at.R)(this._closed$),(0,Hr.q)(1))),(0,Cr.h)(({target:g})=>a===g)).subscribe(()=>{d=!0}),ss(a,"click").pipe((0,at.R)(this._closed$)).subscribe(({target:g})=>{a===g&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(nu.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:a}=this._elRef;if(!a.contains(document.activeElement)){const d=a.querySelector("[ngbAutofocus]"),g=Mh(a)[0];(d||g||a).focus()}}_restoreFocus(){const a=this._document.body,d=this._elWithFocus;let g;g=d&&d.focus&&a.contains(d)?d:a,this._zone.runOutsideAngular(()=>{setTimeout(()=>g.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Do(this._zone,this._elRef.nativeElement,({classList:a})=>(a.add("modal-static"),()=>a.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(d){return new(d||c)(y.Y36(de.K0),y.Y36(y.SBq),y.Y36(y.R0b))};static#t=this.\u0275cmp=y.Xpm({type:c,selectors:[["ngb-modal-window"]],viewQuery:function(d,g){if(1&d&&y.Gf(rm,7),2&d){let w;y.iGM(w=y.CRH())&&(g._dialogEl=w.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(d,g){2&d&&(y.uIk("aria-modal",!0)("aria-labelledby",g.ariaLabelledBy)("aria-describedby",g.ariaDescribedBy),y.Tol("modal d-block"+(g.windowClass?" "+g.windowClass:"")),y.ekj("fade",g.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[y.jDz],ngContentSelectors:Df,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(d,g){1&d&&(y.F$t(),y.TgZ(0,"div",0,1)(2,"div",2),y.Hsn(3),y.qZA()()),2&d&&y.Tol("modal-dialog"+(g.size?" modal-"+g.size:"")+(g.centered?" modal-dialog-centered":"")+g.fullscreenClass+(g.scrollable?" modal-dialog-scrollable":"")+(g.modalDialogClass?" "+g.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return c})(),P_=(()=>{class c{constructor(a){this._document=a}hide(){const a=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,g=d.style,{overflow:w,paddingRight:k}=g;if(a>0){const K=parseFloat(window.getComputedStyle(d).paddingRight);g.paddingRight=`${K+a}px`}return g.overflow="hidden",()=>{a>0&&(g.paddingRight=k),g.overflow=w}}static#e=this.\u0275fac=function(d){return new(d||c)(y.LFG(de.K0))};static#t=this.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),nd=(()=>{class c{constructor(a,d,g,w,k,K,oe){this._applicationRef=a,this._injector=d,this._environmentInjector=g,this._document=w,this._scrollBar=k,this._rendererFactory=K,this._ngZone=oe,this._activeWindowCmptHasChanged=new Ji.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new y.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ge=this._windowCmpts[this._windowCmpts.length-1];((c,h,a,d=!1)=>{c.runOutsideAngular(()=>{const g=ss(h,"focusin").pipe((0,at.R)(a),(0,Wt.U)(w=>w.target));ss(h,"keydown").pipe((0,at.R)(a),(0,Cr.h)(w=>w.which===zi.Tab),Xe(g)).subscribe(([w,k])=>{const[K,oe]=Mh(h);(k===K||k===h)&&w.shiftKey&&(oe.focus(),w.preventDefault()),k===oe&&!w.shiftKey&&(K.focus(),w.preventDefault())}),d&&ss(h,"click").pipe((0,at.R)(a),Xe(g),(0,Wt.U)(w=>w[1])).subscribe(w=>w.focus())})})(this._ngZone,ge.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ge.location.nativeElement)}})}_restoreScrollBar(){const a=this._scrollBarRestoreFn;a&&(this._scrollBarRestoreFn=null,a())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(a,d,g){const w=g.container instanceof HTMLElement?g.container:fa(g.container)?this._document.querySelector(g.container):this._document.body,k=this._rendererFactory.createRenderer(null,null);if(!w)throw new Error(`The specified modal container "${g.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const K=new op,oe=(a=g.injector||a).get(y.lqb,null)||this._environmentInjector,ge=this._getContentRef(a,oe,d,K,g);let De=!1!==g.backdrop?this._attachBackdrop(w):void 0,et=this._attachWindowComponent(w,ge.nodes),ut=new ap(et,ge,De,g.beforeDismiss);return this._registerModalRef(ut),this._registerWindowCmpt(et),ut.hidden.pipe((0,Hr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(k.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),K.close=ht=>{ut.close(ht)},K.dismiss=ht=>{ut.dismiss(ht)},K.update=ht=>{ut.update(ht)},ut.update(g),1===this._modalRefs.length&&k.addClass(this._document.body,"modal-open"),De&&De.instance&&De.changeDetectorRef.detectChanges(),et.changeDetectorRef.detectChanges(),ut}get activeInstances(){return this._activeInstances}dismissAll(a){this._modalRefs.forEach(d=>d.dismiss(a))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(a){let d=(0,y.LMc)(vg,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),a.appendChild(d.location.nativeElement),d}_attachWindowComponent(a,d){let g=(0,y.LMc)(jd,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(g.hostView),a.appendChild(g.location.nativeElement),g}_getContentRef(a,d,g,w,k){return g?g instanceof y.Rgc?this._createFromTemplateRef(g,w):ku(g)?this._createFromString(g):this._createFromComponent(a,d,g,w,k):new yl([])}_createFromTemplateRef(a,d){const w=a.createEmbeddedView({$implicit:d,close(k){d.close(k)},dismiss(k){d.dismiss(k)}});return this._applicationRef.attachView(w),new yl([w.rootNodes],w)}_createFromString(a){const d=this._document.createTextNode(`${a}`);return new yl([[d]])}_createFromComponent(a,d,g,w,k){const K=y.zs3.create({providers:[{provide:op,useValue:w}],parent:a}),oe=(0,y.LMc)(g,{environmentInjector:d,elementInjector:K}),ge=oe.location.nativeElement;return k.scrollable&&ge.classList.add("component-host-scrollable"),this._applicationRef.attachView(oe.hostView),new yl([[ge]],oe.hostView,oe)}_setAriaHidden(a){const d=a.parentElement;d&&a!==this._document.body&&(Array.from(d.children).forEach(g=>{g!==a&&"SCRIPT"!==g.nodeName&&(this._ariaHiddenValues.set(g,g.getAttribute("aria-hidden")),g.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((a,d)=>{a?d.setAttribute("aria-hidden",a):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(a){const d=()=>{const g=this._modalRefs.indexOf(a);g>-1&&(this._modalRefs.splice(g,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(a),this._activeInstances.emit(this._modalRefs),a.result.then(d,d)}_registerWindowCmpt(a){this._windowCmpts.push(a),this._activeWindowCmptHasChanged.next(),a.onDestroy(()=>{const d=this._windowCmpts.indexOf(a);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(d){return new(d||c)(y.LFG(y.z2F),y.LFG(y.zs3),y.LFG(y.lqb),y.LFG(de.K0),y.LFG(P_),y.LFG(y.FYo),y.LFG(y.R0b))};static#t=this.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Om=(()=>{class c{constructor(a){this._ngbConfig=a,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(a){this._animation=a}static#e=this.\u0275fac=function(d){return new(d||c)(y.LFG(Nd))};static#t=this.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),vl=(()=>{class c{constructor(a,d,g){this._injector=a,this._modalStack=d,this._config=g}open(a,d={}){const g={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,a,g)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(a){this._modalStack.dismissAll(a)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(d){return new(d||c)(y.LFG(y.zs3),y.LFG(nd),y.LFG(Om))};static#t=this.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Kh=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({providers:[vl]})}return c})(),Vm=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),Jh=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),up=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),ef=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),dp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),od=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),Gm=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),gp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),rf=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})();new y.OlP("live announcer delay",{providedIn:"root",factory:function mp(){return 100}});let _p=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})(),ld=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({})}return c})();const kg=[Ch,gl,zp,Ah,Xu,_g,Kh,Vm,ld,Jh,up,ef,dp,od,Gm,gp,rf,_p];let Ym=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c});static#n=this.\u0275inj=y.cJS({imports:[kg,Ch,gl,zp,Ah,Xu,_g,Kh,Vm,ld,Jh,up,ef,dp,od,Gm,gp,rf,_p]})}return c})();var Zm=$(8416),Qm=$(8672),sf=$(6974);let K_=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=y.oAB({type:c,bootstrap:[Qe]});static#n=this.\u0275inj=y.cJS({imports:[E.b2,Ye,Ym,(0,Yl.hX)(()=>(0,Yl.ZF)(Kl.N.firebaseConfig)),(0,ca.Cm)(()=>(0,ca.ad)()),(0,Fo.Vq)(()=>(0,Fo.cF)()),(0,Ur.AR)(()=>(0,Ur.v0)()),za,Zm.q,Qm.ef,za,sf.Xt,Zm.q,Qm.ef,za,sf.Xt]})}return c})();E.q6().bootstrapModule(K_).catch(c=>console.error(c))},5619:(Lt,Ke,$)=>{$.d(Ke,{X:()=>B});var E=$(8645);class B extends E.x{constructor(y){super(),this._value=y}get value(){return this.getValue()}_subscribe(y){const ce=super._subscribe(y);return!ce.closed&&y.next(this._value),ce}getValue(){const{hasError:y,thrownError:ce,_value:he}=this;if(y)throw ce;return this._throwIfClosed(),he}next(y){super.next(this._value=y)}}},5592:(Lt,Ke,$)=>{$.d(Ke,{y:()=>Ce});var E=$(305),B=$(7394),Fe=$(4850),y=$(8407),ce=$(2653),he=$(4674),Ae=$(1441);let Ce=(()=>{class ze{constructor(it){it&&(this._subscribe=it)}lift(it){const pt=new ze;return pt.source=this,pt.operator=it,pt}subscribe(it,pt,Rt){const Yt=function Ie(ze){return ze&&ze instanceof E.Lv||function de(ze){return ze&&(0,he.m)(ze.next)&&(0,he.m)(ze.error)&&(0,he.m)(ze.complete)}(ze)&&(0,B.Nn)(ze)}(it)?it:new E.Hp(it,pt,Rt);return(0,Ae.x)(()=>{const{operator:St,source:$n}=this;Yt.add(St?St.call(Yt,$n):$n?this._subscribe(Yt):this._trySubscribe(Yt))}),Yt}_trySubscribe(it){try{return this._subscribe(it)}catch(pt){it.error(pt)}}forEach(it,pt){return new(pt=Ye(pt))((Rt,Yt)=>{const St=new E.Hp({next:$n=>{try{it($n)}catch(Re){Yt(Re),St.unsubscribe()}},error:Yt,complete:Rt});this.subscribe(St)})}_subscribe(it){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(it)}[Fe.L](){return this}pipe(...it){return(0,y.U)(it)(this)}toPromise(it){return new(it=Ye(it))((pt,Rt)=>{let Yt;this.subscribe(St=>Yt=St,St=>Rt(St),()=>pt(Yt))})}}return ze.create=wt=>new ze(wt),ze})();function Ye(ze){var wt;return null!==(wt=ze??ce.config.Promise)&&void 0!==wt?wt:Promise}},8645:(Lt,Ke,$)=>{$.d(Ke,{x:()=>Ae});var E=$(5592),B=$(7394);const y=(0,$(2306).d)(Ye=>function(){Ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=$(9039),he=$(1441);let Ae=(()=>{class Ye extends E.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ie){const ze=new Ce(this,this);return ze.operator=Ie,ze}_throwIfClosed(){if(this.closed)throw new y}next(Ie){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ze of this.currentObservers)ze.next(Ie)}})}error(Ie){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ie;const{observers:ze}=this;for(;ze.length;)ze.shift().error(Ie)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ie;return(null===(Ie=this.observers)||void 0===Ie?void 0:Ie.length)>0}_trySubscribe(Ie){return this._throwIfClosed(),super._trySubscribe(Ie)}_subscribe(Ie){return this._throwIfClosed(),this._checkFinalizedStatuses(Ie),this._innerSubscribe(Ie)}_innerSubscribe(Ie){const{hasError:ze,isStopped:wt,observers:it}=this;return ze||wt?B.Lc:(this.currentObservers=null,it.push(Ie),new B.w0(()=>{this.currentObservers=null,(0,ce.P)(it,Ie)}))}_checkFinalizedStatuses(Ie){const{hasError:ze,thrownError:wt,isStopped:it}=this;ze?Ie.error(wt):it&&Ie.complete()}asObservable(){const Ie=new E.y;return Ie.source=this,Ie}}return Ye.create=(de,Ie)=>new Ce(de,Ie),Ye})();class Ce extends Ae{constructor(de,Ie){super(),this.destination=de,this.source=Ie}next(de){var Ie,ze;null===(ze=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.next)||void 0===ze||ze.call(Ie,de)}error(de){var Ie,ze;null===(ze=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.error)||void 0===ze||ze.call(Ie,de)}complete(){var de,Ie;null===(Ie=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===Ie||Ie.call(de)}_subscribe(de){var Ie,ze;return null!==(ze=null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(de))&&void 0!==ze?ze:B.Lc}}},305:(Lt,Ke,$)=>{$.d(Ke,{Hp:()=>Rt,Lv:()=>ze});var E=$(4674),B=$(7394),Fe=$(2653),y=$(3894),ce=$(2420);const he=Ye("C",void 0,void 0);function Ye(_e,xe,Qe){return{kind:_e,value:xe,error:Qe}}var de=$(7599),Ie=$(1441);class ze extends B.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,B.Nn)(xe)&&xe.add(this)):this.destination=Re}static create(xe,Qe,Le){return new Rt(xe,Qe,Le)}next(xe){this.isStopped?$n(function Ce(_e){return Ye("N",_e,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?$n(function Ae(_e){return Ye("E",void 0,_e)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?$n(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const wt=Function.prototype.bind;function it(_e,xe){return wt.call(_e,xe)}class pt{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(xe)}catch(Le){Yt(Le)}}error(xe){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(xe)}catch(Le){Yt(Le)}else Yt(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(Qe){Yt(Qe)}}}class Rt extends ze{constructor(xe,Qe,Le){let Ue;if(super(),(0,E.m)(xe)||!xe)Ue={next:xe??void 0,error:Qe??void 0,complete:Le??void 0};else{let je;this&&Fe.config.useDeprecatedNextContext?(je=Object.create(xe),je.unsubscribe=()=>this.unsubscribe(),Ue={next:xe.next&&it(xe.next,je),error:xe.error&&it(xe.error,je),complete:xe.complete&&it(xe.complete,je)}):Ue=xe}this.destination=new pt(Ue)}}function Yt(_e){Fe.config.useDeprecatedSynchronousErrorHandling?(0,Ie.O)(_e):(0,y.h)(_e)}function $n(_e,xe){const{onStoppedNotification:Qe}=Fe.config;Qe&&de.z.setTimeout(()=>Qe(_e,xe))}const Re={closed:!0,next:ce.Z,error:function St(_e){throw _e},complete:ce.Z}},7394:(Lt,Ke,$)=>{$.d(Ke,{Lc:()=>he,w0:()=>ce,Nn:()=>Ae});var E=$(4674);const Fe=(0,$(2306).d)(Ye=>function(Ie){Ye(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((ze,wt)=>`${wt+1}) ${ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie});var y=$(9039);class ce{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:Ie}=this;if(Ie)if(this._parentage=null,Array.isArray(Ie))for(const it of Ie)it.remove(this);else Ie.remove(this);const{initialTeardown:ze}=this;if((0,E.m)(ze))try{ze()}catch(it){de=it instanceof Fe?it.errors:[it]}const{_finalizers:wt}=this;if(wt){this._finalizers=null;for(const it of wt)try{Ce(it)}catch(pt){de=de??[],pt instanceof Fe?de=[...de,...pt.errors]:de.push(pt)}}if(de)throw new Fe(de)}}add(de){var Ie;if(de&&de!==this)if(this.closed)Ce(de);else{if(de instanceof ce){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(Ie=this._finalizers)&&void 0!==Ie?Ie:[]).push(de)}}_hasParent(de){const{_parentage:Ie}=this;return Ie===de||Array.isArray(Ie)&&Ie.includes(de)}_addParent(de){const{_parentage:Ie}=this;this._parentage=Array.isArray(Ie)?(Ie.push(de),Ie):Ie?[Ie,de]:de}_removeParent(de){const{_parentage:Ie}=this;Ie===de?this._parentage=null:Array.isArray(Ie)&&(0,y.P)(Ie,de)}remove(de){const{_finalizers:Ie}=this;Ie&&(0,y.P)(Ie,de),de instanceof ce&&de._removeParent(this)}}ce.EMPTY=(()=>{const Ye=new ce;return Ye.closed=!0,Ye})();const he=ce.EMPTY;function Ae(Ye){return Ye instanceof ce||Ye&&"closed"in Ye&&(0,E.m)(Ye.remove)&&(0,E.m)(Ye.add)&&(0,E.m)(Ye.unsubscribe)}function Ce(Ye){(0,E.m)(Ye)?Ye():Ye.unsubscribe()}},2653:(Lt,Ke,$)=>{$.d(Ke,{config:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4036:(Lt,Ke,$)=>{$.d(Ke,{z:()=>Fe});var E=$(6973),B=$(305);function Fe(y,ce){const he="object"==typeof ce;return new Promise((Ae,Ce)=>{const Ye=new B.Hp({next:de=>{Ae(de),Ye.unsubscribe()},error:Ce,complete:()=>{he?Ae(ce.defaultValue):Ce(new E.K)}});y.subscribe(Ye)})}},5211:(Lt,Ke,$)=>{$.d(Ke,{z:()=>ce});var E=$(7537),Fe=$(9940),y=$(2459);function ce(...he){return function B(){return(0,E.J)(1)}()((0,y.D)(he,(0,Fe.yG)(he)))}},6232:(Lt,Ke,$)=>{$.d(Ke,{E:()=>B});const B=new($(5592).y)(ce=>ce.complete())},2459:(Lt,Ke,$)=>{$.d(Ke,{D:()=>xe});var E=$(4829),B=$(3093),Fe=$(5137),he=$(5592),Ce=$(4971),Ye=$(4674),de=$(7103);function ze(Qe,Le){if(!Qe)throw new Error("Iterable cannot be null");return new he.y(Ue=>{(0,de.f)(Ue,Le,()=>{const je=Qe[Symbol.asyncIterator]();(0,de.f)(Ue,Le,()=>{je.next().then(lt=>{lt.done?Ue.complete():Ue.next(lt.value)})},0,!0)})})}var wt=$(8382),it=$(4026),pt=$(4266),Rt=$(3664),Yt=$(5726),St=$(9853),$n=$(541);function xe(Qe,Le){return Le?function _e(Qe,Le){if(null!=Qe){if((0,wt.c)(Qe))return function y(Qe,Le){return(0,E.Xf)(Qe).pipe((0,Fe.R)(Le),(0,B.Q)(Le))}(Qe,Le);if((0,pt.z)(Qe))return function Ae(Qe,Le){return new he.y(Ue=>{let je=0;return Le.schedule(function(){je===Qe.length?Ue.complete():(Ue.next(Qe[je++]),Ue.closed||this.schedule())})})}(Qe,Le);if((0,it.t)(Qe))return function ce(Qe,Le){return(0,E.Xf)(Qe).pipe((0,Fe.R)(Le),(0,B.Q)(Le))}(Qe,Le);if((0,Yt.D)(Qe))return ze(Qe,Le);if((0,Rt.T)(Qe))return function Ie(Qe,Le){return new he.y(Ue=>{let je;return(0,de.f)(Ue,Le,()=>{je=Qe[Ce.h](),(0,de.f)(Ue,Le,()=>{let lt,_t;try{({value:lt,done:_t}=je.next())}catch(Xn){return void Ue.error(Xn)}_t?Ue.complete():Ue.next(lt)},0,!0)}),()=>(0,Ye.m)(je?.return)&&je.return()})}(Qe,Le);if((0,$n.L)(Qe))return function Re(Qe,Le){return ze((0,$n.Q)(Qe),Le)}(Qe,Le)}throw(0,St.z)(Qe)}(Qe,Le):(0,E.Xf)(Qe)}},4829:(Lt,Ke,$)=>{$.d(Ke,{Xf:()=>wt});var E=$(7582),B=$(4266),Fe=$(4026),y=$(5592),ce=$(8382),he=$(5726),Ae=$(9853),Ce=$(3664),Ye=$(541),de=$(4674),Ie=$(3894),ze=$(4850);function wt(_e){if(_e instanceof y.y)return _e;if(null!=_e){if((0,ce.c)(_e))return function it(_e){return new y.y(xe=>{const Qe=_e[ze.L]();if((0,de.m)(Qe.subscribe))return Qe.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,B.z)(_e))return function pt(_e){return new y.y(xe=>{for(let Qe=0;Qe<_e.length&&!xe.closed;Qe++)xe.next(_e[Qe]);xe.complete()})}(_e);if((0,Fe.t)(_e))return function Rt(_e){return new y.y(xe=>{_e.then(Qe=>{xe.closed||(xe.next(Qe),xe.complete())},Qe=>xe.error(Qe)).then(null,Ie.h)})}(_e);if((0,he.D)(_e))return St(_e);if((0,Ce.T)(_e))return function Yt(_e){return new y.y(xe=>{for(const Qe of _e)if(xe.next(Qe),xe.closed)return;xe.complete()})}(_e);if((0,Ye.L)(_e))return function $n(_e){return St((0,Ye.Q)(_e))}(_e)}throw(0,Ae.z)(_e)}function St(_e){return new y.y(xe=>{(function Re(_e,xe){var Qe,Le,Ue,je;return(0,E.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,E.KL)(_e);!(Le=yield Qe.next()).done;)if(xe.next(Le.value),xe.closed)return}catch(lt){Ue={error:lt}}finally{try{Le&&!Le.done&&(je=Qe.return)&&(yield je.call(Qe))}finally{if(Ue)throw Ue.error}}xe.complete()})})(_e,xe).catch(Qe=>xe.error(Qe))})}},3019:(Lt,Ke,$)=>{$.d(Ke,{T:()=>he});var E=$(7537),B=$(4829),Fe=$(6232),y=$(9940),ce=$(2459);function he(...Ae){const Ce=(0,y.yG)(Ae),Ye=(0,y._6)(Ae,1/0),de=Ae;return de.length?1===de.length?(0,B.Xf)(de[0]):(0,E.J)(Ye)((0,ce.D)(de,Ce)):Fe.E}},2096:(Lt,Ke,$)=>{$.d(Ke,{of:()=>Fe});var E=$(9940),B=$(2459);function Fe(...y){const ce=(0,E.yG)(y);return(0,B.D)(y,ce)}},8251:(Lt,Ke,$)=>{$.d(Ke,{x:()=>B});var E=$(305);function B(y,ce,he,Ae,Ce){return new Fe(y,ce,he,Ae,Ce)}class Fe extends E.Lv{constructor(ce,he,Ae,Ce,Ye,de){super(ce),this.onFinalize=Ye,this.shouldUnsubscribe=de,this._next=he?function(Ie){try{he(Ie)}catch(ze){ce.error(ze)}}:super._next,this._error=Ce?function(Ie){try{Ce(Ie)}catch(ze){ce.error(ze)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(Ie){ce.error(Ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(Lt,Ke,$)=>{$.d(Ke,{x:()=>y});var E=$(2737),B=$(9360),Fe=$(8251);function y(he,Ae=E.y){return he=he??ce,(0,B.e)((Ce,Ye)=>{let de,Ie=!0;Ce.subscribe((0,Fe.x)(Ye,ze=>{const wt=Ae(ze);(Ie||!he(de,wt))&&(Ie=!1,de=wt,Ye.next(ze))}))})}function ce(he,Ae){return he===Ae}},2181:(Lt,Ke,$)=>{$.d(Ke,{h:()=>Fe});var E=$(9360),B=$(8251);function Fe(y,ce){return(0,E.e)((he,Ae)=>{let Ce=0;he.subscribe((0,B.x)(Ae,Ye=>y.call(ce,Ye,Ce++)&&Ae.next(Ye)))})}},7398:(Lt,Ke,$)=>{$.d(Ke,{U:()=>Fe});var E=$(9360),B=$(8251);function Fe(y,ce){return(0,E.e)((he,Ae)=>{let Ce=0;he.subscribe((0,B.x)(Ae,Ye=>{Ae.next(y.call(ce,Ye,Ce++))}))})}},975:(Lt,Ke,$)=>{$.d(Ke,{h:()=>B});var E=$(7398);function B(Fe){return(0,E.U)(()=>Fe)}},7537:(Lt,Ke,$)=>{$.d(Ke,{J:()=>Fe});var E=$(1631),B=$(2737);function Fe(y=1/0){return(0,E.z)(B.y,y)}},1631:(Lt,Ke,$)=>{$.d(Ke,{z:()=>Ce});var E=$(7398),B=$(4829),Fe=$(9360),y=$(7103),ce=$(8251),Ae=$(4674);function Ce(Ye,de,Ie=1/0){return(0,Ae.m)(de)?Ce((ze,wt)=>(0,E.U)((it,pt)=>de(ze,it,wt,pt))((0,B.Xf)(Ye(ze,wt))),Ie):("number"==typeof de&&(Ie=de),(0,Fe.e)((ze,wt)=>function he(Ye,de,Ie,ze,wt,it,pt,Rt){const Yt=[];let St=0,$n=0,Re=!1;const _e=()=>{Re&&!Yt.length&&!St&&de.complete()},xe=Le=>St<ze?Qe(Le):Yt.push(Le),Qe=Le=>{it&&de.next(Le),St++;let Ue=!1;(0,B.Xf)(Ie(Le,$n++)).subscribe((0,ce.x)(de,je=>{wt?.(je),it?xe(je):de.next(je)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(St--;Yt.length&&St<ze;){const je=Yt.shift();pt?(0,y.f)(de,pt,()=>Qe(je)):Qe(je)}_e()}catch(je){de.error(je)}}))};return Ye.subscribe((0,ce.x)(de,xe,()=>{Re=!0,_e()})),()=>{Rt?.()}}(ze,wt,Ye,Ie)))}},3093:(Lt,Ke,$)=>{$.d(Ke,{Q:()=>y});var E=$(7103),B=$(9360),Fe=$(8251);function y(ce,he=0){return(0,B.e)((Ae,Ce)=>{Ae.subscribe((0,Fe.x)(Ce,Ye=>(0,E.f)(Ce,ce,()=>Ce.next(Ye),he),()=>(0,E.f)(Ce,ce,()=>Ce.complete(),he),Ye=>(0,E.f)(Ce,ce,()=>Ce.error(Ye),he)))})}},7921:(Lt,Ke,$)=>{$.d(Ke,{O:()=>y});var E=$(5211),B=$(9940),Fe=$(9360);function y(...ce){const he=(0,B.yG)(ce);return(0,Fe.e)((Ae,Ce)=>{(he?(0,E.z)(ce,Ae,he):(0,E.z)(ce,Ae)).subscribe(Ce)})}},5137:(Lt,Ke,$)=>{$.d(Ke,{R:()=>B});var E=$(9360);function B(Fe,y=0){return(0,E.e)((ce,he)=>{he.add(Fe.schedule(()=>ce.subscribe(he),y))})}},4664:(Lt,Ke,$)=>{$.d(Ke,{w:()=>y});var E=$(4829),B=$(9360),Fe=$(8251);function y(ce,he){return(0,B.e)((Ae,Ce)=>{let Ye=null,de=0,Ie=!1;const ze=()=>Ie&&!Ye&&Ce.complete();Ae.subscribe((0,Fe.x)(Ce,wt=>{Ye?.unsubscribe();let it=0;const pt=de++;(0,E.Xf)(ce(wt,pt)).subscribe(Ye=(0,Fe.x)(Ce,Rt=>Ce.next(he?he(wt,Rt,pt,it++):Rt),()=>{Ye=null,ze()}))},()=>{Ie=!0,ze()}))})}},8180:(Lt,Ke,$)=>{$.d(Ke,{q:()=>y});var E=$(6232),B=$(9360),Fe=$(8251);function y(ce){return ce<=0?()=>E.E:(0,B.e)((he,Ae)=>{let Ce=0;he.subscribe((0,Fe.x)(Ae,Ye=>{++Ce<=ce&&(Ae.next(Ye),ce<=Ce&&Ae.complete())}))})}},9773:(Lt,Ke,$)=>{$.d(Ke,{R:()=>ce});var E=$(9360),B=$(8251),Fe=$(4829),y=$(2420);function ce(he){return(0,E.e)((Ae,Ce)=>{(0,Fe.Xf)(he).subscribe((0,B.x)(Ce,()=>Ce.complete(),y.Z)),!Ce.closed&&Ae.subscribe(Ce)})}},9397:(Lt,Ke,$)=>{$.d(Ke,{b:()=>ce});var E=$(4674),B=$(9360),Fe=$(8251),y=$(2737);function ce(he,Ae,Ce){const Ye=(0,E.m)(he)||Ae||Ce?{next:he,error:Ae,complete:Ce}:he;return Ye?(0,B.e)((de,Ie)=>{var ze;null===(ze=Ye.subscribe)||void 0===ze||ze.call(Ye);let wt=!0;de.subscribe((0,Fe.x)(Ie,it=>{var pt;null===(pt=Ye.next)||void 0===pt||pt.call(Ye,it),Ie.next(it)},()=>{var it;wt=!1,null===(it=Ye.complete)||void 0===it||it.call(Ye),Ie.complete()},it=>{var pt;wt=!1,null===(pt=Ye.error)||void 0===pt||pt.call(Ye,it),Ie.error(it)},()=>{var it,pt;wt&&(null===(it=Ye.unsubscribe)||void 0===it||it.call(Ye)),null===(pt=Ye.finalize)||void 0===pt||pt.call(Ye)}))}):y.y}},1954:(Lt,Ke,$)=>{$.d(Ke,{o:()=>ce});var E=$(7394);class B extends E.w0{constructor(Ae,Ce){super()}schedule(Ae,Ce=0){return this}}const Fe={setInterval(he,Ae,...Ce){const{delegate:Ye}=Fe;return Ye?.setInterval?Ye.setInterval(he,Ae,...Ce):setInterval(he,Ae,...Ce)},clearInterval(he){const{delegate:Ae}=Fe;return(Ae?.clearInterval||clearInterval)(he)},delegate:void 0};var y=$(9039);class ce extends B{constructor(Ae,Ce){super(Ae,Ce),this.scheduler=Ae,this.work=Ce,this.pending=!1}schedule(Ae,Ce=0){var Ye;if(this.closed)return this;this.state=Ae;const de=this.id,Ie=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(Ie,de,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(Ye=this.id)&&void 0!==Ye?Ye:this.requestAsyncId(Ie,this.id,Ce),this}requestAsyncId(Ae,Ce,Ye=0){return Fe.setInterval(Ae.flush.bind(Ae,this),Ye)}recycleAsyncId(Ae,Ce,Ye=0){if(null!=Ye&&this.delay===Ye&&!1===this.pending)return Ce;null!=Ce&&Fe.clearInterval(Ce)}execute(Ae,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ye=this._execute(Ae,Ce);if(Ye)return Ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Ce){let de,Ye=!1;try{this.work(Ae)}catch(Ie){Ye=!0,de=Ie||new Error("Scheduled action threw falsy error")}if(Ye)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Ce}=this,{actions:Ye}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,y.P)(Ye,this),null!=Ae&&(this.id=this.recycleAsyncId(Ce,Ae,null)),this.delay=null,super.unsubscribe()}}}},9931:(Lt,Ke,$)=>{$.d(Ke,{v:()=>Fe});const E={now:()=>(E.delegate||Date).now(),delegate:void 0};class B{constructor(ce,he=B.now){this.schedulerActionCtor=ce,this.now=he}schedule(ce,he=0,Ae){return new this.schedulerActionCtor(this,ce).schedule(Ae,he)}}B.now=E.now;class Fe extends B{constructor(ce,he=B.now){super(ce,he),this.actions=[],this._active=!1}flush(ce){const{actions:he}=this;if(this._active)return void he.push(ce);let Ae;this._active=!0;do{if(Ae=ce.execute(ce.state,ce.delay))break}while(ce=he.shift());if(this._active=!1,Ae){for(;ce=he.shift();)ce.unsubscribe();throw Ae}}}},6321:(Lt,Ke,$)=>{$.d(Ke,{P:()=>y,z:()=>Fe});var E=$(1954);const Fe=new($(9931).v)(E.o),y=Fe},7599:(Lt,Ke,$)=>{$.d(Ke,{z:()=>E});const E={setTimeout(B,Fe,...y){const{delegate:ce}=E;return ce?.setTimeout?ce.setTimeout(B,Fe,...y):setTimeout(B,Fe,...y)},clearTimeout(B){const{delegate:Fe}=E;return(Fe?.clearTimeout||clearTimeout)(B)},delegate:void 0}},4971:(Lt,Ke,$)=>{$.d(Ke,{h:()=>B});const B=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Lt,Ke,$)=>{$.d(Ke,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Lt,Ke,$)=>{$.d(Ke,{K:()=>B});const B=(0,$(2306).d)(Fe=>function(){Fe(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Lt,Ke,$)=>{$.d(Ke,{_6:()=>he,jO:()=>y,yG:()=>ce});var E=$(4674),B=$(671);function Fe(Ae){return Ae[Ae.length-1]}function y(Ae){return(0,E.m)(Fe(Ae))?Ae.pop():void 0}function ce(Ae){return(0,B.K)(Fe(Ae))?Ae.pop():void 0}function he(Ae,Ce){return"number"==typeof Fe(Ae)?Ae.pop():Ce}},7453:(Lt,Ke,$)=>{$.d(Ke,{D:()=>ce});const{isArray:E}=Array,{getPrototypeOf:B,prototype:Fe,keys:y}=Object;function ce(Ae){if(1===Ae.length){const Ce=Ae[0];if(E(Ce))return{args:Ce,keys:null};if(function he(Ae){return Ae&&"object"==typeof Ae&&B(Ae)===Fe}(Ce)){const Ye=y(Ce);return{args:Ye.map(de=>Ce[de]),keys:Ye}}}return{args:Ae,keys:null}}},9039:(Lt,Ke,$)=>{function E(B,Fe){if(B){const y=B.indexOf(Fe);0<=y&&B.splice(y,1)}}$.d(Ke,{P:()=>E})},2306:(Lt,Ke,$)=>{function E(B){const y=B(ce=>{Error.call(ce),ce.stack=(new Error).stack});return y.prototype=Object.create(Error.prototype),y.prototype.constructor=y,y}$.d(Ke,{d:()=>E})},2714:(Lt,Ke,$)=>{function E(B,Fe){return B.reduce((y,ce,he)=>(y[ce]=Fe[he],y),{})}$.d(Ke,{n:()=>E})},1441:(Lt,Ke,$)=>{$.d(Ke,{O:()=>y,x:()=>Fe});var E=$(2653);let B=null;function Fe(ce){if(E.config.useDeprecatedSynchronousErrorHandling){const he=!B;if(he&&(B={errorThrown:!1,error:null}),ce(),he){const{errorThrown:Ae,error:Ce}=B;if(B=null,Ae)throw Ce}}else ce()}function y(ce){E.config.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ce)}},7103:(Lt,Ke,$)=>{function E(B,Fe,y,ce=0,he=!1){const Ae=Fe.schedule(function(){y(),he?B.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(B.add(Ae),!he)return Ae}$.d(Ke,{f:()=>E})},2737:(Lt,Ke,$)=>{function E(B){return B}$.d(Ke,{y:()=>E})},4266:(Lt,Ke,$)=>{$.d(Ke,{z:()=>E});const E=B=>B&&"number"==typeof B.length&&"function"!=typeof B},5726:(Lt,Ke,$)=>{$.d(Ke,{D:()=>B});var E=$(4674);function B(Fe){return Symbol.asyncIterator&&(0,E.m)(Fe?.[Symbol.asyncIterator])}},4674:(Lt,Ke,$)=>{function E(B){return"function"==typeof B}$.d(Ke,{m:()=>E})},8382:(Lt,Ke,$)=>{$.d(Ke,{c:()=>Fe});var E=$(4850),B=$(4674);function Fe(y){return(0,B.m)(y[E.L])}},3664:(Lt,Ke,$)=>{$.d(Ke,{T:()=>Fe});var E=$(4971),B=$(4674);function Fe(y){return(0,B.m)(y?.[E.h])}},4026:(Lt,Ke,$)=>{$.d(Ke,{t:()=>B});var E=$(4674);function B(Fe){return(0,E.m)(Fe?.then)}},541:(Lt,Ke,$)=>{$.d(Ke,{L:()=>y,Q:()=>Fe});var E=$(7582),B=$(4674);function Fe(ce){return(0,E.FC)(this,arguments,function*(){const Ae=ce.getReader();try{for(;;){const{value:Ce,done:Ye}=yield(0,E.qq)(Ae.read());if(Ye)return yield(0,E.qq)(void 0);yield yield(0,E.qq)(Ce)}}finally{Ae.releaseLock()}})}function y(ce){return(0,B.m)(ce?.getReader)}},671:(Lt,Ke,$)=>{$.d(Ke,{K:()=>B});var E=$(4674);function B(Fe){return Fe&&(0,E.m)(Fe.schedule)}},9360:(Lt,Ke,$)=>{$.d(Ke,{A:()=>B,e:()=>Fe});var E=$(4674);function B(y){return(0,E.m)(y?.lift)}function Fe(y){return ce=>{if(B(ce))return ce.lift(function(he){try{return y(he,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Lt,Ke,$)=>{$.d(Ke,{Z:()=>y});var E=$(7398);const{isArray:B}=Array;function y(ce){return(0,E.U)(he=>function Fe(ce,he){return B(he)?ce(...he):ce(he)}(ce,he))}},2420:(Lt,Ke,$)=>{function E(){}$.d(Ke,{Z:()=>E})},8407:(Lt,Ke,$)=>{$.d(Ke,{U:()=>Fe,z:()=>B});var E=$(2737);function B(...y){return Fe(y)}function Fe(y){return 0===y.length?E.y:1===y.length?y[0]:function(he){return y.reduce((Ae,Ce)=>Ce(Ae),he)}}},3894:(Lt,Ke,$)=>{$.d(Ke,{h:()=>Fe});var E=$(2653),B=$(7599);function Fe(y){B.z.setTimeout(()=>{const{onUnhandledError:ce}=E.config;if(!ce)throw y;ce(y)})}},9853:(Lt,Ke,$)=>{function E(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(Ke,{z:()=>E})},6825:(Lt,Ke,$)=>{$.d(Ke,{LC:()=>B,SB:()=>Ye,X$:()=>y,ZE:()=>St,ZN:()=>Yt,_j:()=>E,eR:()=>Ie,jt:()=>ce,k1:()=>$n,l3:()=>Fe,oB:()=>Ce,vP:()=>Ae});class E{}class B{}const Fe="*";function y(Re,_e){return{type:7,name:Re,definitions:_e,options:{}}}function ce(Re,_e=null){return{type:4,styles:_e,timings:Re}}function Ae(Re,_e=null){return{type:2,steps:Re,options:_e}}function Ce(Re){return{type:6,styles:Re,offset:null}}function Ye(Re,_e,xe){return{type:0,name:Re,styles:_e,options:xe}}function Ie(Re,_e,xe=null){return{type:1,expr:Re,animation:_e,options:xe}}class Yt{constructor(_e=0,xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_e+xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}onStart(_e){this._originalOnStartFns.push(_e),this._onStartFns.push(_e)}onDone(_e){this._originalOnDoneFns.push(_e),this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_e=>_e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_e){this._position=this.totalTime?_e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_e){const xe="start"==_e?this._onStartFns:this._onDoneFns;xe.forEach(Qe=>Qe()),xe.length=0}}class St{constructor(_e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_e;let xe=0,Qe=0,Le=0;const Ue=this.players.length;0==Ue?queueMicrotask(()=>this._onFinish()):this.players.forEach(je=>{je.onDone(()=>{++xe==Ue&&this._onFinish()}),je.onDestroy(()=>{++Qe==Ue&&this._onDestroy()}),je.onStart(()=>{++Le==Ue&&this._onStart()})}),this.totalTime=this.players.reduce((je,lt)=>Math.max(je,lt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}init(){this.players.forEach(_e=>_e.init())}onStart(_e){this._onStartFns.push(_e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_e=>_e()),this._onStartFns=[])}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_e=>_e.play())}pause(){this.players.forEach(_e=>_e.pause())}restart(){this.players.forEach(_e=>_e.restart())}finish(){this._onFinish(),this.players.forEach(_e=>_e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_e=>_e.destroy()),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this.players.forEach(_e=>_e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_e){const xe=_e*this.totalTime;this.players.forEach(Qe=>{const Le=Qe.totalTime?Math.min(1,xe/Qe.totalTime):1;Qe.setPosition(Le)})}getPosition(){const _e=this.players.reduce((xe,Qe)=>null===xe||Qe.totalTime>xe.totalTime?Qe:xe,null);return null!=_e?_e.getPosition():0}beforeDestroy(){this.players.forEach(_e=>{_e.beforeDestroy&&_e.beforeDestroy()})}triggerCallback(_e){const xe="start"==_e?this._onStartFns:this._onDoneFns;xe.forEach(Qe=>Qe()),xe.length=0}}const $n="!"},6814:(Lt,Ke,$)=>{$.d(Ke,{Do:()=>Rt,EM:()=>_a,HT:()=>y,JF:()=>Ks,K0:()=>he,Mn:()=>er,Mx:()=>gi,NF:()=>xr,Nd:()=>si,O5:()=>ji,PC:()=>Ei,PM:()=>us,RF:()=>$t,S$:()=>wt,Tn:()=>je,UT:()=>xt,V_:()=>Ce,Ye:()=>Yt,ax:()=>vi,b0:()=>pt,bD:()=>oi,ez:()=>Or,gd:()=>zo,mk:()=>$o,n9:()=>yn,p6:()=>cr,q:()=>Fe,sg:()=>vi,tP:()=>Bs,w_:()=>ce,x:()=>Ue});var E=$(9468);let B=null;function Fe(){return B}function y(R){B||(B=R)}class ce{}const he=new E.OlP("DocumentToken");let Ae=(()=>{class R{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||R)};static#t=this.\u0275prov=E.Yz7({token:R,factory:function(){return(0,E.f3M)(Ye)},providedIn:"platform"})}return R})();const Ce=new E.OlP("Location Initialized");let Ye=(()=>{class R extends Ae{constructor(){super(),this._doc=(0,E.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fe().getBaseHref(this._doc)}onPopState(V){const W=Fe().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",V,!1),()=>W.removeEventListener("popstate",V)}onHashChange(V){const W=Fe().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",V,!1),()=>W.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,W,Te){this._history.pushState(V,W,Te)}replaceState(V,W,Te){this._history.replaceState(V,W,Te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}static#e=this.\u0275fac=function(W){return new(W||R)};static#t=this.\u0275prov=E.Yz7({token:R,factory:function(){return new R},providedIn:"platform"})}return R})();function de(R,J){if(0==R.length)return J;if(0==J.length)return R;let V=0;return R.endsWith("/")&&V++,J.startsWith("/")&&V++,2==V?R+J.substring(1):1==V?R+J:R+"/"+J}function Ie(R){const J=R.match(/#|\?|$/),V=J&&J.index||R.length;return R.slice(0,V-("/"===R[V-1]?1:0))+R.slice(V)}function ze(R){return R&&"?"!==R[0]?"?"+R:R}let wt=(()=>{class R{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||R)};static#t=this.\u0275prov=E.Yz7({token:R,factory:function(){return(0,E.f3M)(pt)},providedIn:"root"})}return R})();const it=new E.OlP("appBaseHref");let pt=(()=>{class R extends wt{constructor(V,W){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,E.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return de(this._baseHref,V)}path(V=!1){const W=this._platformLocation.pathname+ze(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&V?`${W}${Te}`:W}pushState(V,W,Te,rt){const Et=this.prepareExternalUrl(Te+ze(rt));this._platformLocation.pushState(V,W,Et)}replaceState(V,W,Te,rt){const Et=this.prepareExternalUrl(Te+ze(rt));this._platformLocation.replaceState(V,W,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(W){return new(W||R)(E.LFG(Ae),E.LFG(it,8))};static#t=this.\u0275prov=E.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})(),Rt=(()=>{class R extends wt{constructor(V,W){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(V){const W=de(this._baseHref,V);return W.length>0?"#"+W:W}pushState(V,W,Te,rt){let Et=this.prepareExternalUrl(Te+ze(rt));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.pushState(V,W,Et)}replaceState(V,W,Te,rt){let Et=this.prepareExternalUrl(Te+ze(rt));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.replaceState(V,W,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(W){return new(W||R)(E.LFG(Ae),E.LFG(it,8))};static#t=this.\u0275prov=E.Yz7({token:R,factory:R.\u0275fac})}return R})(),Yt=(()=>{class R{constructor(V){this._subject=new E.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const W=this._locationStrategy.getBaseHref();this._basePath=function _e(R){if(new RegExp("^(https?:)?//").test(R)){const[,V]=R.split(/\/\/[^\/]+/);return V}return R}(Ie(Re(W))),this._locationStrategy.onPopState(Te=>{this._subject.emit({url:this.path(!0),pop:!0,state:Te.state,type:Te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,W=""){return this.path()==this.normalize(V+ze(W))}normalize(V){return R.stripTrailingSlash(function $n(R,J){if(!R||!J.startsWith(R))return J;const V=J.substring(R.length);return""===V||["/",";","?","#"].includes(V[0])?V:J}(this._basePath,Re(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,W="",Te=null){this._locationStrategy.pushState(Te,"",V,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+ze(W)),Te)}replaceState(V,W="",Te=null){this._locationStrategy.replaceState(Te,"",V,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+ze(W)),Te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",W){this._urlChangeListeners.forEach(Te=>Te(V,W))}subscribe(V,W,Te){return this._subject.subscribe({next:V,error:W,complete:Te})}static#e=this.normalizeQueryParams=ze;static#t=this.joinWithSlash=de;static#n=this.stripTrailingSlash=Ie;static#r=this.\u0275fac=function(W){return new(W||R)(E.LFG(wt))};static#i=this.\u0275prov=E.Yz7({token:R,factory:function(){return function St(){return new Yt((0,E.LFG)(wt))}()},providedIn:"root"})}return R})();function Re(R){return R.replace(/\/index.html$/,"")}var Ue=function(R){return R[R.Format=0]="Format",R[R.Standalone=1]="Standalone",R}(Ue||{}),je=function(R){return R[R.Narrow=0]="Narrow",R[R.Abbreviated=1]="Abbreviated",R[R.Wide=2]="Wide",R[R.Short=3]="Short",R}(je||{}),lt=function(R){return R[R.Short=0]="Short",R[R.Medium=1]="Medium",R[R.Long=2]="Long",R[R.Full=3]="Full",R}(lt||{}),_t=function(R){return R[R.Decimal=0]="Decimal",R[R.Group=1]="Group",R[R.List=2]="List",R[R.PercentSign=3]="PercentSign",R[R.PlusSign=4]="PlusSign",R[R.MinusSign=5]="MinusSign",R[R.Exponential=6]="Exponential",R[R.SuperscriptingExponent=7]="SuperscriptingExponent",R[R.PerMille=8]="PerMille",R[R.Infinity=9]="Infinity",R[R.NaN=10]="NaN",R[R.TimeSeparator=11]="TimeSeparator",R[R.CurrencyDecimal=12]="CurrencyDecimal",R[R.CurrencyGroup=13]="CurrencyGroup",R}(_t||{});function er(R,J,V){const W=(0,E.cg1)(R),rt=ae([W[E.wAp.DaysFormat],W[E.wAp.DaysStandalone]],J);return ae(rt,V)}function xt(R,J,V){const W=(0,E.cg1)(R),rt=ae([W[E.wAp.MonthsFormat],W[E.wAp.MonthsStandalone]],J);return ae(rt,V)}function Be(R,J){return ae((0,E.cg1)(R)[E.wAp.DateFormat],J)}function We(R,J){return ae((0,E.cg1)(R)[E.wAp.TimeFormat],J)}function st(R,J){return ae((0,E.cg1)(R)[E.wAp.DateTimeFormat],J)}function yt(R,J){const V=(0,E.cg1)(R),W=V[E.wAp.NumberSymbols][J];if(typeof W>"u"){if(J===_t.CurrencyDecimal)return V[E.wAp.NumberSymbols][_t.Decimal];if(J===_t.CurrencyGroup)return V[E.wAp.NumberSymbols][_t.Group]}return W}function Ft(R){if(!R[E.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[E.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ae(R,J){for(let V=J;V>-1;V--)if(typeof R[V]<"u")return R[V];throw new Error("Locale data API: locale data undefined")}function ue(R){const[J,V]=R.split(":");return{hours:+J,minutes:+V}}const $e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ot={},Xt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var en=function(R){return R[R.Short=0]="Short",R[R.ShortGMT=1]="ShortGMT",R[R.Long=2]="Long",R[R.Extended=3]="Extended",R}(en||{}),rn=function(R){return R[R.FullYear=0]="FullYear",R[R.Month=1]="Month",R[R.Date=2]="Date",R[R.Hours=3]="Hours",R[R.Minutes=4]="Minutes",R[R.Seconds=5]="Seconds",R[R.FractionalSeconds=6]="FractionalSeconds",R[R.Day=7]="Day",R}(rn||{}),fn=function(R){return R[R.DayPeriods=0]="DayPeriods",R[R.Days=1]="Days",R[R.Months=2]="Months",R[R.Eras=3]="Eras",R}(fn||{});function cr(R,J,V,W){let Te=function ne(R){if(te(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[Te,rt=1,Et=1]=R.split("-").map(En=>+En);return ln(Te,rt-1,Et)}const V=parseFloat(R);if(!isNaN(R-V))return new Date(V);let W;if(W=R.match($e))return function se(R){const J=new Date(0);let V=0,W=0;const Te=R[8]?J.setUTCFullYear:J.setFullYear,rt=R[8]?J.setUTCHours:J.setHours;R[9]&&(V=Number(R[9]+R[10]),W=Number(R[9]+R[11])),Te.call(J,Number(R[1]),Number(R[2])-1,Number(R[3]));const Et=Number(R[4]||0)-V,En=Number(R[5]||0)-W,Vr=Number(R[6]||0),gr=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return rt.call(J,Et,En,Vr,gr),J}(W)}const J=new Date(R);if(!te(J))throw new Error(`Unable to convert "${R}" into a date`);return J}(R);J=dr(V,J)||J;let En,Et=[];for(;J;){if(En=Xt.exec(J),!En){Et.push(J);break}{Et=Et.concat(En.slice(1));const br=Et.pop();if(!br)break;J=br}}let Vr=Te.getTimezoneOffset();W&&(Vr=Si(W,Vr),Te=function we(R,J,V){const W=V?-1:1,Te=R.getTimezoneOffset();return function Bi(R,J){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+J),R}(R,W*(Si(J,Te)-Te))}(Te,W,!0));let gr="";return Et.forEach(br=>{const bn=function pi(R){if(Wi[R])return Wi[R];let J;switch(R){case"G":case"GG":case"GGG":J=qn(fn.Eras,je.Abbreviated);break;case"GGGG":J=qn(fn.Eras,je.Wide);break;case"GGGGG":J=qn(fn.Eras,je.Narrow);break;case"y":J=Wn(rn.FullYear,1,0,!1,!0);break;case"yy":J=Wn(rn.FullYear,2,0,!0,!0);break;case"yyy":J=Wn(rn.FullYear,3,0,!1,!0);break;case"yyyy":J=Wn(rn.FullYear,4,0,!1,!0);break;case"Y":J=yi(1);break;case"YY":J=yi(2,!0);break;case"YYY":J=yi(3);break;case"YYYY":J=yi(4);break;case"M":case"L":J=Wn(rn.Month,1,1);break;case"MM":case"LL":J=Wn(rn.Month,2,1);break;case"MMM":J=qn(fn.Months,je.Abbreviated);break;case"MMMM":J=qn(fn.Months,je.Wide);break;case"MMMMM":J=qn(fn.Months,je.Narrow);break;case"LLL":J=qn(fn.Months,je.Abbreviated,Ue.Standalone);break;case"LLLL":J=qn(fn.Months,je.Wide,Ue.Standalone);break;case"LLLLL":J=qn(fn.Months,je.Narrow,Ue.Standalone);break;case"w":J=Vs(1);break;case"ww":J=Vs(2);break;case"W":J=Vs(1,!0);break;case"d":J=Wn(rn.Date,1);break;case"dd":J=Wn(rn.Date,2);break;case"c":case"cc":J=Wn(rn.Day,1);break;case"ccc":J=qn(fn.Days,je.Abbreviated,Ue.Standalone);break;case"cccc":J=qn(fn.Days,je.Wide,Ue.Standalone);break;case"ccccc":J=qn(fn.Days,je.Narrow,Ue.Standalone);break;case"cccccc":J=qn(fn.Days,je.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":J=qn(fn.Days,je.Abbreviated);break;case"EEEE":J=qn(fn.Days,je.Wide);break;case"EEEEE":J=qn(fn.Days,je.Narrow);break;case"EEEEEE":J=qn(fn.Days,je.Short);break;case"a":case"aa":case"aaa":J=qn(fn.DayPeriods,je.Abbreviated);break;case"aaaa":J=qn(fn.DayPeriods,je.Wide);break;case"aaaaa":J=qn(fn.DayPeriods,je.Narrow);break;case"b":case"bb":case"bbb":J=qn(fn.DayPeriods,je.Abbreviated,Ue.Standalone,!0);break;case"bbbb":J=qn(fn.DayPeriods,je.Wide,Ue.Standalone,!0);break;case"bbbbb":J=qn(fn.DayPeriods,je.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":J=qn(fn.DayPeriods,je.Abbreviated,Ue.Format,!0);break;case"BBBB":J=qn(fn.DayPeriods,je.Wide,Ue.Format,!0);break;case"BBBBB":J=qn(fn.DayPeriods,je.Narrow,Ue.Format,!0);break;case"h":J=Wn(rn.Hours,1,-12);break;case"hh":J=Wn(rn.Hours,2,-12);break;case"H":J=Wn(rn.Hours,1);break;case"HH":J=Wn(rn.Hours,2);break;case"m":J=Wn(rn.Minutes,1);break;case"mm":J=Wn(rn.Minutes,2);break;case"s":J=Wn(rn.Seconds,1);break;case"ss":J=Wn(rn.Seconds,2);break;case"S":J=Wn(rn.FractionalSeconds,1);break;case"SS":J=Wn(rn.FractionalSeconds,2);break;case"SSS":J=Wn(rn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":J=Pn(en.Short);break;case"ZZZZZ":J=Pn(en.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":J=Pn(en.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":J=Pn(en.Long);break;default:return null}return Wi[R]=J,J}(br);gr+=bn?bn(Te,V,Vr):"''"===br?"'":br.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),gr}function ln(R,J,V){const W=new Date(0);return W.setFullYear(R,J,V),W.setHours(0,0,0),W}function dr(R,J){const V=function ft(R){return(0,E.cg1)(R)[E.wAp.LocaleId]}(R);if(Ot[V]=Ot[V]||{},Ot[V][J])return Ot[V][J];let W="";switch(J){case"shortDate":W=Be(R,lt.Short);break;case"mediumDate":W=Be(R,lt.Medium);break;case"longDate":W=Be(R,lt.Long);break;case"fullDate":W=Be(R,lt.Full);break;case"shortTime":W=We(R,lt.Short);break;case"mediumTime":W=We(R,lt.Medium);break;case"longTime":W=We(R,lt.Long);break;case"fullTime":W=We(R,lt.Full);break;case"short":const Te=dr(R,"shortTime"),rt=dr(R,"shortDate");W=fr(st(R,lt.Short),[Te,rt]);break;case"medium":const Et=dr(R,"mediumTime"),En=dr(R,"mediumDate");W=fr(st(R,lt.Medium),[Et,En]);break;case"long":const Vr=dr(R,"longTime"),gr=dr(R,"longDate");W=fr(st(R,lt.Long),[Vr,gr]);break;case"full":const br=dr(R,"fullTime"),bn=dr(R,"fullDate");W=fr(st(R,lt.Full),[br,bn])}return W&&(Ot[V][J]=W),W}function fr(R,J){return J&&(R=R.replace(/\{([^}]+)}/g,function(V,W){return null!=J&&W in J?J[W]:V})),R}function zn(R,J,V="-",W,Te){let rt="";(R<0||Te&&R<=0)&&(Te?R=1-R:(R=-R,rt=V));let Et=String(R);for(;Et.length<J;)Et="0"+Et;return W&&(Et=Et.slice(Et.length-J)),rt+Et}function Wn(R,J,V=0,W=!1,Te=!1){return function(rt,Et){let En=function Mr(R,J){switch(R){case rn.FullYear:return J.getFullYear();case rn.Month:return J.getMonth();case rn.Date:return J.getDate();case rn.Hours:return J.getHours();case rn.Minutes:return J.getMinutes();case rn.Seconds:return J.getSeconds();case rn.FractionalSeconds:return J.getMilliseconds();case rn.Day:return J.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,rt);if((V>0||En>-V)&&(En+=V),R===rn.Hours)0===En&&-12===V&&(En=12);else if(R===rn.FractionalSeconds)return function pr(R,J){return zn(R,3).substring(0,J)}(En,J);const Vr=yt(Et,_t.MinusSign);return zn(En,J,Vr,W,Te)}}function qn(R,J,V=Ue.Format,W=!1){return function(Te,rt){return function cs(R,J,V,W,Te,rt){switch(V){case fn.Months:return xt(J,Te,W)[R.getMonth()];case fn.Days:return er(J,Te,W)[R.getDay()];case fn.DayPeriods:const Et=R.getHours(),En=R.getMinutes();if(rt){const gr=function Yn(R){const J=(0,E.cg1)(R);return Ft(J),(J[E.wAp.ExtraData][2]||[]).map(W=>"string"==typeof W?ue(W):[ue(W[0]),ue(W[1])])}(J),br=function tr(R,J,V){const W=(0,E.cg1)(R);Ft(W);const rt=ae([W[E.wAp.ExtraData][0],W[E.wAp.ExtraData][1]],J)||[];return ae(rt,V)||[]}(J,Te,W),bn=gr.findIndex(mi=>{if(Array.isArray(mi)){const[kr,Ti]=mi,Mo=Et>=kr.hours&&En>=kr.minutes,at=Et<Ti.hours||Et===Ti.hours&&En<Ti.minutes;if(kr.hours<Ti.hours){if(Mo&&at)return!0}else if(Mo||at)return!0}else if(mi.hours===Et&&mi.minutes===En)return!0;return!1});if(-1!==bn)return br[bn]}return function wn(R,J,V){const W=(0,E.cg1)(R),rt=ae([W[E.wAp.DayPeriodsFormat],W[E.wAp.DayPeriodsStandalone]],J);return ae(rt,V)}(J,Te,W)[Et<12?0:1];case fn.Eras:return function vn(R,J){return ae((0,E.cg1)(R)[E.wAp.Eras],J)}(J,W)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(Te,rt,R,J,V,W)}}function Pn(R){return function(J,V,W){const Te=-1*W,rt=yt(V,_t.MinusSign),Et=Te>0?Math.floor(Te/60):Math.ceil(Te/60);switch(R){case en.Short:return(Te>=0?"+":"")+zn(Et,2,rt)+zn(Math.abs(Te%60),2,rt);case en.ShortGMT:return"GMT"+(Te>=0?"+":"")+zn(Et,1,rt);case en.Long:return"GMT"+(Te>=0?"+":"")+zn(Et,2,rt)+":"+zn(Math.abs(Te%60),2,rt);case en.Extended:return 0===W?"Z":(Te>=0?"+":"")+zn(Et,2,rt)+":"+zn(Math.abs(Te%60),2,rt);default:throw new Error(`Unknown zone width "${R}"`)}}}const Gn=0,On=4;function Vi(R){return ln(R.getFullYear(),R.getMonth(),R.getDate()+(On-R.getDay()))}function Vs(R,J=!1){return function(V,W){let Te;if(J){const rt=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,Et=V.getDate();Te=1+Math.floor((Et+rt)/7)}else{const rt=Vi(V),Et=function Ir(R){const J=ln(R,Gn,1).getDay();return ln(R,0,1+(J<=On?On:On+7)-J)}(rt.getFullYear()),En=rt.getTime()-Et.getTime();Te=1+Math.round(En/6048e5)}return zn(Te,R,yt(W,_t.MinusSign))}}function yi(R,J=!1){return function(V,W){return zn(Vi(V).getFullYear(),R,yt(W,_t.MinusSign),J)}}const Wi={};function Si(R,J){R=R.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(V)?J:V}function te(R){return R instanceof Date&&!isNaN(R.valueOf())}function gi(R,J){J=encodeURIComponent(J);for(const V of R.split(";")){const W=V.indexOf("="),[Te,rt]=-1==W?[V,""]:[V.slice(0,W),V.slice(W+1)];if(Te.trim()===J)return decodeURIComponent(rt)}return null}const ys=/\s+/,Hi=[];let $o=(()=>{class R{constructor(V,W,Te,rt){this._iterableDiffers=V,this._keyValueDiffers=W,this._ngEl=Te,this._renderer=rt,this.initialClasses=Hi,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(ys):Hi}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(ys):V}ngDoCheck(){for(const W of this.initialClasses)this._updateState(W,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const W of V)this._updateState(W,!0);else if(null!=V)for(const W of Object.keys(V))this._updateState(W,!!V[W]);this._applyStateDiff()}_updateState(V,W){const Te=this.stateMap.get(V);void 0!==Te?(Te.enabled!==W&&(Te.changed=!0,Te.enabled=W),Te.touched=!0):this.stateMap.set(V,{enabled:W,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const W=V[0],Te=V[1];Te.changed?(this._toggleClass(W,Te.enabled),Te.changed=!1):Te.touched||(Te.enabled&&this._toggleClass(W,!1),this.stateMap.delete(W)),Te.touched=!1}}_toggleClass(V,W){(V=V.trim()).length>0&&V.split(ys).forEach(Te=>{W?this._renderer.addClass(this._ngEl.nativeElement,Te):this._renderer.removeClass(this._ngEl.nativeElement,Te)})}static#e=this.\u0275fac=function(W){return new(W||R)(E.Y36(E.ZZ4),E.Y36(E.aQg),E.Y36(E.SBq),E.Y36(E.Qsj))};static#t=this.\u0275dir=E.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return R})();class Sa{constructor(J,V,W,Te){this.$implicit=J,this.ngForOf=V,this.index=W,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vi=(()=>{class R{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,W,Te){this._viewContainer=V,this._template=W,this._differs=Te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const W=this._viewContainer;V.forEachOperation((Te,rt,Et)=>{if(null==Te.previousIndex)W.createEmbeddedView(this._template,new Sa(Te.item,this._ngForOf,-1,-1),null===Et?void 0:Et);else if(null==Et)W.remove(null===rt?void 0:rt);else if(null!==rt){const En=W.get(rt);W.move(En,Et),Kr(En,Te)}});for(let Te=0,rt=W.length;Te<rt;Te++){const En=W.get(Te).context;En.index=Te,En.count=rt,En.ngForOf=this._ngForOf}V.forEachIdentityChange(Te=>{Kr(W.get(Te.currentIndex),Te)})}static ngTemplateContextGuard(V,W){return!0}static#e=this.\u0275fac=function(W){return new(W||R)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))};static#t=this.\u0275dir=E.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return R})();function Kr(R,J){R.context.$implicit=J.item}let ji=(()=>{class R{constructor(V,W){this._viewContainer=V,this._context=new Js,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Bt("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Bt("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,W){return!0}static#e=this.\u0275fac=function(W){return new(W||R)(E.Y36(E.s_b),E.Y36(E.Rgc))};static#t=this.\u0275dir=E.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return R})();class Js{constructor(){this.$implicit=null,this.ngIf=null}}function Bt(R,J){if(J&&!J.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,E.AaK)(J)}'.`)}class At{constructor(J,V){this._viewContainerRef=J,this._templateRef=V,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(J){J&&!this._created?this.create():!J&&this._created&&this.destroy()}}let $t=(()=>{class R{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(V){this._ngSwitch=V,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(V){this._defaultViews.push(V)}_matchCase(V){const W=V==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||W,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),W}_updateDefaultCases(V){if(this._defaultViews.length>0&&V!==this._defaultUsed){this._defaultUsed=V;for(const W of this._defaultViews)W.enforceState(V)}}static#e=this.\u0275fac=function(W){return new(W||R)};static#t=this.\u0275dir=E.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return R})(),yn=(()=>{class R{constructor(V,W,Te){this.ngSwitch=Te,Te._addCase(),this._view=new At(V,W)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(W){return new(W||R)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36($t,9))};static#t=this.\u0275dir=E.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return R})(),Ei=(()=>{class R{constructor(V,W,Te){this._ngEl=V,this._differs=W,this._renderer=Te,this._ngStyle=null,this._differ=null}set ngStyle(V){this._ngStyle=V,!this._differ&&V&&(this._differ=this._differs.find(V).create())}ngDoCheck(){if(this._differ){const V=this._differ.diff(this._ngStyle);V&&this._applyChanges(V)}}_setStyle(V,W){const[Te,rt]=V.split("."),Et=-1===Te.indexOf("-")?void 0:E.JOm.DashCase;null!=W?this._renderer.setStyle(this._ngEl.nativeElement,Te,rt?`${W}${rt}`:W,Et):this._renderer.removeStyle(this._ngEl.nativeElement,Te,Et)}_applyChanges(V){V.forEachRemovedItem(W=>this._setStyle(W.key,null)),V.forEachAddedItem(W=>this._setStyle(W.key,W.currentValue)),V.forEachChangedItem(W=>this._setStyle(W.key,W.currentValue))}static#e=this.\u0275fac=function(W){return new(W||R)(E.Y36(E.SBq),E.Y36(E.aQg),E.Y36(E.Qsj))};static#t=this.\u0275dir=E.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return R})(),Bs=(()=>{class R{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const W=this._viewContainerRef;if(this._viewRef&&W.remove(W.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Te,ngTemplateOutletContext:rt,ngTemplateOutletInjector:Et}=this;this._viewRef=W.createEmbeddedView(Te,rt,Et?{injector:Et}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(W){return new(W||R)(E.Y36(E.s_b))};static#t=this.\u0275dir=E.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[E.TTD]})}return R})();let zo=(()=>{class R{transform(V){if(null==V)return null;if("string"!=typeof V)throw function vs(R,J){return new E.vHH(2100,!1)}();return V.toUpperCase()}static#e=this.\u0275fac=function(W){return new(W||R)};static#t=this.\u0275pipe=E.Yjl({name:"uppercase",type:R,pure:!0,standalone:!0})}return R})(),si=(()=>{class R{constructor(V){this.differs=V,this.keyValues=[],this.compareFn=Ri}transform(V,W=Ri){if(!V||!(V instanceof Map)&&"object"!=typeof V)return null;this.differ||(this.differ=this.differs.find(V).create());const Te=this.differ.diff(V),rt=W!==this.compareFn;return Te&&(this.keyValues=[],Te.forEachItem(Et=>{this.keyValues.push(function ir(R,J){return{key:R,value:J}}(Et.key,Et.currentValue))})),(Te||rt)&&(this.keyValues.sort(W),this.compareFn=W),this.keyValues}static#e=this.\u0275fac=function(W){return new(W||R)(E.Y36(E.aQg,16))};static#t=this.\u0275pipe=E.Yjl({name:"keyvalue",type:R,pure:!1,standalone:!0})}return R})();function Ri(R,J){const V=R.key,W=J.key;if(V===W)return 0;if(void 0===V)return 1;if(void 0===W)return-1;if(null===V)return 1;if(null===W)return-1;if("string"==typeof V&&"string"==typeof W)return V<W?-1:1;if("number"==typeof V&&"number"==typeof W)return V-W;if("boolean"==typeof V&&"boolean"==typeof W)return V<W?-1:1;const Te=String(V),rt=String(W);return Te==rt?0:Te<rt?-1:1}let Or=(()=>{class R{static#e=this.\u0275fac=function(W){return new(W||R)};static#t=this.\u0275mod=E.oAB({type:R});static#n=this.\u0275inj=E.cJS({})}return R})();const oi="browser",bs="server";function xr(R){return R===oi}function us(R){return R===bs}let _a=(()=>{class R{static#e=this.\u0275prov=(0,E.Yz7)({token:R,providedIn:"root",factory:()=>new Ts((0,E.LFG)(he),window)})}return R})();class Ts{constructor(J,V){this.document=J,this.window=V,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const V=function Lr(R,J){const V=R.getElementById(J)||R.getElementsByName(J)[0];if(V)return V;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const W=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Te=W.currentNode;for(;Te;){const rt=Te.shadowRoot;if(rt){const Et=rt.getElementById(J)||rt.querySelector(`[name="${J}"]`);if(Et)return Et}Te=W.nextNode()}}return null}(this.document,J);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(J){this.supportsScrolling()&&(this.window.history.scrollRestoration=J)}scrollToElement(J){const V=J.getBoundingClientRect(),W=V.left+this.window.pageXOffset,Te=V.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(W-rt[0],Te-rt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ks{}},9468:(Lt,Ke,$)=>{$.d(Ke,{QbO:()=>R_,tb:()=>S0,AFp:()=>Vh,ip1:()=>aT,hGG:()=>kD,z2F:()=>p_,Ojb:()=>Ty,sBO:()=>vD,Sil:()=>B1,EJc:()=>F1,ktI:()=>Gd,Xts:()=>ju,SBq:()=>Xu,lqb:()=>Hl,qLn:()=>$l,vpe:()=>El,XFs:()=>ln,OlP:()=>Pn,zs3:()=>vl,ZZ4:()=>O0,aQg:()=>x0,soG:()=>uv,YKP:()=>sb,h0i:()=>Kg,PXZ:()=>dD,R0b:()=>Qs,FiY:()=>Da,Lbi:()=>ip,g9A:()=>rp,Qsj:()=>sp,FYo:()=>M_,JOm:()=>Wc,q3G:()=>Hu,tp0:()=>wo,Rgc:()=>py,dDg:()=>aD,eoX:()=>gT,q4F:()=>ed,GfV:()=>Mm,s_b:()=>lv,ifc:()=>Br,gHi:()=>yl,VuI:()=>WD,LMc:()=>KD,MMx:()=>ab,Lck:()=>Dw,eFA:()=>vT,Gpc:()=>$n,f3M:()=>nr,$WT:()=>ir,_c5:()=>xD,qFp:()=>YD,rg0:()=>gr,c2e:()=>lT,zSh:()=>np,HDt:()=>cT,wAp:()=>u_,vHH:()=>Ue,lri:()=>fT,rWj:()=>pT,JZr:()=>Le,EiD:()=>Zp,mCW:()=>Ha,qzn:()=>fc,JVY:()=>T_,pB0:()=>Ah,eBb:()=>ea,L6k:()=>I_,LAX:()=>zp,cg1:()=>Xv,kL8:()=>RE,dqk:()=>Mr,Z0I:()=>Se,eJc:()=>_0,QGY:()=>Yy,F4k:()=>jv,RDi:()=>Vu,AaK:()=>Rt,z3N:()=>Ua,zW0:()=>Ep,qOj:()=>Lg,Xq5:()=>J_,TTD:()=>Mo,_Bn:()=>ib,jDz:()=>lb,xp6:()=>jm,uIk:()=>Tp,Tol:()=>rE,ekj:()=>Kv,Suo:()=>Bb,Xpm:()=>Xs,lG2:()=>Ns,Yz7:()=>ae,cJS:()=>Y,oAB:()=>eo,Yjl:()=>to,Y36:()=>tf,_UZ:()=>ry,GkF:()=>Ky,BQk:()=>iy,ynx:()=>s_,qZA:()=>r_,TgZ:()=>n_,EpF:()=>Hv,n5z:()=>hl,Ikx:()=>Jv,SDv:()=>tb,LFG:()=>Ln,$8M:()=>lh,$Z:()=>Sg,NdJ:()=>o_,CRH:()=>Ub,O4$:()=>ua,oxw:()=>sy,ALo:()=>wb,lcZ:()=>Db,Hsn:()=>a_,F$t:()=>Wv,Q6J:()=>Wy,s9C:()=>Dp,MGl:()=>i,hYB:()=>e,DdM:()=>gb,VKq:()=>mb,WLB:()=>_b,kEZ:()=>yb,iGM:()=>Lb,MAs:()=>Fv,KtG:()=>bo,CHM:()=>Jl,oJD:()=>Jf,LSH:()=>Ws,P3R:()=>eg,Udp:()=>qv,YNc:()=>Pv,W1O:()=>Gb,_uU:()=>uE,Oqu:()=>Zv,hij:()=>tv,AsE:()=>Qv,Gf:()=>Vb});var E=$(8645),B=$(7394),Fe=$(5592),y=$(3019),ce=$(5619),he=$(2096),Ae=$(4829),Ce=$(305),Ye=$(9360);function de(t={}){const{connector:r=(()=>new E.x),resetOnError:s=!0,resetOnComplete:l=!0,resetOnRefCountZero:f=!0}=t;return m=>{let T,C,P,H=0,ee=!1,pe=!1;const Pe=()=>{C?.unsubscribe(),C=void 0},Ge=()=>{Pe(),T=P=void 0,ee=pe=!1},vt=()=>{const Mt=T;Ge(),Mt?.unsubscribe()};return(0,Ye.e)((Mt,an)=>{H++,!pe&&!ee&&Pe();const Fn=P=P??r();an.add(()=>{H--,0===H&&!pe&&!ee&&(C=Ie(vt,f))}),Fn.subscribe(an),!T&&H>0&&(T=new Ce.Hp({next:Ct=>Fn.next(Ct),error:Ct=>{pe=!0,Pe(),C=Ie(Ge,s,Ct),Fn.error(Ct)},complete:()=>{ee=!0,Pe(),C=Ie(Ge,l),Fn.complete()}}),(0,Ae.Xf)(Mt).subscribe(T))})(m)}}function Ie(t,r,...s){if(!0===r)return void t();if(!1===r)return;const l=new Ce.Hp({next:()=>{l.unsubscribe(),t()}});return(0,Ae.Xf)(r(...s)).subscribe(l)}var ze=$(4664),wt=$(3997);function it(t){for(let r in t)if(t[r]===it)return r;throw Error("Could not find renamed property on target object.")}function pt(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Rt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Rt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Yt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const St=it({__forward_ref__:it});function $n(t){return t.__forward_ref__=$n,t.toString=function(){return Rt(this())},t}function Re(t){return _e(t)?t():t}function _e(t){return"function"==typeof t&&t.hasOwnProperty(St)&&t.__forward_ref__===$n}function xe(t){return t&&!!t.\u0275providers}const Le="https://g.co/ng/security#xss";class Ue extends Error{constructor(r,s){super(function je(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function lt(t){return"string"==typeof t?t:null==t?"":String(t)}function er(t,r){throw new Ue(-201,!1)}function Ft(t,r,s,l){throw new Error(`ASSERTION ERROR: ${t}`+(null==l?"":` [Expected=> ${s} ${l} ${r} <=Actual]`))}function ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Y(t){return{providers:t.providers||[],imports:t.imports||[]}}function ve(t){return $e(t,en)||$e(t,fn)}function Se(t){return null!==ve(t)}function $e(t,r){return t.hasOwnProperty(r)?t[r]:null}function Xt(t){return t&&(t.hasOwnProperty(rn)||t.hasOwnProperty(cr))?t[rn]:null}const en=it({\u0275prov:it}),rn=it({\u0275inj:it}),fn=it({ngInjectableDef:it}),cr=it({ngInjectorDef:it});var ln=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ln||{});let dr;function fr(){return dr}function zn(t){const r=dr;return dr=t,r}function pr(t,r,s){const l=ve(t);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&ln.Optional?null:void 0!==r?r:void er(Rt(t))}const Mr=globalThis;class Pn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=ae({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ne={},se="__NG_DI_FLAG__",te="ngTempTokenPath",Oe=/\n/gm,kt="__source";let dn;function Nn(t){const r=dn;return dn=t,r}function _n(t,r=ln.Default){if(void 0===dn)throw new Ue(-203,!1);return null===dn?pr(t,void 0,r):dn.get(t,r&ln.Optional?null:void 0,r)}function Ln(t,r=ln.Default){return(fr()||_n)(Re(t),r)}function nr(t,r=ln.Default){return Ln(t,Ui(r))}function Ui(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function tt(t){const r=[];for(let s=0;s<t.length;s++){const l=Re(t[s]);if(Array.isArray(l)){if(0===l.length)throw new Ue(900,!1);let f,m=ln.Default;for(let T=0;T<l.length;T++){const C=l[T],P=bt(C);"number"==typeof P?-1===P?f=C.token:m|=P:f=C}r.push(Ln(f,m))}else r.push(Ln(l))}return r}function He(t,r){return t[se]=r,t.prototype[se]=r,t}function bt(t){return t[se]}function pn(t){return{toString:t}.toString()}var Qn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Qn||{}),Br=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Br||{});const rr={},Vn=[],gi=it({\u0275cmp:it}),ys=it({\u0275dir:it}),Hi=it({\u0275pipe:it}),$o=it({\u0275mod:it}),Pi=it({\u0275fac:it}),ii=it({__NG_ELEMENT_ID__:it}),Sa=it({__NG_ENV_ID__:it});function vi(t,r,s){let l=t.length;for(;;){const f=t.indexOf(r,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=r.length;if(f+m===l||t.charCodeAt(f+m)<=32)return f}s=f+1}}function Kr(t,r,s){let l=0;for(;l<s.length;){const f=s[l];if("number"==typeof f){if(0!==f)break;l++;const m=s[l++],T=s[l++],C=s[l++];t.setAttribute(r,T,C,m)}else{const m=f,T=s[++l];ji(m)?t.setProperty(r,m,T):t.setAttribute(r,m,T),l++}}return l}function na(t){return 3===t||4===t||6===t}function ji(t){return 64===t.charCodeAt(0)}function Js(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let l=0;l<r.length;l++){const f=r[l];"number"==typeof f?s=f:0===s||Bt(t,s,f,null,-1===s||2===s?r[++l]:null)}}return t}function Bt(t,r,s,l,f){let m=0,T=t.length;if(-1===r)T=-1;else for(;m<t.length;){const C=t[m++];if("number"==typeof C){if(C===r){T=-1;break}if(C>r){T=m-1;break}}}for(;m<t.length;){const C=t[m];if("number"==typeof C)break;if(C===s){if(null===l)return void(null!==f&&(t[m+1]=f));if(l===t[m+1])return void(t[m+2]=f)}m++,null!==l&&m++,null!==f&&m++}-1!==T&&(t.splice(T,0,r),m=T+1),t.splice(m++,0,s),null!==l&&t.splice(m++,0,l),null!==f&&t.splice(m++,0,f)}const At="ng-template";function $t(t,r,s){let l=0,f=!0;for(;l<t.length;){let m=t[l++];if("string"==typeof m&&f){const T=t[l++];if(s&&"class"===m&&-1!==vi(T.toLowerCase(),r,0))return!0}else{if(1===m){for(;l<t.length&&"string"==typeof(m=t[l++]);)if(m.toLowerCase()===r)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function yn(t){return 4===t.type&&t.value!==At}function ci(t,r,s){return r===(4!==t.type||s?t.value:At)}function yr(t,r,s){let l=4;const f=t.attrs||[],m=function qs(t){for(let r=0;r<t.length;r++)if(na(t[r]))return r;return t.length}(f);let T=!1;for(let C=0;C<r.length;C++){const P=r[C];if("number"!=typeof P){if(!T)if(4&l){if(l=2|1&l,""!==P&&!ci(t,P,s)||""===P&&1===r.length){if(vr(l))return!1;T=!0}}else{const H=8&l?P:r[++C];if(8&l&&null!==t.attrs){if(!$t(t.attrs,H,s)){if(vr(l))return!1;T=!0}continue}const pe=qi(8&l?"class":P,f,yn(t),s);if(-1===pe){if(vr(l))return!1;T=!0;continue}if(""!==H){let Pe;Pe=pe>m?"":f[pe+1].toLowerCase();const Ge=8&l?Pe:null;if(Ge&&-1!==vi(Ge,H,0)||2&l&&H!==Pe){if(vr(l))return!1;T=!0}}}}else{if(!T&&!vr(l)&&!vr(P))return!1;if(T&&vr(P))continue;T=!1,l=P|1&l}}return vr(l)||T}function vr(t){return 0==(1&t)}function qi(t,r,s,l){if(null===r)return-1;let f=0;if(l||!s){let m=!1;for(;f<r.length;){const T=r[f];if(T===t)return f;if(3===T||6===T)m=!0;else{if(1===T||2===T){let C=r[++f];for(;"string"==typeof C;)C=r[++f];continue}if(4===T)break;if(0===T){f+=4;continue}}f+=m?1:2}return-1}return function vs(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const l=t[s];if("number"==typeof l)return-1;if(l===r)return s;s++}return-1}(r,t)}function Ei(t,r,s=!1){for(let l=0;l<r.length;l++)if(yr(t,r[l],s))return!0;return!1}function Dl(t,r){e:for(let s=0;s<r.length;s++){const l=r[s];if(t.length===l.length){for(let f=0;f<t.length;f++)if(t[f]!==l[f])continue e;return!0}}return!1}function ra(t,r){return t?":not("+r.trim()+")":r}function Aa(t){let r=t[0],s=1,l=2,f="",m=!1;for(;s<t.length;){let T=t[s];if("string"==typeof T)if(2&l){const C=t[++s];f+="["+T+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?f+="."+T:4&l&&(f+=" "+T);else""!==f&&!vr(T)&&(r+=ra(m,f),f=""),l=T,m=m||!vr(l);s++}return""!==f&&(r+=ra(m,f)),r}function Xs(t){return pn(()=>{const r=Ri(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Qn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Br.Emulated,styles:t.styles||Vn,_:null,schemas:t.schemas||null,tView:null,id:""};Es(s);const l=t.dependencies;return s.directiveDefs=So(l,!1),s.pipeDefs=So(l,!0),s.id=function Na(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)r=Math.imul(31,r)+f.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function ia(t){return Jn(t)||Pr(t)}function zo(t){return null!==t}function eo(t){return pn(()=>({type:t.type,bootstrap:t.bootstrap||Vn,declarations:t.declarations||Vn,imports:t.imports||Vn,exports:t.exports||Vn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ra(t,r){if(null==t)return rr;const s={};for(const l in t)if(t.hasOwnProperty(l)){let f=t[l],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),s[f]=l,r&&(r[f]=m)}return s}function Ns(t){return pn(()=>{const r=Ri(t);return Es(r),r})}function to(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jn(t){return t[gi]||null}function Pr(t){return t[ys]||null}function Ai(t){return t[Hi]||null}function ir(t){const r=Jn(t)||Pr(t)||Ai(t);return null!==r&&r.standalone}function si(t,r){const s=t[$o]||null;if(!s&&!0===r)throw new Error(`Type ${Rt(t)} does not have '\u0275mod' property.`);return s}function Ri(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||rr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Vn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ra(t.inputs,r),outputs:Ra(t.outputs)}}function Es(t){t.features?.forEach(r=>r(t))}function So(t,r){if(!t)return null;const s=r?Ai:ia;return()=>("function"==typeof t?t():t).map(l=>s(l)).filter(zo)}const Er=0,zt=1,Kn=2,Or=3,oi=4,bs=5,Wr=6,no=7,xr=8,us=9,oa=10,xn=11,ma=12,_a=13,Ts=14,Lr=15,Ao=16,Ks=17,$i=18,ns=19,ja=20,fo=21,ds=22,xo=23,Ms=24,Bn=25,ko=1,po=2,Hs=7,Yr=9,Zr=11;function Ki(t){return Array.isArray(t)&&"object"==typeof t[ko]}function Is(t){return Array.isArray(t)&&!0===t[ko]}function aa(t){return 0!=(4&t.flags)}function bi(t){return t.componentOffset>-1}function go(t){return 1==(1&t.flags)}function ui(t){return!!t.template}function Yi(t){return 0!=(512&t[Kn])}function $s(t,r){return t.hasOwnProperty(Pi)?t[Pi]:null}let di=null,Qi=!1;function Ps(t){const r=di;return di=t,r}const za={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Cl(t){if(!Ji(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Fo(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ur(t){t.dirty=!0,function mo(t){if(void 0===t.liveConsumerNode)return;const r=Qi;Qi=!0;try{for(const s of t.liveConsumerNode)s.dirty||Ur(s)}finally{Qi=r}}(t),t.consumerMarkedDirty?.(t)}function Yl(t){return t&&(t.nextProducerIndex=0),Ps(t)}function ca(t,r){if(Ps(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ji(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)_o(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Fo(t){qo(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],l=t.producerLastReadVersion[r];if(l!==s.version||(Cl(s),l!==s.version))return!0}return!1}function Lo(t){if(qo(t),Ji(t))for(let r=0;r<t.producerNode.length;r++)_o(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _o(t,r){if(function Ro(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),qo(t),1===t.liveConsumerNode.length)for(let l=0;l<t.producerNode.length;l++)_o(t.producerNode[l],t.producerIndexOfThis[l]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const l=t.liveConsumerIndexOfThis[r],f=t.liveConsumerNode[r];qo(f),f.producerIndexOfThis[l]=r}}function Ji(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ss=null;function gr(t){const r=Ps(null);try{return t()}finally{Ps(r)}}const bn=()=>{},mi=(()=>({...za,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:bn}))();class Ti{constructor(r,s,l){this.previousValue=r,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Mo(){return at}function at(t){return t.type.prototype.ngOnChanges&&(t.setInput=Hr),Cr}function Cr(){const t=Wt(this),r=t?.current;if(r){const s=t.previous;if(s===rr)t.previous=r;else for(let l in r)s[l]=r[l];t.current=null,this.ngOnChanges(r)}}function Hr(t,r,s,l){const f=this.declaredInputs[s],m=Wt(t)||function cn(t,r){return t[Ko]=r}(t,{previous:rr,current:null}),T=m.current||(m.current={}),C=m.previous,P=C[f];T[f]=new Ti(P&&P.currentValue,r,C===rr),t[l]=r}Mo.ngInherit=!0;const Ko="__ngSimpleChanges__";function Wt(t){return t[Ko]||null}const Xe=function(t,r,s){},Dt="svg";function Ii(t){for(;Array.isArray(t);)t=t[Er];return t}function Al(t,r){return Ii(r[t])}function Ds(t,r){return Ii(r[t.index])}function sh(t,r){return t.data[r]}function ba(t,r){return t[r]}function io(t,r){const s=r[t];return Ki(s)?s:s[Er]}function Un(t,r){return null==r?null:t[r]}function Eo(t){t[Ks]=0}function mf(t){1024&t[Kn]||(t[Kn]|=1024,Tn(t,1))}function _i(t){1024&t[Kn]&&(t[Kn]&=-1025,Tn(t,-1))}function Tn(t,r){let s=t[Or];if(null===s)return;s[bs]+=r;let l=s;for(s=s[Or];null!==s&&(1===r&&1===l[bs]||-1===r&&0===l[bs]);)s[bs]+=r,l=s,s=s[Or]}function wc(t,r){if(256==(256&t[Kn]))throw new Ue(911,!1);null===t[fo]&&(t[fo]=[]),t[fo].push(r)}const sn={lFrame:Ze(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Cc(){return sn.bindingsEnabled}function Gs(){return null!==sn.skipHydrationRootTNode}function Tt(){return sn.lFrame.lView}function Sr(){return sn.lFrame.tView}function Jl(t){return sn.lFrame.contextLView=t,t[xr]}function bo(t){return sn.lFrame.contextLView=null,t}function Os(){let t=qe();for(;null!==t&&64===t.type;)t=t.parent;return t}function qe(){return sn.lFrame.currentTNode}function Ka(){const t=sn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function Xi(t,r){const s=sn.lFrame;s.currentTNode=t,s.isParent=r}function Nl(){return sn.lFrame.isParent}function ol(){sn.lFrame.isParent=!1}function To(){const t=sn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Sc(){return sn.lFrame.bindingIndex++}function Cs(t){const r=sn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function Ml(t){sn.lFrame.inI18n=t}function ah(t,r){const s=sn.lFrame;s.bindingIndex=s.bindingRootIndex=t,D(r)}function D(t){sn.lFrame.currentDirectiveIndex=t}function I(){return sn.lFrame.currentQueryIndex}function O(t){sn.lFrame.currentQueryIndex=t}function U(t){const r=t[zt];return 2===r.type?r.declTNode:1===r.type?t[Wr]:null}function re(t,r,s){if(s&ln.SkipSelf){let f=r,m=t;for(;!(f=f.parent,null!==f||s&ln.Host||(f=U(m),null===f||(m=m[Ts],10&f.type))););if(null===f)return!1;r=f,t=m}const l=sn.lFrame=Je();return l.currentTNode=r,l.lView=t,!0}function me(t){const r=Je(),s=t[zt];sn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Je(){const t=sn.lFrame,r=null===t?null:t.child;return null===r?Ze(t):r}function Ze(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function jt(){const t=sn.lFrame;return sn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const kn=jt;function ai(){const t=jt();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hi(){return sn.lFrame.selectedIndex}function Ss(t){sn.lFrame.selectedIndex=t}function Ar(){const t=sn.lFrame;return sh(t.tView,t.selectedIndex)}function ua(){sn.lFrame.currentNamespace=Dt}let _f=!0;function Oa(){return _f}function xa(t){_f=t}function Nc(t,r){for(let s=r.directiveStart,l=r.directiveEnd;s<l;s++){const m=t.data[s].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:C,ngAfterViewInit:P,ngAfterViewChecked:H,ngOnDestroy:ee}=m;T&&(t.contentHooks??=[]).push(-s,T),C&&((t.contentHooks??=[]).push(s,C),(t.contentCheckHooks??=[]).push(s,C)),P&&(t.viewHooks??=[]).push(-s,P),H&&((t.viewHooks??=[]).push(s,H),(t.viewCheckHooks??=[]).push(s,H)),null!=ee&&(t.destroyHooks??=[]).push(s,ee)}}function fs(t,r,s){mu(t,r,3,s)}function yd(t,r,s,l){(3&t[Kn])===s&&mu(t,r,s,l)}function Po(t,r){let s=t[Kn];(3&s)===r&&(s&=8191,s+=1,t[Kn]=s)}function mu(t,r,s,l){const m=l??-1,T=r.length-1;let C=0;for(let P=void 0!==l?65535&t[Ks]:0;P<T;P++)if("number"==typeof r[P+1]){if(C=r[P],null!=l&&C>=l)break}else r[P]<0&&(t[Ks]+=65536),(C<m||-1==m)&&(vd(t,s,r,P),t[Ks]=(4294901760&t[Ks])+P+2),P++}function xi(t,r){Xe(4,t,r);const s=Ps(null);try{r.call(t)}finally{Ps(s),Xe(5,t,r)}}function vd(t,r,s,l){const f=s[l]<0,m=s[l+1],C=t[f?-s[l]:s[l]];f?t[Kn]>>13<t[Ks]>>16&&(3&t[Kn])===r&&(t[Kn]+=8192,xi(C,m)):xi(C,m)}const As=-1;class Jr{constructor(r,s,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Di(t){return t!==As}function oo(t){return 32767&t}function ll(t,r){let s=function Za(t){return t>>16}(t),l=r;for(;s>0;)l=l[Ts],s--;return l}let Ta=!0;function Ol(t){const r=Ta;return Ta=t,r}const ka=255,Ia=5;let xl=0;const Ci={};function wa(t,r){const s=da(t,r);if(-1!==s)return s;const l=r[zt];l.firstCreatePass&&(t.injectorIndex=r.length,_u(l.data,t),_u(r,null),_u(l.blueprint,null));const f=yu(t,r),m=t.injectorIndex;if(Di(f)){const T=oo(f),C=ll(f,r),P=C[zt].data;for(let H=0;H<8;H++)r[m+H]=C[T+H]|P[T+H]}return r[m+8]=f,m}function _u(t,r){t.push(0,0,0,0,0,0,0,0,r)}function da(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function yu(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,l=null,f=r;for(;null!==f;){if(l=xc(f),null===l)return As;if(s++,f=f[Ts],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return As}function Xl(t,r,s){!function cl(t,r,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(ii)&&(l=s[ii]),null==l&&(l=s[ii]=xl++);const f=l&ka;r.data[t+(f>>Ia)]|=1<<f}(t,r,s)}function ec(t,r,s){if(s&ln.Optional||void 0!==t)return t;er()}function tc(t,r,s,l){if(s&ln.Optional&&void 0===l&&(l=null),!(s&(ln.Self|ln.Host))){const f=t[us],m=zn(void 0);try{return f?f.get(r,l,s&ln.Optional):pr(r,l,s&ln.Optional)}finally{zn(m)}}return ec(l,0,s)}function nc(t,r,s,l=ln.Default,f){if(null!==t){if(2048&r[Kn]&&!(l&ln.Self)){const T=function Ef(t,r,s,l,f){let m=t,T=r;for(;null!==m&&null!==T&&2048&T[Kn]&&!(512&T[Kn]);){const C=vf(m,T,s,l|ln.Self,Ci);if(C!==Ci)return C;let P=m.parent;if(!P){const H=T[ja];if(H){const ee=H.get(s,Ci,l);if(ee!==Ci)return ee}P=xc(T),T=T[Ts]}m=P}return f}(t,r,s,l,Ci);if(T!==Ci)return T}const m=vf(t,r,s,l,Ci);if(m!==Ci)return m}return tc(r,s,l,f)}function vf(t,r,s,l,f){const m=function ic(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ii)?t[ii]:void 0;return"number"==typeof r?r>=0?r&ka:Fi:r}(s);if("function"==typeof m){if(!re(r,t,l))return l&ln.Host?ec(f,0,l):tc(r,s,l,f);try{let T;if(T=m(l),null!=T||l&ln.Optional)return T;er()}finally{kn()}}else if("number"==typeof m){let T=null,C=da(t,r),P=As,H=l&ln.Host?r[Lr][Wr]:null;for((-1===C||l&ln.SkipSelf)&&(P=-1===C?yu(t,r):r[C+8],P!==As&&bd(l,!1)?(T=r[zt],C=oo(P),r=ll(P,r)):C=-1);-1!==C;){const ee=r[zt];if(Pc(m,C,ee.data)){const pe=rc(C,r,s,T,l,H);if(pe!==Ci)return pe}P=r[C+8],P!==As&&bd(l,r[zt].data[C+8]===H)&&Pc(m,C,r)?(T=ee,C=oo(P),r=ll(P,r)):C=-1}}return f}function rc(t,r,s,l,f,m){const T=r[zt],C=T.data[t+8],ee=dl(C,T,s,null==l?bi(C)&&Ta:l!=T&&0!=(3&C.type),f&ln.Host&&m===C);return null!==ee?Ja(r,T,ee,C):Ci}function dl(t,r,s,l,f){const m=t.providerIndexes,T=r.data,C=1048575&m,P=t.directiveStart,ee=m>>20,Pe=f?C+ee:t.directiveEnd;for(let Ge=l?C:C+ee;Ge<Pe;Ge++){const vt=T[Ge];if(Ge<P&&s===vt||Ge>=P&&vt.type===s)return Ge}if(f){const Ge=T[P];if(Ge&&ui(Ge)&&Ge.type===s)return P}return null}function Ja(t,r,s,l){let f=t[s];const m=r.data;if(function yf(t){return t instanceof Jr}(f)){const T=f;T.resolving&&function Xn(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${t}${s}`)}(function _t(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lt(t)}(m[s]));const C=Ol(T.canSeeViewProviders);T.resolving=!0;const H=T.injectImpl?zn(T.injectImpl):null;re(t,l,ln.Default);try{f=t[s]=T.factory(void 0,m,t,l),r.firstCreatePass&&s>=l.directiveStart&&function _d(t,r,s){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:m}=r.type.prototype;if(l){const T=at(r);(s.preOrderHooks??=[]).push(t,T),(s.preOrderCheckHooks??=[]).push(t,T)}f&&(s.preOrderHooks??=[]).push(0-t,f),m&&((s.preOrderHooks??=[]).push(t,m),(s.preOrderCheckHooks??=[]).push(t,m))}(s,m[s],r)}finally{null!==H&&zn(H),Ol(C),T.resolving=!1,kn()}}return f}function Pc(t,r,s){return!!(s[r+(t>>Ia)]&1<<t)}function bd(t,r){return!(t&ln.Self||t&ln.Host&&r)}class ao{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,l){return nc(this._tNode,this._lView,r,Ui(l),s)}}function Fi(){return new ao(Os(),Tt())}function hl(t){return pn(()=>{const r=t.prototype.constructor,s=r[Pi]||Oc(r),l=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==l;){const m=f[Pi]||Oc(f);if(m&&m!==s)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Oc(t){return _e(t)?()=>{const r=Oc(Re(t));return r&&r()}:$s(t)}function xc(t){const r=t[zt],s=r.type;return 2===s?r.declTNode:1===s?t[Wr]:null}function lh(t){return function ul(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const l=s.length;let f=0;for(;f<l;){const m=s[f];if(na(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<l&&"string"==typeof s[f];)f++;else{if(m===r)return s[f+1];f+=2}}}return null}(Os(),t)}const mr="__parameters__";function Fa(t,r,s){return pn(()=>{const l=function vu(t){return function(...s){if(t){const l=t(...s);for(const f in l)this[f]=l[f]}}}(r);function f(...m){if(this instanceof f)return l.apply(this,m),this;const T=new f(...m);return C.annotation=T,C;function C(P,H,ee){const pe=P.hasOwnProperty(mr)?P[mr]:Object.defineProperty(P,mr,{value:[]})[mr];for(;pe.length<=ee;)pe.push(null);return(pe[ee]=pe[ee]||[]).push(T),P}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Xa(t,r){t.forEach(s=>Array.isArray(s)?Xa(s,r):r(s))}function bu(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function oc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function kc(t,r){const s=[];for(let l=0;l<t;l++)s.push(r);return s}function Qo(t,r,s){let l=tl(t,r);return l>=0?t[1|l]=s:(l=~l,function hh(t,r,s,l){let f=t.length;if(f==r)t.push(s,l);else if(1===f)t.push(l,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>r;)t[f]=t[f-2],f--;t[r]=s,t[r+1]=l}}(t,l,r,s)),l}function Tu(t,r){const s=tl(t,r);if(s>=0)return t[1|s]}function tl(t,r){return function If(t,r,s){let l=0,f=t.length>>s;for(;f!==l;){const m=l+(f-l>>1),T=t[m<<s];if(r===T)return m<<s;T>r?f=m:l=m+1}return~(f<<s)}(t,r,1)}const Da=He(Fa("Optional"),8),wo=He(Fa("SkipSelf"),4);function Su(t){return 128==(128&t.flags)}var Wc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wc||{});const im=/^>|^->|<!--|-->|--!>|<!-$/g,sm=/(<|>)/g,Zs="\u200b$1\u200b";const vh=new Map;let Lp=0;const Kc="__ngContext__";function lo(t,r){Ki(r)?(t[Kc]=r[ns],function Vp(t){vh.set(t[ns],t)}(r)):t[Kc]=r}let le;function ke(t,r){return le(t,r)}function mt(t){const r=t[Or];return Is(r)?r[Or]:r}function Rr(t){return La(t[ma])}function gs(t){return La(t[oi])}function La(t){for(;null!==t&&!Is(t);)t=t[oi];return t}function nl(t,r,s,l,f){if(null!=l){let m,T=!1;Is(l)?m=l:Ki(l)&&(T=!0,l=l[Er]);const C=Ii(l);0===t&&null!==s?null==f?jf(r,s,C):Va(r,s,C,f||null,!0):1===t&&null!==s?Va(r,s,C,f||null,!0):2===t?function Fu(t,r,s){const l=Th(t,r);l&&function cm(t,r,s,l){t.removeChild(r,s,l)}(t,l,r,s)}(r,C,T):3===t&&r.destroyNode(C),null!=m&&function Od(t,r,s,l,f){const m=s[Hs];m!==Ii(s)&&nl(r,t,l,m,f);for(let C=Zr;C<s.length;C++){const P=s[C];Md(P[zt],P,t,r,l,m)}}(r,t,m,s,f)}}function Ll(t,r){return t.createText(r)}function Mu(t,r){return t.createComment(function Xr(t){return t.replace(im,r=>r.replace(sm,Zs))}(r))}function Pu(t,r,s){return t.createElement(r,s)}function xu(t,r){const s=t[Yr],l=s.indexOf(r);_i(r),s.splice(l,1)}function co(t,r){if(t.length<=Zr)return;const s=Zr+r,l=t[s];if(l){const f=l[Ao];null!==f&&f!==t&&xu(f,l),r>0&&(t[s-1][oi]=l[oi]);const m=oc(t,Zr+r);!function bh(t,r){Md(t,r,r[xn],2,null,null),r[Er]=null,r[Wr]=null}(l[zt],l);const T=m[$i];null!==T&&T.detachView(m[zt]),l[Or]=null,l[oi]=null,l[Kn]&=-129}return l}function lm(t,r){if(!(256&r[Kn])){const s=r[xn];r[xo]&&Lo(r[xo]),r[Ms]&&Lo(r[Ms]),s.destroyNode&&Md(t,r,s,3,null,null),function Rd(t){let r=t[ma];if(!r)return Hf(t[zt],t);for(;r;){let s=null;if(Ki(r))s=r[ma];else{const l=r[Zr];l&&(s=l)}if(!s){for(;r&&!r[oi]&&r!==t;)Ki(r)&&Hf(r[zt],r),r=r[Or];null===r&&(r=t),Ki(r)&&Hf(r[zt],r),s=r&&r[oi]}r=s}}(r)}}function Hf(t,r){if(!(256&r[Kn])){r[Kn]&=-129,r[Kn]|=256,function Ho(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let l=0;l<s.length;l+=2){const f=r[s[l]];if(!(f instanceof Jr)){const m=s[l+1];if(Array.isArray(m))for(let T=0;T<m.length;T+=2){const C=f[m[T]],P=m[T+1];Xe(4,C,P);try{P.call(C)}finally{Xe(5,C,P)}}else{Xe(4,f,m);try{m.call(f)}finally{Xe(5,f,m)}}}}}(t,r),function ku(t,r){const s=t.cleanup,l=r[no];if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const T=s[m+3];T>=0?l[T]():l[-T].unsubscribe(),m+=2}else s[m].call(l[s[m+1]]);null!==l&&(r[no]=null);const f=r[fo];if(null!==f){r[fo]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,r),1===r[zt].type&&r[xn].destroy();const s=r[Ao];if(null!==s&&Is(r[Or])){s!==r[Or]&&xu(s,r);const l=r[$i];null!==l&&l.detachView(t)}!function Bp(t){vh.delete(t[ns])}(r)}}function Xo(t,r,s){return fa(t,r.parent,s)}function fa(t,r,s){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return s[Er];{const{componentOffset:f}=l;if(f>-1){const{encapsulation:m}=t.data[l.directiveStart+f];if(m===Br.None||m===Br.Emulated)return null}return Ds(l,s)}}function Va(t,r,s,l,f){t.insertBefore(r,s,l,f)}function jf(t,r,s){t.appendChild(r,s)}function v_(t,r,s,l,f){null!==l?Va(t,r,s,l,f):jf(t,r,s)}function Th(t,r){return t.parentNode(r)}function $f(t,r,s){return cc(t,r,s)}function Ih(t,r,s){return 40&t.type?Ds(t,s):null}let uc,qf,Yf,Dh,cc=Ih;function Yc(t,r){cc=t,uc=r}function rl(t,r,s,l){const f=Xo(t,l,r),m=r[xn],C=$f(l.parent||r[Wr],l,r);if(null!=f)if(Array.isArray(s))for(let P=0;P<s.length;P++)v_(m,f,s[P],C,!1);else v_(m,f,s,C,!1);void 0!==uc&&uc(m,l,r,s,f)}function Do(t,r){if(null!==r){const s=r.type;if(3&s)return Ds(r,t);if(4&s)return wh(-1,t[r.index]);if(8&s){const l=r.child;if(null!==l)return Do(t,l);{const f=t[r.index];return Is(f)?wh(-1,f):Ii(f)}}if(32&s)return ke(r,t)()||Ii(t[r.index]);{const l=Hp(t,r);return null!==l?Array.isArray(l)?l[0]:Do(mt(t[Lr]),l):Do(t,r.next)}}return null}function Hp(t,r){return null!==r?t[Lr][Wr].projection[r.projection]:null}function wh(t,r){const s=Zr+t+1;if(s<r.length){const l=r[s],f=l[zt].firstChild;if(null!==f)return Do(l,f)}return r[Hs]}function Gf(t,r,s,l,f,m,T){for(;null!=s;){const C=l[s.index],P=s.type;if(T&&0===r&&(C&&lo(Ii(C),l),s.flags|=2),32!=(32&s.flags))if(8&P)Gf(t,r,s.child,l,f,m,!1),nl(r,t,f,C,m);else if(32&P){const H=ke(s,l);let ee;for(;ee=H();)nl(r,t,f,ee,m);nl(r,t,f,C,m)}else 16&P?Pd(t,r,l,s,f,m):nl(r,t,f,C,m);s=T?s.projectionNext:s.next}}function Md(t,r,s,l,f,m){Gf(s,l,t.firstChild,r,f,m,!1)}function Pd(t,r,s,l,f,m){const T=s[Lr],P=T[Wr].projection[l.projection];if(Array.isArray(P))for(let H=0;H<P.length;H++)nl(r,t,f,P[H],m);else{let H=P;const ee=T[Or];Su(l)&&(H.flags|=128),Gf(t,r,H,ee,f,m,!0)}}function Wf(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function jp(t,r,s){const{mergedAttrs:l,classes:f,styles:m}=s;null!==l&&Kr(t,r,l),null!==f&&Wf(t,r,f),null!==m&&function E_(t,r,s){t.setAttribute(r,"style",s)}(t,r,m)}function Vl(t){return function Kf(){if(void 0===qf&&(qf=null,Mr.trustedTypes))try{qf=Mr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qf}()?.createHTML(t)||t}function Vu(t){Yf=t}function Bl(){if(void 0!==Yf)return Yf;if(typeof document<"u")return document;throw new Ue(210,!1)}function Ch(){if(void 0===Dh&&(Dh=null,Mr.trustedTypes))try{Dh=Mr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dh}function $p(t){return Ch()?.createHTML(t)||t}function hm(t){return Ch()?.createScriptURL(t)||t}class gl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Le})`}}class fm extends gl{getTypeName(){return"HTML"}}class Zf extends gl{getTypeName(){return"Style"}}class Zc extends gl{getTypeName(){return"Script"}}class Qf extends gl{getTypeName(){return"URL"}}class b_ extends gl{getTypeName(){return"ResourceURL"}}function Ua(t){return t instanceof gl?t.changingThisBreaksApplicationSecurity:t}function fc(t,r){const s=function Sh(t){return t instanceof gl&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Le})`)}return s===r}function T_(t){return new fm(t)}function I_(t){return new Zf(t)}function ea(t){return new Zc(t)}function zp(t){return new Qf(t)}function Ah(t){return new b_(t)}function ks(t){const r=new pc(t);return function xd(){try{return!!(new window.DOMParser).parseFromString(Vl(""),"text/html")}catch{return!1}}()?new Bu(r):r}class Bu{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Vl(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class pc{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=Vl(r),s}}const pm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ha(t){return(t=String(t)).match(pm)?t:"unsafe:"+t}function ml(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Ul(...t){const r={};for(const s of t)for(const l in s)s.hasOwnProperty(l)&&(r[l]=!0);return r}const Wp=ml("area,br,col,hr,img,wbr"),gc=ml("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qp=ml("rp,rt"),Rh=Ul(Wp,Ul(gc,ml("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ul(qp,ml("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ul(qp,gc)),kd=ml("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gm=Ul(kd,ml("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ml("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mm=ml("script,style,template");class Uu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Rh.hasOwnProperty(s))return this.sanitizedSomething=!0,!mm.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=r.attributes;for(let f=0;f<l.length;f++){const m=l.item(f),T=m.name,C=T.toLowerCase();if(!gm.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let P=m.value;kd[C]&&(P=Ha(P)),this.buf.push(" ",T,'="',_c(P),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Rh.hasOwnProperty(s)&&!Wp.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(_c(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const _m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mc=/([^\#-~ |!])/g;function _c(t){return t.replace(/&/g,"&amp;").replace(_m,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(mc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nh;function Zp(t,r){let s=null;try{Nh=Nh||ks(t);let l=r?String(r):"";s=Nh.getInertBodyElement(l);let f=5,m=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=m,m=s.innerHTML,s=Nh.getInertBodyElement(l)}while(l!==m);return Vl((new Uu).sanitizeChildren(Qp(s)||s))}finally{if(s){const l=Qp(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Qp(t){return"content"in t&&function zi(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Hu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Hu||{});function Jf(t){const r=Ld();return r?$p(r.sanitize(Hu.HTML,t)||""):fc(t,"HTML")?$p(Ua(t)):Zp(Bl(),lt(t))}function Ws(t){const r=Ld();return r?r.sanitize(Hu.URL,t)||"":fc(t,"URL")?Ua(t):Ha(lt(t))}function ym(t){const r=Ld();if(r)return hm(r.sanitize(Hu.RESOURCE_URL,t)||"");if(fc(t,"ResourceURL"))return hm(Ua(t));throw new Ue(904,!1)}function eg(t,r,s){return function Fd(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?ym:Ws}(r,s)(t)}function Ld(){const t=Tt();return t&&t[oa].sanitizer}const ju=new Pn("ENVIRONMENT_INITIALIZER"),Mh=new Pn("INJECTOR",-1),Ph=new Pn("INJECTOR_DEF_TYPES");class $u{get(r,s=ne){if(s===ne){const l=new Error(`NullInjectorError: No provider for ${Rt(r)}!`);throw l.name="NullInjectorError",l}return s}}function rg(...t){return{\u0275providers:Xf(0,t),\u0275fromNgModule:!0}}function Xf(t,...r){const s=[],l=new Set;let f;const m=T=>{s.push(T)};return Xa(r,T=>{const C=T;xh(C,m,[],l)&&(f||=[],f.push(C))}),void 0!==f&&bm(f,m),s}function bm(t,r){for(let s=0;s<t.length;s++){const{ngModule:l,providers:f}=t[s];ep(f,m=>{r(m,l)})}}function xh(t,r,s,l){if(!(t=Re(t)))return!1;let f=null,m=Xt(t);const T=!m&&Jn(t);if(m||T){if(T&&!T.standalone)return!1;f=t}else{const P=t.ngModule;if(m=Xt(P),!m)return!1;f=P}const C=l.has(f);if(T){if(C)return!1;if(l.add(f),T.dependencies){const P="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const H of P)xh(H,r,s,l)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let H;l.add(f);try{Xa(m.imports,ee=>{xh(ee,r,s,l)&&(H||=[],H.push(ee))})}finally{}void 0!==H&&bm(H,r)}if(!C){const H=$s(f)||(()=>new f);r({provide:f,useFactory:H,deps:Vn},f),r({provide:Ph,useValue:f,multi:!0},f),r({provide:ju,useValue:()=>Ln(f),multi:!0},f)}const P=m.providers;if(null!=P&&!C){const H=t;ep(P,ee=>{r(ee,H)})}}}return f!==t&&void 0!==t.providers}function ep(t,r){for(let s of t)xe(s)&&(s=s.\u0275providers),Array.isArray(s)?ep(s,r):r(s)}const Tm=it({provide:String,useValue:it});function kh(t){return null!==t&&"object"==typeof t&&Tm in t}function Qc(t){return"function"==typeof t}const np=new Pn("Set Injector scope."),yc={},Gu={};let Fh;function zu(){return void 0===Fh&&(Fh=new $u),Fh}class Hl{}class Vd extends Hl{get destroyed(){return this._destroyed}constructor(r,s,l,f){super(),this.parent=s,this.source=l,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lh(r,T=>this.processProvider(T)),this.records.set(Mh,Wu(void 0,this)),f.has("environment")&&this.records.set(Hl,Wu(void 0,this));const m=this.records.get(np);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Ph.multi,Vn,ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Nn(this),l=zn(void 0);try{return r()}finally{Nn(s),zn(l)}}get(r,s=ne,l=ln.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Sa))return r[Sa](this);l=Ui(l);const m=Nn(this),T=zn(void 0);try{if(!(l&ln.SkipSelf)){let P=this.records.get(r);if(void 0===P){const H=function wm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Pn}(r)&&ve(r);P=H&&this.injectableDefInScope(H)?Wu(og(r),yc):null,this.records.set(r,P)}if(null!=P)return this.hydrate(r,P)}return(l&ln.Self?zu():this.parent).get(r,s=l&ln.Optional&&s===ne?null:s)}catch(C){if("NullInjectorError"===C.name){if((C[te]=C[te]||[]).unshift(Rt(r)),m)throw C;return function Jt(t,r,s,l){const f=t[te];throw r[kt]&&f.unshift(r[kt]),t.message=function Rn(t,r,s,l=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=Rt(r);if(Array.isArray(r))f=r.map(Rt).join(" -> ");else if("object"==typeof r){let m=[];for(let T in r)if(r.hasOwnProperty(T)){let C=r[T];m.push(T+":"+("string"==typeof C?JSON.stringify(C):Rt(C)))}f=`{${m.join(", ")}}`}return`${s}${l?"("+l+")":""}[${f}]: ${t.replace(Oe,"\n  ")}`}("\n"+t.message,f,s,l),t.ngTokenPath=f,t[te]=null,t}(C,r,"R3InjectorError",this.source)}throw C}finally{zn(T),Nn(m)}}resolveInjectorInitializers(){const r=Nn(this),s=zn(void 0);try{const f=this.get(ju.multi,Vn,ln.Self);for(const m of f)m()}finally{Nn(r),zn(s)}}toString(){const r=[],s=this.records;for(const l of s.keys())r.push(Rt(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processProvider(r){let s=Qc(r=Re(r))?r:Re(r&&r.provide);const l=function Im(t){return kh(t)?Wu(void 0,t.useValue):Wu(D_(t),yc)}(r);if(Qc(r)||!0!==r.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=Wu(void 0,yc,!0),f.factory=()=>tt(f.multi),this.records.set(s,f)),s=r,f.multi.push(r)}this.records.set(s,l)}hydrate(r,s){return s.value===yc&&(s.value=Gu,s.value=s.factory()),"object"==typeof s.value&&s.value&&function S_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Re(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function og(t){const r=ve(t),s=null!==r?r.factory:$s(t);if(null!==s)return s;if(t instanceof Pn)throw new Ue(204,!1);if(t instanceof Function)return function by(t){const r=t.length;if(r>0)throw kc(r,"?"),new Ue(204,!1);const s=function Ot(t){return t&&(t[en]||t[fn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ue(204,!1)}function D_(t,r,s){let l;if(Qc(t)){const f=Re(t);return $s(f)||og(f)}if(kh(t))l=()=>Re(t.useValue);else if(function tp(t){return!(!t||!t.useFactory)}(t))l=()=>t.useFactory(...tt(t.deps||[]));else if(function ig(t){return!(!t||!t.useExisting)}(t))l=()=>Ln(Re(t.useExisting));else{const f=Re(t&&(t.useClass||t.provide));if(!function C_(t){return!!t.deps}(t))return $s(f)||og(f);l=()=>new f(...tt(t.deps))}return l}function Wu(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Lh(t,r){for(const s of t)Array.isArray(s)?Lh(s,r):s&&xe(s)?Lh(s.\u0275providers,r):r(s)}const Vh=new Pn("AppId",{providedIn:"root",factory:()=>ag}),ag="ng",rp=new Pn("Platform Initializer"),ip=new Pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),R_=new Pn("AnimationModuleType"),Ty=new Pn("CSP nonce",{providedIn:"root",factory:()=>Bl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vc=(t,r,s)=>null;function Ec(t,r,s=!1){return vc(t,r,s)}class wy{}class pg{}class zh{resolveComponentFactory(r){throw function gg(t){const r=Error(`No component factory found for ${Rt(t)}.`);return r.ngComponent=t,r}(r)}}let Wh=(()=>{class t{static#e=this.NULL=new zh}return t})();function Cy(){return qh(Os(),Tt())}function qh(t,r){return new Xu(Ds(t,r))}let Xu=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Cy}return t})();function Rm(t){return t instanceof Xu?t.nativeElement:t}class M_{}let sp=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Nm(){const t=Tt(),s=io(Os().index,t);return(Ki(s)?s:t)[xn]}()}return t})(),Hd=(()=>{class t{static#e=this.\u0275prov=ae({token:t,providedIn:"root",factory:()=>null})}return t})();class Mm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ed=new Mm("16.2.12"),Pm={};function yl(t){if(!fr()&&!function Sn(){return dn}())throw new Ue(-203,!1)}function nd(t,r=null,s=null,l){const f=Om(t,r,s,l);return f.resolveInjectorInitializers(),f}function Om(t,r=null,s=null,l,f=new Set){const m=[s||Vn,rg(t)];return l=l||("object"==typeof t?void 0:Rt(t)),new Vd(m,r||zu(),l||null,f)}let vl=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=ne;static#t=this.NULL=new $u;static create(s,l){if(Array.isArray(s))return nd({name:""},l,s,"");{const f=s.name??"";return nd({name:f},s.parent,s.providers,f)}}static#n=this.\u0275prov=ae({token:t,providedIn:"any",factory:()=>Ln(Mh)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function $d(t){return t.ngOriginalError}class $l{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&$d(r);for(;s&&$d(s);)s=$d(s);return s||null}}let Gd=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=rd;static#t=this.__NG_ENV_ID__=s=>s}return t})();class O_ extends Gd{constructor(r){super(),this._lView=r}onDestroy(r){return wc(this._lView,r),()=>function jr(t,r){if(null===t[fo])return;const s=t[fo].indexOf(r);-1!==s&&t[fo].splice(s,1)}(this._lView,r)}}function rd(){return new O_(Tt())}function zd(t){return r=>{setTimeout(t,void 0,r)}}const El=class ru extends E.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,l){let f=r,m=s||(()=>null),T=l;if(r&&"object"==typeof r){const P=r;f=P.next?.bind(P),m=P.error?.bind(P),T=P.complete?.bind(P)}this.__isAsync&&(m=zd(m),f&&(f=zd(f)),T&&(T=zd(T)));const C=super.subscribe({next:f,error:m,complete:T});return r instanceof B.w0&&r.add(C),C}};function km(...t){}class Qs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new El(!1),this.onMicrotaskEmpty=new El(!1),this.onStable=new El(!1),this.onError=new El(!1),typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&s,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Fm(){const t="function"==typeof Mr.requestAnimationFrame;let r=Mr[t?"requestAnimationFrame":"setTimeout"],s=Mr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function F_(t){const r=()=>{!function Vm(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,lp(t),t.isCheckStableRunning=!0,Lm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),lp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,f,m,T,C)=>{if(function Bm(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(C))return s.invokeTask(f,m,T,C);try{return Yh(t),s.invokeTask(f,m,T,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&r(),Zh(t)}},onInvoke:(s,l,f,m,T,C,P)=>{try{return Yh(t),s.invoke(f,m,T,C,P)}finally{t.shouldCoalesceRunChangeDetection&&r(),Zh(t)}},onHasTask:(s,l,f,m)=>{s.hasTask(f,m),l===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,lp(t),Lm(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,l,f,m)=>(s.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qs.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(Qs.isInAngularZone())throw new Ue(909,!1)}run(r,s,l){return this._inner.run(r,s,l)}runTask(r,s,l,f){const m=this._inner,T=m.scheduleEventTask("NgZoneEvent: "+f,r,k_,km,km);try{return m.runTask(T,s,l)}finally{m.cancelTask(T)}}runGuarded(r,s,l){return this._inner.runGuarded(r,s,l)}runOutsideAngular(r){return this._outer.run(r)}}const k_={};function Lm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Yh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zh(t){t._nesting--,Lm(t)}class cp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new El,this.onMicrotaskEmpty=new El,this.onStable=new El,this.onError=new El}run(r,s,l){return r.apply(s,l)}runGuarded(r,s,l){return r.apply(s,l)}runOutsideAngular(r){return r()}runTask(r,s,l,f){return r.apply(s,l)}}const Eg=new Pn("",{providedIn:"root",factory:Qh});function Qh(){const t=nr(Qs);let r=!0;const s=new Fe.y(f=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(r),f.complete()})}),l=new Fe.y(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{Qs.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,f.next(!0))})})});const T=t.onUnstable.subscribe(()=>{Qs.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),T.unsubscribe()}});return(0,y.T)(s,l.pipe(de()))}function bc(t){return t instanceof Function?t():t}let up=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})();function Wd(t){for(;t;){t[Kn]|=64;const r=mt(t);if(Yi(t)&&!r)return t;t=r}return null}const qd=new Pn("",{providedIn:"root",factory:()=>!1});let od=null;function G_(t,r){return t[r]??Cg()}function wg(t,r){const s=Cg();s.producerNode?.length&&(t[r]=od,s.lView=t,od=Dg())}const Ry={...za,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Wd(t.lView)},lView:null};function Dg(){return Object.create(Ry)}function Cg(){return od??=Dg(),od}const ur={};function jm(t){$m(Sr(),Tt(),hi()+t,!1)}function $m(t,r,s,l){if(!l)if(3==(3&r[Kn])){const m=t.preOrderCheckHooks;null!==m&&fs(r,m,s)}else{const m=t.preOrderHooks;null!==m&&yd(r,m,0,s)}Ss(s)}function tf(t,r=ln.Default){const s=Tt();return null===s?Ln(t,r):nc(Os(),s,Re(t),r)}function Sg(){throw new Error("invalid")}function nf(t,r,s,l,f,m,T,C,P,H,ee){const pe=r.blueprint.slice();return pe[Er]=f,pe[Kn]=140|l,(null!==H||t&&2048&t[Kn])&&(pe[Kn]|=2048),Eo(pe),pe[Or]=pe[Ts]=t,pe[xr]=s,pe[oa]=T||t&&t[oa],pe[xn]=C||t&&t[xn],pe[us]=P||t&&t[us]||null,pe[Wr]=m,pe[ns]=function Sd(){return Lp++}(),pe[ds]=ee,pe[ja]=H,pe[Lr]=2==r.type?t[Lr]:pe,pe}function ad(t,r,s,l,f){let m=t.data[r];if(null===m)m=hp(t,r,s,l,f),function Ac(){return sn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=l,m.attrs=f;const T=Ka();m.injectorIndex=null===T?-1:T.injectorIndex}return Xi(m,!0),m}function hp(t,r,s,l,f){const m=qe(),T=Nl(),P=t.data[r]=function Wm(t,r,s,l,f,m){let T=r?r.injectorIndex:-1,C=0;return Gs()&&(C|=128),{type:s,index:l,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?m:m&&m.parent,s,r,l,f);return null===t.firstChild&&(t.firstChild=P),null!==m&&(T?null==m.child&&null!==P.parent&&(m.child=P):null===m.next&&(m.next=P,P.prev=m)),P}function fp(t,r,s,l){if(0===s)return-1;const f=r.length;for(let m=0;m<s;m++)r.push(l),t.blueprint.push(l),t.data.push(null);return f}function pp(t,r,s,l,f){const m=G_(r,xo),T=hi(),C=2&l;try{Ss(-1),C&&r.length>Bn&&$m(t,r,Bn,!1),Xe(C?2:0,f);const H=C?m:null,ee=Yl(H);try{null!==H&&(H.dirty=!1),s(l,f)}finally{ca(H,ee)}}finally{C&&null===r[xo]&&wg(r,xo),Ss(T),Xe(C?3:1,f)}}function gp(t,r,s){if(aa(r)){const l=Ps(null);try{const m=r.directiveEnd;for(let T=r.directiveStart;T<m;T++){const C=t.data[T];C.contentQueries&&C.contentQueries(1,s[T],T)}}finally{Ps(l)}}}function Ag(t,r,s){Cc()&&(function kg(t,r,s,l){const f=s.directiveStart,m=s.directiveEnd;bi(s)&&function d(t,r,s){const l=Ds(r,t),f=Kd(s);let T=16;s.signals?T=4096:s.onPush&&(T=64);const C=et(t,nf(t,f,null,T,l,r,null,t[oa].rendererFactory.createRenderer(l,s),null,null,null));t[r.index]=C}(r,s,t.data[f+s.componentOffset]),t.firstCreatePass||wa(s,r),lo(l,r);const T=s.initialInputs;for(let C=f;C<m;C++){const P=t.data[C],H=Ja(r,t,C,s);lo(H,r),null!==T&&k(0,C-f,H,P,0,T),ui(P)&&(io(s.index,r)[xr]=Ja(r,t,C,s))}}(t,r,s,Ds(s,r)),64==(64&s.flags)&&Ym(t,r,s))}function Rg(t,r,s=Ds){const l=r.localNames;if(null!==l){let f=r.index+1;for(let m=0;m<l.length;m+=2){const T=l[m+1],C=-1===T?s(r,t):t[T];t[f++]=C}}}function Kd(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Ng(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Ng(t,r,s,l,f,m,T,C,P,H,ee){const pe=Bn+l,Pe=pe+f,Ge=function rf(t,r){const s=[];for(let l=0;l<r;l++)s.push(l<t?null:ur);return s}(pe,Pe),vt="function"==typeof H?H():H;return Ge[zt]={type:t,blueprint:Ge,template:s,queries:null,viewQuery:C,declTNode:r,data:Ge.slice().fill(null,pe),bindingStartIndex:pe,expandoStartIndex:Pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:P,consts:vt,incompleteFirstPass:!1,ssrId:ee}}let z_=t=>null;function Mg(t,r,s,l){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const m=t[f];null===l?qm(s,r,f,m):l.hasOwnProperty(f)&&qm(s,r,l[f],m)}return s}function qm(t,r,s,l){t.hasOwnProperty(s)?t[s].push(r,l):t[s]=[r,l]}function pa(t,r,s,l,f,m,T,C){const P=Ds(r,s);let ee,H=r.inputs;!C&&null!=H&&(ee=H[l])?(jn(t,s,ee,l,f),bi(r)&&function Pg(t,r){const s=io(r,t);16&s[Kn]||(s[Kn]|=64)}(s,r.index)):3&r.type&&(l=function Km(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(l),f=null!=T?T(f,r.value||"",l):f,m.setProperty(P,l,f))}function Og(t,r,s,l){if(Cc()){const f=null===l?null:{"":-1},m=function Qm(t,r){const s=t.directiveRegistry;let l=null,f=null;if(s)for(let m=0;m<s.length;m++){const T=s[m];if(Ei(r,T.selectors,!1))if(l||(l=[]),ui(T))if(null!==T.findHostDirectiveDefs){const C=[];f=f||new Map,T.findHostDirectiveDefs(T,C,f),l.unshift(...C,T),sf(t,r,C.length)}else l.unshift(T),sf(t,r,0);else f=f||new Map,T.findHostDirectiveDefs?.(T,l,f),l.push(T)}return null===l?null:[l,f]}(t,s);let T,C;null===m?T=C=null:[T,C]=m,null!==T&&xg(t,r,s,T,f,C),f&&function K_(t,r,s){if(r){const l=t.localNames=[];for(let f=0;f<r.length;f+=2){const m=s[r[f+1]];if(null==m)throw new Ue(-301,!1);l.push(r[f],m)}}}(s,l,f)}s.mergedAttrs=Js(s.mergedAttrs,s.attrs)}function xg(t,r,s,l,f,m){for(let H=0;H<l.length;H++)Xl(wa(s,r),t,l[H].type);!function h(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,l.length);for(let H=0;H<l.length;H++){const ee=l[H];ee.providersResolver&&ee.providersResolver(ee)}let T=!1,C=!1,P=fp(t,r,l.length,null);for(let H=0;H<l.length;H++){const ee=l[H];s.mergedAttrs=Js(s.mergedAttrs,ee.hostAttrs),a(t,s,r,P,ee),c(P,ee,f),null!==ee.contentQueries&&(s.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(s.flags|=64);const pe=ee.type.prototype;!T&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),T=!0),!C&&(pe.ngOnChanges||pe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),C=!0),P++}!function _p(t,r,s){const f=r.directiveEnd,m=t.data,T=r.attrs,C=[];let P=null,H=null;for(let ee=r.directiveStart;ee<f;ee++){const pe=m[ee],Pe=s?s.get(pe):null,vt=Pe?Pe.outputs:null;P=Mg(pe.inputs,ee,P,Pe?Pe.inputs:null),H=Mg(pe.outputs,ee,H,vt);const Mt=null===P||null===T||yn(r)?null:oe(P,ee,T);C.push(Mt)}null!==P&&(P.hasOwnProperty("class")&&(r.flags|=8),P.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=C,r.inputs=P,r.outputs=H}(t,s,m)}function Ym(t,r,s){const l=s.directiveStart,f=s.directiveEnd,m=s.index,T=function Io(){return sn.lFrame.currentDirectiveIndex}();try{Ss(m);for(let C=l;C<f;C++){const P=t.data[C],H=r[C];D(C),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Zm(P,H)}}finally{Ss(-1),D(T)}}function Zm(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function sf(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function c(t,r,s){if(s){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)s[r.exportAs[l]]=t;ui(r)&&(s[""]=t)}}function a(t,r,s,l,f){t.data[l]=f;const m=f.factory||(f.factory=$s(f.type)),T=new Jr(m,ui(f),tf);t.blueprint[l]=T,s[l]=T,function q_(t,r,s,l,f){const m=f.hostBindings;if(m){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const C=~r.index;(function ld(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(T)!=C&&T.push(C),T.push(s,l,m)}}(t,r,l,fp(t,s,f.hostVars,ur),f)}function g(t,r,s,l,f,m){const T=Ds(t,r);!function w(t,r,s,l,f,m,T){if(null==m)t.removeAttribute(r,f,s);else{const C=null==T?lt(m):T(m,l||"",f);t.setAttribute(r,f,C,s)}}(r[xn],T,m,t.value,s,l,f)}function k(t,r,s,l,f,m){const T=m[r];if(null!==T)for(let C=0;C<T.length;)K(l,s,T[C++],T[C++],T[C++])}function K(t,r,s,l,f){const m=Ps(null);try{const T=t.inputTransforms;null!==T&&T.hasOwnProperty(l)&&(f=T[l].call(r,f)),null!==t.setInput?t.setInput(r,f,s,l):r[l]=f}finally{Ps(m)}}function oe(t,r,s){let l=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===l&&(l=[]);const T=t[m];for(let C=0;C<T.length;C+=2)if(T[C]===r){l.push(m,T[C+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return l}function ge(t,r,s,l){return[t,!0,!1,r,null,0,l,s,null,null,null]}function De(t,r){const s=t.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const m=s[l+1];if(-1!==m){const T=t.data[m];O(s[l]),T.contentQueries(2,r[m],m)}}}function et(t,r){return t[ma]?t[_a][oi]=r:t[ma]=r,t[_a]=r,r}function ut(t,r,s){O(0);const l=Ps(null);try{r(t,s)}finally{Ps(l)}}function dt(t){return t[no]||(t[no]=[])}function Vt(t){return t.cleanup||(t.cleanup=[])}function Mn(t,r){const s=t[us],l=s?s.get($l,null):null;l&&l.handleError(r)}function jn(t,r,s,l,f){for(let m=0;m<s.length;){const T=s[m++],C=s[m++];K(t.data[T],r[T],l,C,f)}}function Cn(t,r,s){const l=Al(r,t);!function Ad(t,r,s){t.setValue(r,s)}(t[xn],l,s)}function nn(t,r){const s=io(r,t),l=s[zt];!function sr(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(l,s);const f=s[Er];null!==f&&null===s[ds]&&(s[ds]=Ec(f,s[us])),hr(l,s,s[xr])}function hr(t,r,s){me(r);try{const l=t.viewQuery;null!==l&&ut(1,l,s);const f=t.template;null!==f&&pp(t,r,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&De(t,r),t.staticViewQueries&&ut(2,t.viewQuery,s);const m=t.components;null!==m&&function Fr(t,r){for(let s=0;s<r.length;s++)nn(t,r[s])}(r,m)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{r[Kn]&=-5,ai()}}let zr=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,l,f){const m=typeof Zone>"u"?null:Zone.current,T=function br(t,r,s){const l=Object.create(mi);s&&(l.consumerAllowSignalWrites=!0),l.fn=t,l.schedule=r;const f=T=>{l.cleanupFn=T};return l.ref={notify:()=>Ur(l),run:()=>{if(l.dirty=!1,l.hasRun&&!Fo(l))return;l.hasRun=!0;const T=Yl(l);try{l.cleanupFn(),l.cleanupFn=bn,l.fn(f)}finally{ca(l,T)}},cleanup:()=>l.cleanupFn()},l.ref}(s,H=>{this.all.has(H)&&this.queue.set(H,m)},f);let C;this.all.add(T),T.notify();const P=()=>{T.cleanup(),C?.(),this.all.delete(T),this.queue.delete(T)};return C=l?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[s,l]of this.queue)this.queue.delete(s),l?l.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})();function fi(t,r,s){let l=s?t.styles:null,f=s?t.classes:null,m=0;if(null!==r)for(let T=0;T<r.length;T++){const C=r[T];"number"==typeof C?m=C:1==m?f=Yt(f,C):2==m&&(l=Yt(l,C+": "+r[++T]+";"))}s?t.styles=l:t.stylesWithoutHost=l,s?t.classes=f:t.classesWithoutHost=f}function Fs(t,r,s,l,f=!1){for(;null!==s;){const m=r[s.index];null!==m&&l.push(Ii(m)),Is(m)&&uo(m,l);const T=s.type;if(8&T)Fs(t,r,s.child,l);else if(32&T){const C=ke(s,r);let P;for(;P=C();)l.push(P)}else if(16&T){const C=Hp(r,s);if(Array.isArray(C))l.push(...C);else{const P=mt(r[Lr]);Fs(P[zt],P,C,l,!0)}}s=f?s.projectionNext:s.next}return l}function uo(t,r){for(let s=Zr;s<t.length;s++){const l=t[s],f=l[zt].firstChild;null!==f&&Fs(l[zt],l,f,r)}t[Hs]!==t[Er]&&r.push(t[Hs])}function as(t,r,s,l=!0){const f=r[oa],m=f.rendererFactory,T=f.afterRenderEventManager;m.begin?.(),T?.begin();try{on(t,r,t.template,s)}catch(P){throw l&&Mn(r,P),P}finally{m.end?.(),f.effectManager?.flush(),T?.end()}}function on(t,r,s,l){const f=r[Kn];if(256!=(256&f)){r[oa].effectManager?.flush(),me(r);try{Eo(r),function gd(t){return sn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&pp(t,r,s,2,l);const T=3==(3&f);if(T){const H=t.preOrderCheckHooks;null!==H&&fs(r,H,null)}else{const H=t.preOrderHooks;null!==H&&yd(r,H,0,null),Po(r,0)}if(function un(t){for(let r=Rr(t);null!==r;r=gs(r)){if(!r[po])continue;const s=r[Yr];for(let l=0;l<s.length;l++){mf(s[l])}}}(r),In(r,2),null!==t.contentQueries&&De(t,r),T){const H=t.contentCheckHooks;null!==H&&fs(r,H)}else{const H=t.contentHooks;null!==H&&yd(r,H,1),Po(r,1)}!function Gm(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const l=G_(r,Ms);try{for(let f=0;f<s.length;f++){const m=s[f];if(m<0)Ss(~m);else{const T=m,C=s[++f],P=s[++f];ah(C,T),l.dirty=!1;const H=Yl(l);try{P(2,r[T])}finally{ca(l,H)}}}}finally{null===r[Ms]&&wg(r,Ms),Ss(-1)}}(t,r);const C=t.components;null!==C&&Ca(r,C,0);const P=t.viewQuery;if(null!==P&&ut(2,P,l),T){const H=t.viewCheckHooks;null!==H&&fs(r,H)}else{const H=t.viewHooks;null!==H&&yd(r,H,2),Po(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Kn]&=-73,_i(r)}finally{ai()}}}function In(t,r){for(let s=Rr(t);null!==s;s=gs(s))for(let l=Zr;l<s.length;l++)Ls(s[l],r)}function Tr(t,r,s){Ls(io(r,t),s)}function Ls(t,r){if(!function gf(t){return 128==(128&t[Kn])}(t))return;const s=t[zt],l=t[Kn];if(80&l&&0===r||1024&l||2===r)on(s,t,s.template,t[xr]);else if(t[bs]>0){In(t,1);const f=s.components;null!==f&&Ca(t,f,1)}}function Ca(t,r,s){for(let l=0;l<r.length;l++)Tr(t,r[l],s)}class Rs{get rootNodes(){const r=this._lView,s=r[zt];return Fs(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xr]}set context(r){this._lView[xr]=r}get destroyed(){return 256==(256&this._lView[Kn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Or];if(Is(r)){const s=r[8],l=s?s.indexOf(this):-1;l>-1&&(co(r,l),oc(s,l))}this._attachedToViewContainer=!1}lm(this._lView[zt],this._lView)}onDestroy(r){wc(this._lView,r)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Kn]&=-129}reattach(){this._lView[Kn]|=128}detectChanges(){as(this._lView[zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ou(t,r){Md(t,r,r[xn],2,null,null)}(this._lView[zt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=r}}class sl extends Rs{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;as(r[zt],r,r[xr],!1)}checkNoChanges(){}get context(){return null}}class Mi extends Wh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Jn(r);return new Oo(s,this.ngModule)}}function bl(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class ho{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,l){l=Ui(l);const f=this.injector.get(r,Pm,l);return f!==Pm||s===Pm?f:this.parentInjector.get(r,s,l)}}class Oo extends pg{get inputs(){const r=this.componentDef,s=r.inputTransforms,l=bl(r.inputs);if(null!==s)for(const f of l)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return l}get outputs(){return bl(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Go(t){return t.map(Aa).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,l,f){let m=(f=f||this.ngModule)instanceof Hl?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new ho(r,m):r,C=T.get(M_,null);if(null===C)throw new Ue(407,!1);const pe={rendererFactory:C,sanitizer:T.get(Hd,null),effectManager:T.get(zr,null),afterRenderEventManager:T.get(up,null)},Pe=C.createRenderer(null,this.componentDef),Ge=this.componentDef.selectors[0][0]||"div",vt=l?function Ny(t,r,s,l){const m=l.get(qd,!1)||s===Br.ShadowDom,T=t.selectRootElement(r,m);return function My(t){z_(t)}(T),T}(Pe,l,this.componentDef.encapsulation,T):Pu(Pe,Ge,function Yd(t){const r=t.toLowerCase();return"svg"===r?Dt:"math"===r?"math":null}(Ge)),Fn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ct=null;null!==vt&&(Ct=Ec(vt,T,!0));const _r=Ng(0,null,null,1,0,null,null,null,null,null,null),ei=nf(null,_r,null,Fn,null,null,pe,Pe,T,null,Ct);let _s,ql;me(ei);try{const pf=this.componentDef;let g_,F0=null;pf.findHostDirectiveDefs?(g_=[],F0=new Map,pf.findHostDirectiveDefs(pf,g_,F0),g_.push(pf)):g_=[pf];const ZD=function cd(t,r){const s=t[zt],l=Bn;return t[l]=r,ad(s,l,2,"#host",null)}(ei,vt),QD=function Tl(t,r,s,l,f,m,T){const C=f[zt];!function Y_(t,r,s,l){for(const f of t)r.mergedAttrs=Js(r.mergedAttrs,f.hostAttrs);null!==r.mergedAttrs&&(fi(r,r.mergedAttrs,!0),null!==s&&jp(l,s,r))}(l,t,r,T);let P=null;null!==r&&(P=Ec(r,f[us]));const H=m.rendererFactory.createRenderer(r,s);let ee=16;s.signals?ee=4096:s.onPush&&(ee=64);const pe=nf(f,Kd(s),null,ee,f[t.index],t,m,H,null,null,P);return C.firstCreatePass&&sf(C,t,l.length-1),et(f,pe),f[t.index]=pe}(ZD,vt,pf,g_,ei,pe,Pe);ql=sh(_r,Bn),vt&&function Zd(t,r,s,l){if(l)Kr(t,s,["ng-version",ed.full]);else{const{attrs:f,classes:m}=function Co(t){const r=[],s=[];let l=1,f=2;for(;l<t.length;){let m=t[l];if("string"==typeof m)2===f?""!==m&&r.push(m,t[++l]):8===f&&s.push(m);else{if(!vr(f))break;f=m}l++}return{attrs:r,classes:s}}(r.selectors[0]);f&&Kr(t,s,f),m&&m.length>0&&Wf(t,s,m.join(" "))}}(Pe,pf,vt,l),void 0!==s&&function Oy(t,r,s){const l=t.projection=[];for(let f=0;f<r.length;f++){const m=s[f];l.push(null!=m?Array.from(m):null)}}(ql,this.ngContentSelectors,s),_s=function su(t,r,s,l,f,m){const T=Os(),C=f[zt],P=Ds(T,f);xg(C,f,T,s,null,l);for(let ee=0;ee<s.length;ee++)lo(Ja(f,C,T.directiveStart+ee,T),f);Ym(C,f,T),P&&lo(P,f);const H=Ja(f,C,T.directiveStart+T.componentOffset,T);if(t[xr]=f[xr]=H,null!==m)for(const ee of m)ee(H,r);return gp(C,T,t),H}(QD,pf,g_,F0,ei,[Fg]),hr(_r,ei,null)}finally{ai()}return new ga(this.componentType,_s,qh(ql,ei),ei,ql)}}class ga extends wy{constructor(r,s,l,f,m){super(),this.location=l,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new sl(f),this.componentType=r}setInput(r,s){const l=this._tNode.inputs;let f;if(null!==l&&(f=l[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const m=this._rootLView;jn(m[zt],m,f,r,s),this.previousInputValues.set(r,s),Wd(io(this._tNode.index,m))}}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Fg(){const t=Os();Nc(Tt()[zt],t)}function Lg(t){let r=function af(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const l=[t];for(;r;){let f;if(ui(t))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ue(903,!1);f=r.\u0275dir}if(f){if(s){l.push(f);const T=t;T.inputs=Il(t.inputs),T.inputTransforms=Il(t.inputTransforms),T.declaredInputs=Il(t.declaredInputs),T.outputs=Il(t.outputs);const C=f.hostBindings;C&&Jm(t,C);const P=f.viewQuery,H=f.contentQueries;if(P&&lf(t,P),H&&cf(t,H),pt(t.inputs,f.inputs),pt(t.declaredInputs,f.declaredInputs),pt(t.outputs,f.outputs),null!==f.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),pt(T.inputTransforms,f.inputTransforms)),ui(f)&&f.data.animation){const ee=t.data;ee.animation=(ee.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let T=0;T<m.length;T++){const C=m[T];C&&C.ngInherit&&C(t),C===Lg&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Z_(t){let r=0,s=null;for(let l=t.length-1;l>=0;l--){const f=t[l];f.hostVars=r+=f.hostVars,f.hostAttrs=Js(f.hostAttrs,s=Js(s,f.hostAttrs))}}(l)}function Il(t){return t===rr?{}:t===Vn?[]:t}function lf(t,r){const s=t.viewQuery;t.viewQuery=s?(l,f)=>{r(l,f),s(l,f)}:r}function cf(t,r){const s=t.contentQueries;t.contentQueries=s?(l,f,m)=>{r(l,f,m),s(l,f,m)}:r}function Jm(t,r){const s=t.hostBindings;t.hostBindings=s?(l,f)=>{r(l,f),s(l,f)}:r}function Ep(t){return r=>{r.findHostDirectiveDefs=uf,r.hostDirectives=(Array.isArray(t)?t:t()).map(s=>"function"==typeof s?{directive:Re(s),inputs:rr,outputs:rr}:{directive:Re(s.directive),inputs:xy(s.inputs),outputs:xy(s.outputs)})}}function uf(t,r,s){if(null!==t.hostDirectives)for(const l of t.hostDirectives){const f=Pr(l.directive);yv(f.declaredInputs,l.inputs),uf(f,r,s),s.set(f,l),r.push(f)}}function xy(t){if(void 0===t||0===t.length)return rr;const r={};for(let s=0;s<t.length;s+=2)r[t[s]]=t[s+1];return r}function yv(t,r){for(const s in r)r.hasOwnProperty(s)&&(t[r[s]]=t[s])}function J_(t){const r=t.inputConfig,s={};for(const l in r)if(r.hasOwnProperty(l)){const f=r[l];Array.isArray(f)&&f[2]&&(s[l]=f[2])}t.inputTransforms=s}function au(t){return!!Vg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Vg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function lu(t,r,s){return t[r]=s}function jo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Xd(t,r,s,l){const f=jo(t,r,s);return jo(t,r+1,l)||f}function Tp(t,r,s,l){const f=Tt();return jo(f,Sc(),r)&&(Sr(),g(Ar(),f,t,r,s,l)),Tp}function eh(t,r,s,l){return jo(t,Sc(),s)?r+lt(s)+l:ur}function Ip(t,r,s,l,f,m){const C=Xd(t,function so(){return sn.lFrame.bindingIndex}(),s,f);return Cs(2),C?r+lt(s)+l+lt(f)+m:ur}function Pv(t,r,s,l,f,m,T,C){const P=Tt(),H=Sr(),ee=t+Bn,pe=H.firstCreatePass?function ny(t,r,s,l,f,m,T,C,P){const H=r.consts,ee=ad(r,t,4,T||null,Un(H,C));Og(r,s,ee,Un(H,P)),Nc(r,ee);const pe=ee.tView=Ng(2,ee,l,f,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H,null);return null!==r.queries&&(r.queries.template(r,ee),pe.queries=r.queries.embeddedTView(ee)),ee}(ee,H,P,r,s,l,f,m,T):H.data[ee];Xi(pe,!1);const Pe=Gy(H,P,pe,t);Oa()&&rl(H,P,Pe,pe),lo(Pe,P),et(P,P[ee]=ge(Pe,P,Pe,pe)),go(pe)&&Ag(H,P,pe),null!=T&&Rg(P,pe,C)}let Gy=function zy(t,r,s,l){return xa(!0),r[xn].createComment("")};function Fv(t){return ba(function Pa(){return sn.lFrame.contextLView}(),Bn+t)}function Wy(t,r,s){const l=Tt();return jo(l,Sc(),r)&&pa(Sr(),Ar(),l,t,r,l[xn],s,!1),Wy}function qy(t,r,s,l,f){const T=f?"class":"style";jn(t,s,r.inputs[T],T,l)}function n_(t,r,s,l){const f=Tt(),m=Sr(),T=Bn+t,C=f[xn],P=m.firstCreatePass?function K0(t,r,s,l,f,m){const T=r.consts,P=ad(r,t,2,l,Un(T,f));return Og(r,s,P,Un(T,m)),null!==P.attrs&&fi(P,P.attrs,!1),null!==P.mergedAttrs&&fi(P,P.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,P),P}(T,m,f,r,s,l):m.data[T],H=Lv(m,f,P,C,r,t);f[T]=H;const ee=go(P);return Xi(P,!0),jp(C,H,P),32!=(32&P.flags)&&Oa()&&rl(m,f,H,P),0===function pu(){return sn.lFrame.elementDepthCount}()&&lo(H,f),function Dc(){sn.lFrame.elementDepthCount++}(),ee&&(Ag(m,f,P),gp(m,P,f)),null!==l&&Rg(f,P),n_}function r_(){let t=Os();Nl()?ol():(t=t.parent,Xi(t,!1));const r=t;(function fd(t){return sn.skipHydrationRootTNode===t})(r)&&function Yo(){sn.skipHydrationRootTNode=null}(),function Ma(){sn.lFrame.elementDepthCount--}();const s=Sr();return s.firstCreatePass&&(Nc(s,t),aa(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Ya(t){return 0!=(8&t.flags)}(r)&&qy(s,r,Tt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ps(t){return 0!=(16&t.flags)}(r)&&qy(s,r,Tt(),r.stylesWithoutHost,!1),r_}function ry(t,r,s,l){return n_(t,r,s,l),r_(),ry}let Lv=(t,r,s,l,f,m)=>(xa(!0),Pu(l,f,function gu(){return sn.lFrame.currentNamespace}()));function s_(t,r,s){const l=Tt(),f=Sr(),m=t+Bn,T=f.firstCreatePass?function i_(t,r,s,l,f){const m=r.consts,T=Un(m,l),C=ad(r,t,8,"ng-container",T);return null!==T&&fi(C,T,!0),Og(r,s,C,Un(m,f)),null!==r.queries&&r.queries.elementStart(r,C),C}(m,f,l,r,s):f.data[m];Xi(T,!0);const C=Uv(f,l,T,t);return l[m]=C,Oa()&&rl(f,l,C,T),lo(C,l),go(T)&&(Ag(f,l,T),gp(f,T,l)),null!=s&&Rg(l,T),s_}function iy(){let t=Os();const r=Sr();return Nl()?ol():(t=t.parent,Xi(t,!1)),r.firstCreatePass&&(Nc(r,t),aa(t)&&r.queries.elementEnd(t)),iy}function Ky(t,r,s){return s_(t,r,s),iy(),Ky}let Uv=(t,r,s,l)=>(xa(!0),Mu(r[xn],""));function Hv(){return Tt()}function Yy(t){return!!t&&"function"==typeof t.then}function jv(t){return!!t&&"function"==typeof t.subscribe}function o_(t,r,s,l){const f=Tt(),m=Sr(),T=Os();return function $v(t,r,s,l,f,m,T){const C=go(l),H=t.firstCreatePass&&Vt(t),ee=r[xr],pe=dt(r);let Pe=!0;if(3&l.type||T){const Mt=Ds(l,r),an=T?T(Mt):Mt,Fn=pe.length,Ct=T?ei=>T(Ii(ei[l.index])):l.index;let _r=null;if(!T&&C&&(_r=function Q0(t,r,s,l){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const T=f[m];if(T===s&&f[m+1]===l){const C=r[no],P=f[m+2];return C.length>P?C[P]:null}"string"==typeof T&&(m+=2)}return null}(t,r,f,l.index)),null!==_r)(_r.__ngLastListenerFn__||_r).__ngNextListenerFn__=m,_r.__ngLastListenerFn__=m,Pe=!1;else{m=zv(l,r,ee,m,!1);const ei=s.listen(an,f,m);pe.push(m,ei),H&&H.push(f,Ct,Fn,Fn+1)}}else m=zv(l,r,ee,m,!1);const Ge=l.outputs;let vt;if(Pe&&null!==Ge&&(vt=Ge[f])){const Mt=vt.length;if(Mt)for(let an=0;an<Mt;an+=2){const _s=r[vt[an]][vt[an+1]].subscribe(m),ql=pe.length;pe.push(m,_s),H&&H.push(f,l.index,ql,-(ql+1))}}}(m,f,f[xn],T,t,r,l),o_}function Gv(t,r,s,l){try{return Xe(6,r,s),!1!==s(l)}catch(f){return Mn(t,f),!1}finally{Xe(7,r,s)}}function zv(t,r,s,l,f){return function m(T){if(T===Function)return l;Wd(t.componentOffset>-1?io(t.index,r):r);let P=Gv(r,s,l,T),H=m.__ngNextListenerFn__;for(;H;)P=Gv(r,s,H,T)&&P,H=H.__ngNextListenerFn__;return f&&!1===P&&T.preventDefault(),P}}function sy(t=1){return function $r(t){return(sn.lFrame.contextLView=function os(t,r){for(;t>0;)r=r[Ts],t--;return r}(t,sn.lFrame.contextLView))[xr]}(t)}function Qy(t,r){let s=null;const l=function Bs(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let f=0;f<r.length;f++){const m=r[f];if("*"!==m){if(null===l?Ei(t,m,!0):Dl(l,m))return f}else s=f}return s}function Wv(t){const r=Tt()[Lr][Wr];if(!r.projection){const l=r.projection=kc(t?t.length:1,null),f=l.slice();let m=r.child;for(;null!==m;){const T=t?Qy(m,t):0;null!==T&&(f[T]?f[T].projectionNext=m:l[T]=m,f[T]=m),m=m.next}}}function a_(t,r=0,s){const l=Tt(),f=Sr(),m=ad(f,Bn+t,16,null,s||null);null===m.projection&&(m.projection=r),ol(),(!l[ds]||Gs())&&32!=(32&m.flags)&&function zf(t,r,s){Pd(r[xn],0,r,s,Xo(t,s,r),$f(s.parent||r[Wr],s,r))}(f,l,m)}function Dp(t,r,s){return i(t,"",r,"",s),Dp}function i(t,r,s,l,f){const m=Tt(),T=eh(m,r,s,l);return T!==ur&&pa(Sr(),Ar(),m,t,T,m[xn],f,!1),i}function e(t,r,s,l,f,m,T){const C=Tt(),P=Ip(C,r,s,l,f,m);return P!==ur&&pa(Sr(),Ar(),C,t,P,C[xn],T,!1),e}function G(t,r){return t<<17|r<<2}function X(t){return t>>17&32767}function nt(t){return 2|t}function Pt(t){return(131068&t)>>2}function Ut(t,r){return-131069&t|r<<2}function Zn(t){return 1|t}function Li(t,r,s,l,f){const m=t[s+1],T=null===r;let C=l?X(m):Pt(m),P=!1;for(;0!==C&&(!1===P||T);){const ee=t[C+1];ta(t[C],r)&&(P=!0,t[C+1]=l?Zn(ee):nt(ee)),C=l?X(ee):Pt(ee)}P&&(t[s+1]=l?nt(m):Zn(m))}function ta(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&tl(t,r)>=0}const ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jy(t){return t.substring(ls.key,ls.keyEnd)}function J0(t,r){const s=ls.textEnd;return s===r?-1:(r=ls.keyEnd=function qT(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,ls.key=r,s),l_(t,r,s))}function l_(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function qv(t,r,s){return ud(t,r,s,!1),qv}function Kv(t,r){return ud(t,r,null,!0),Kv}function rE(t){!function dd(t,r,s,l){const f=Sr(),m=Cs(2);f.firstUpdatePass&&sE(f,null,m,l);const T=Tt();if(s!==ur&&jo(T,m,s)){const C=f.data[hi()];if(cE(C,l)&&!iE(f,m)){let P=l?C.classesWithoutHost:C.stylesWithoutHost;null!==P&&(s=Yt(P,s||"")),qy(f,C,T,s,l)}else!function rI(t,r,s,l,f,m,T,C){f===ur&&(f=Vn);let P=0,H=0,ee=0<f.length?f[0]:null,pe=0<m.length?m[0]:null;for(;null!==ee||null!==pe;){const Pe=P<f.length?f[P+1]:void 0,Ge=H<m.length?m[H+1]:void 0;let Mt,vt=null;ee===pe?(P+=2,H+=2,Pe!==Ge&&(vt=pe,Mt=Ge)):null===pe||null!==ee&&ee<pe?(P+=2,vt=ee):(H+=2,vt=pe,Mt=Ge),null!==vt&&aE(t,r,s,l,vt,Mt,T,C),ee=P<f.length?f[P]:null,pe=H<m.length?m[H]:null}}(f,C,T,T[xn],T[m+1],T[m+1]=function tI(t,r,s){if(null==s||""===s)return Vn;const l=[],f=Ua(s);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(l,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(l,m,f[m]);else"string"==typeof f&&r(l,f);return l}(t,r,s),l,m)}}(nI,ih,t,!0)}function ih(t,r){for(let s=function zT(t){return function eE(t){ls.key=0,ls.keyEnd=0,ls.value=0,ls.valueEnd=0,ls.textEnd=t.length}(t),J0(t,l_(t,0,ls.textEnd))}(r);s>=0;s=J0(r,s))Qo(t,Jy(r),!0)}function ud(t,r,s,l){const f=Tt(),m=Sr(),T=Cs(2);m.firstUpdatePass&&sE(m,t,T,l),r!==ur&&jo(f,T,r)&&aE(m,m.data[hi()],f,f[xn],t,f[T+1]=function iI(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Rt(Ua(t)))),t}(r,s),l,T)}function iE(t,r){return r>=t.expandoStartIndex}function sE(t,r,s,l){const f=t.data;if(null===f[s+1]){const m=f[hi()],T=iE(t,s);cE(m,l)&&null===r&&!T&&(r=!1),r=function QT(t,r,s,l){const f=function M(t){const r=sn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let m=l?r.residualClasses:r.residualStyles;if(null===f)0===(l?r.classBindings:r.styleBindings)&&(s=oy(s=Yv(null,t,r,s,l),r.attrs,l),m=null);else{const T=r.directiveStylingLast;if(-1===T||t[T]!==f)if(s=Yv(f,t,r,s,l),null===m){let P=function JT(t,r,s){const l=s?r.classBindings:r.styleBindings;if(0!==Pt(l))return t[X(l)]}(t,r,l);void 0!==P&&Array.isArray(P)&&(P=Yv(null,t,r,P[1],l),P=oy(P,r.attrs,l),function XT(t,r,s,l){t[X(s?r.classBindings:r.styleBindings)]=l}(t,r,l,P))}else m=function eI(t,r,s){let l;const f=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<f;m++)l=oy(l,t[m].hostAttrs,s);return oy(l,r.attrs,s)}(t,r,l)}return void 0!==m&&(l?r.residualClasses=m:r.residualStyles=m),s}(f,m,r,l),function li(t,r,s,l,f,m){let T=m?r.classBindings:r.styleBindings,C=X(T),P=Pt(T);t[l]=s;let ee,H=!1;if(Array.isArray(s)?(ee=s[1],(null===ee||tl(s,ee)>0)&&(H=!0)):ee=s,f)if(0!==P){const Pe=X(t[C+1]);t[l+1]=G(Pe,C),0!==Pe&&(t[Pe+1]=Ut(t[Pe+1],l)),t[C+1]=function Ne(t,r){return 131071&t|r<<17}(t[C+1],l)}else t[l+1]=G(C,0),0!==C&&(t[C+1]=Ut(t[C+1],l)),C=l;else t[l+1]=G(P,0),0===C?C=l:t[P+1]=Ut(t[P+1],l),P=l;H&&(t[l+1]=nt(t[l+1])),Li(t,ee,l,!0),Li(t,ee,l,!1),function ms(t,r,s,l,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof r&&tl(m,r)>=0&&(s[l+1]=Zn(s[l+1]))}(r,ee,t,l,m),T=G(C,P),m?r.classBindings=T:r.styleBindings=T}(f,m,r,s,T,l)}}function Yv(t,r,s,l,f){let m=null;const T=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<T&&(m=r[C],l=oy(l,m.hostAttrs,f),m!==t);)C++;return null!==t&&(s.directiveStylingLast=C),l}function oy(t,r,s){const l=s?1:2;let f=-1;if(null!==r)for(let m=0;m<r.length;m++){const T=r[m];"number"==typeof T?f=T:f===l&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Qo(t,T,!!s||r[++m]))}return void 0===t?null:t}function nI(t,r,s){const l=String(r);""!==l&&!l.includes(" ")&&Qo(t,l,s)}function aE(t,r,s,l,f,m,T,C){if(!(3&r.type))return;const P=t.data,H=P[C+1],ee=function Kt(t){return 1==(1&t)}(H)?lE(P,r,s,f,Pt(H),T):void 0;ev(ee)||(ev(m)||function fe(t){return 2==(2&t)}(H)&&(m=lE(P,null,s,f,C,T)),function dc(t,r,s,l,f){if(r)f?t.addClass(s,l):t.removeClass(s,l);else{let m=-1===l.indexOf("-")?void 0:Wc.DashCase;null==f?t.removeStyle(s,l,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Wc.Important),t.setStyle(s,l,f,m))}}(l,T,Al(hi(),s),f,m))}function lE(t,r,s,l,f,m){const T=null===r;let C;for(;f>0;){const P=t[f],H=Array.isArray(P),ee=H?P[1]:P,pe=null===ee;let Pe=s[f+1];Pe===ur&&(Pe=pe?Vn:void 0);let Ge=pe?Tu(Pe,l):ee===l?Pe:void 0;if(H&&!ev(Ge)&&(Ge=Tu(P,l)),ev(Ge)&&(C=Ge,T))return C;const vt=t[f+1];f=T?X(vt):Pt(vt)}if(null!==r){let P=m?r.residualClasses:r.residualStyles;null!=P&&(C=Tu(P,l))}return C}function ev(t){return void 0!==t}function cE(t,r){return 0!=(t.flags&(r?8:16))}function uE(t,r=""){const s=Tt(),l=Sr(),f=t+Bn,m=l.firstCreatePass?ad(l,f,1,r,null):l.data[f],T=dE(l,s,m,r,t);s[f]=T,Oa()&&rl(l,s,T,m),Xi(m,!1)}let dE=(t,r,s,l,f)=>(xa(!0),Ll(r[xn],l));function Zv(t){return tv("",t,""),Zv}function tv(t,r,s){const l=Tt(),f=eh(l,t,r,s);return f!==ur&&Cn(l,hi(),f),tv}function Qv(t,r,s,l,f){const m=Tt(),T=Ip(m,t,r,s,l,f);return T!==ur&&Cn(m,hi(),T),Qv}function Jv(t,r,s){const l=Tt();return jo(l,Sc(),r)&&pa(Sr(),Ar(),l,t,r,l[xn],s,!0),Jv}const qg=void 0;var CI=["en",[["a","p"],["AM","PM"],qg],[["AM","PM"],qg,qg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qg,"{1} 'at' {0}",qg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DI(t){const s=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let c_={};function Xv(t){const r=function SI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=NE(r);if(s)return s;const l=r.split("-")[0];if(s=NE(l),s)return s;if("en"===l)return CI;throw new Ue(701,!1)}function RE(t){return Xv(t)[u_.PluralCase]}function NE(t){return t in c_||(c_[t]=Mr.ng&&Mr.ng.common&&Mr.ng.common.locales&&Mr.ng.common.locales[t]),c_[t]}var u_=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(u_||{});const d_="en-US",nv={marker:"element"},rv={marker:"ICU"};var zl=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(zl||{});let ME=d_;function PE(t){(function Dn(t,r){null==t&&Ft(r,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(ME=t.toLowerCase().replace(/_/g,"-"))}function OE(t,r,s){const l=r.insertBeforeIndex,f=Array.isArray(l)?l[0]:l;return null===f?Ih(t,0,s):Ii(s[f])}function xE(t,r,s,l,f){const m=r.insertBeforeIndex;if(Array.isArray(m)){let T=l,C=null;if(3&r.type||(C=T,T=f),null!==T&&-1===r.componentOffset)for(let P=1;P<m.length;P++)Va(t,T,s[m[P]],C,!1)}}function kE(t,r){if(t.push(r),t.length>1)for(let s=t.length-2;s>=0;s--){const l=t[s];FE(l)||PI(l,r)&&null===OI(l)&&xI(l,r.index)}}function FE(t){return!(64&t.type)}function PI(t,r){return FE(r)||t.index>r.index}function OI(t){const r=t.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function xI(t,r){const s=t.insertBeforeIndex;Array.isArray(s)?s[0]=r:(Yc(OE,xE),t.insertBeforeIndex=r)}function LI(t,r,s){const l=hp(t,s,64,null,null);return kE(r,l),l}function GI(){const t=[];let s,l,r=-1;function m(C,P){r=0;const H=function iv(t,r){const s=r[t.currentCaseLViewIndex];return null===s?s:s<0?~s:s}(C,P);l=null!==H?C.remove[H]:Vn}function T(){if(r<l.length){const C=l[r++];return C>0?s[C]:(t.push(r,l),m(s[zt].data[~C],s),T())}return 0===t.length?null:(l=t.pop(),r=t.pop(),T())}return function f(C,P){for(s=P;t.length;)t.pop();return m(C.value,P),T}}const sv=/\ufffd(\d+):?\d*\ufffd/gi,WI=/\ufffd(\d+)\ufffd/,zE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,uy="\ufffd",qI=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,KI=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,YI=/\uE500/g;function WE(t,r,s,l,f,m,T){const C=fp(t,l,1,null);let P=C<<zl.SHIFT,H=Ka();r===H&&(H=null),null===H&&(P|=zl.APPEND_EAGERLY),T&&(P|=zl.COMMENT,function ot(t){void 0===le&&(le=t())}(GI)),f.push(P,null===m?"":m);const ee=hp(t,C,T?32:1,null===m?"":m,null);kE(s,ee);const pe=ee.index;return Xi(ee,!1),null!==H&&r!==H&&function FI(t,r){let s=t.insertBeforeIndex;null===s?(Yc(OE,xE),s=t.insertBeforeIndex=[null,r]):(function Be(t,r,s){t!=r&&Ft(s,t,r,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(r))}(H,pe),ee}function JI(t,r,s,l,f,m,T){const C=T.match(sv),P=WE(t,r,s,m,l,C?null:T,!1);C&&dy(f,T,P.index,null,0,null)}function dy(t,r,s,l,f,m){const T=t.length,C=T+1;t.push(null,null);const P=T+2,H=r.split(sv);let ee=0;for(let pe=0;pe<H.length;pe++){const Pe=H[pe];if(1&pe){const Ge=f+parseInt(Pe,10);t.push(-1-Ge),ee|=qE(Ge)}else""!==Pe&&t.push(Pe)}return t.push(s<<2|(l?1:0)),l&&t.push(l,m),t[T]=ee,t[C]=t.length-P,ee}function qE(t){return 1<<Math.min(t,31)}function KE(t){let r,m,s="",l=0,f=!1;for(;null!==(r=qI.exec(t));)f?r[0]===`${uy}/*${m}${uy}`&&(l=r.index,f=!1):(s+=t.substring(l,r.index+r[0].length),m=r[1],f=!0);return s+=t.slice(l),s}function YE(t,r,s,l,f,m){let T=0;const C={type:f.type,currentCaseLViewIndex:fp(t,r,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function ow(t,r,s){t.push(qE(r.mainBinding),2,-1-r.mainBinding,s<<2|2)})(s,f,m),function kI(t,r,s){const l=t.data[r];null===l?t.data[r]=s:l.value=s}(t,m,C);const P=f.values;for(let H=0;H<P.length;H++){const ee=P[H],pe=[];for(let Pe=0;Pe<ee.length;Pe++){const Ge=ee[Pe];if("string"!=typeof Ge){const vt=pe.push(Ge)-1;ee[Pe]=`\x3c!--\ufffd${vt}\ufffd--\x3e`}}T=iw(t,C,r,s,l,f.cases[H],ee.join(""),pe)|T}T&&function aw(t,r,s){t.push(r,1,s<<2|3)}(s,T,m)}function rw(t){const r=[],s=[];let l=1,f=0;const m=e0(t=t.replace(zE,function(T,C,P){return l="select"===P?0:1,f=parseInt(C.slice(1),10),""}));for(let T=0;T<m.length;){let C=m[T++].trim();1===l&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&r.push(C);const P=e0(m[T++]);r.length>s.length&&s.push(P)}return{type:l,mainBinding:f,cases:r,values:s}}function e0(t){if(!t)return[];let r=0;const s=[],l=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(t);){const C=m.index;if("}"==m[0]){if(s.pop(),0==s.length){const P=t.substring(r,C);zE.test(P)?l.push(rw(P)):l.push(P),r=C+1}}else{if(0==s.length){const P=t.substring(r,C);l.push(P),r=C+1}s.push("{")}}const T=t.substring(r);return l.push(T),l}function iw(t,r,s,l,f,m,T,C){const P=[],H=[],ee=[];r.cases.push(m),r.create.push(P),r.remove.push(H),r.update.push(ee);const Pe=ks(Bl()).getInertBodyElement(T),Ge=Qp(Pe)||Pe;return Ge?ZE(t,r,s,l,P,H,ee,Ge,f,C,0):0}function ZE(t,r,s,l,f,m,T,C,P,H,ee){let pe=0,Pe=C.firstChild;for(;Pe;){const Ge=fp(t,s,1,null);switch(Pe.nodeType){case Node.ELEMENT_NODE:const vt=Pe,Mt=vt.tagName.toLowerCase();if(Rh.hasOwnProperty(Mt)){t0(f,nv,Mt,P,Ge),t.data[Ge]=Mt;const _r=vt.attributes;for(let ei=0;ei<_r.length;ei++){const _s=_r.item(ei),ql=_s.name.toLowerCase();_s.value.match(sv)?gm.hasOwnProperty(ql)&&dy(T,_s.value,Ge,_s.name,0,kd[ql]?Ha:null):lw(f,Ge,_s)}pe=ZE(t,r,s,l,f,m,T,Pe,Ge,H,ee+1)|pe,QE(m,Ge,ee)}break;case Node.TEXT_NODE:const an=Pe.textContent||"",Fn=an.match(sv);t0(f,null,Fn?"":an,P,Ge),QE(m,Ge,ee),Fn&&(pe=dy(T,an,Ge,null,0,null)|pe);break;case Node.COMMENT_NODE:const Ct=WI.exec(Pe.textContent||"");if(Ct){const ei=H[parseInt(Ct[1],10)];t0(f,rv,"",P,Ge),YE(t,s,l,P,ei,Ge),sw(m,Ge,ee)}}Pe=Pe.nextSibling}return pe}function QE(t,r,s){0===s&&t.push(r)}function sw(t,r,s){0===s&&(t.push(~r),t.push(r))}function t0(t,r,s,l,f){null!==r&&t.push(r),t.push(s,f,function VI(t,r,s){return t|r<<17|s<<1}(0,l,f))}function lw(t,r,s){t.push(r<<1|1,s.name,s.value)}function XE(t,r,s=-1){const l=Sr(),f=Tt(),m=Bn+t,T=Un(l.consts,r),C=Ka();l.firstCreatePass&&function QI(t,r,s,l,f,m){const T=Ka(),C=[],P=[],H=[[]];f=function nw(t,r){if(function tw(t){return-1===t}(r))return KE(t);{const s=t.indexOf(`:${r}${uy}`)+2+r.toString().length,l=t.search(new RegExp(`${uy}\\/\\*\\d+:${r}${uy}`));return KE(t.substring(s,l))}}(f,m);const ee=function ZI(t){return t.replace(YI," ")}(f).split(KI);for(let pe=0;pe<ee.length;pe++){let Pe=ee[pe];if(1&pe){const Ge=47===Pe.charCodeAt(0),Mt=(Pe.charCodeAt(Ge?1:0),Bn+Number.parseInt(Pe.substring(Ge?2:1)));if(Ge)H.shift(),Xi(Ka(),!1);else{const an=LI(t,H[0],Mt);H.unshift([]),Xi(an,!0)}}else{const Ge=e0(Pe);for(let vt=0;vt<Ge.length;vt++){let Mt=Ge[vt];if(1&vt){const an=Mt;if("object"!=typeof an)throw new Error(`Unable to parse ICU expression in "${f}" message.`);YE(t,s,P,r,an,WE(t,T,H[0],s,C,"",!0).index)}else""!==Mt&&JI(t,T,H[0],C,P,s,Mt)}}}t.data[l]={create:C,update:P}}(l,null===C?0:C.index,f,m,T,s),2===l.type?f[Lr][Kn]|=32:f[Kn]|=32;const P=l.data[m],ee=fa(l,C===f[Wr]?null:C,f);(function HI(t,r,s,l){const f=t[xn];for(let m=0;m<r.length;m++){const T=r[m++],C=r[m],H=(T&zl.APPEND_EAGERLY)===zl.APPEND_EAGERLY,ee=T>>>zl.SHIFT;let pe=t[ee];null===pe&&(pe=t[ee]=(T&zl.COMMENT)===zl.COMMENT?f.createComment(C):Ll(f,C)),H&&null!==s&&Va(f,s,pe,l,!1)}})(f,P.create,ee,C&&8&C.type?f[C.index]:null),Ml(!0)}function tb(t,r,s){XE(t,r,s),function eb(){Ml(!1)}()}function n0(t,r,s,l,f){if(t=Re(t),Array.isArray(t))for(let m=0;m<t.length;m++)n0(t[m],r,s,l,f);else{const m=Sr(),T=Tt(),C=Os();let P=Qc(t)?t:Re(t.provide);const H=D_(t),ee=1048575&C.providerIndexes,pe=C.directiveStart,Pe=C.providerIndexes>>20;if(Qc(t)||!t.multi){const Ge=new Jr(H,f,tf),vt=s0(P,r,f?ee:ee+Pe,pe);-1===vt?(Xl(wa(C,T),m,P),r0(m,t,r.length),r.push(P),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),s.push(Ge),T.push(Ge)):(s[vt]=Ge,T[vt]=Ge)}else{const Ge=s0(P,r,ee+Pe,pe),vt=s0(P,r,ee,ee+Pe),an=vt>=0&&s[vt];if(f&&!an||!f&&!(Ge>=0&&s[Ge])){Xl(wa(C,T),m,P);const Fn=function ww(t,r,s,l,f){const m=new Jr(t,s,tf);return m.multi=[],m.index=r,m.componentProviders=0,rb(m,f,l&&!s),m}(f?Iw:Tw,s.length,f,l,H);!f&&an&&(s[vt].providerFactory=Fn),r0(m,t,r.length,0),r.push(P),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),s.push(Fn),T.push(Fn)}else r0(m,t,Ge>-1?Ge:vt,rb(s[f?vt:Ge],H,!f&&l));!f&&l&&an&&s[vt].componentProviders++}}}function r0(t,r,s,l){const f=Qc(r),m=function sg(t){return!!t.useClass}(r);if(f||m){const P=(m?Re(r.useClass):r).prototype.ngOnDestroy;if(P){const H=t.destroyHooks||(t.destroyHooks=[]);if(!f&&r.multi){const ee=H.indexOf(s);-1===ee?H.push(s,[l,P]):H[ee+1].push(l,P)}else H.push(s,P)}}}function rb(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function s0(t,r,s,l){for(let f=s;f<l;f++)if(r[f]===t)return f;return-1}function Tw(t,r,s,l){return o0(this.multi,[])}function Iw(t,r,s,l){const f=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,C=Ja(s,s[zt],this.providerFactory.index,l);m=C.slice(0,T),o0(f,m);for(let P=T;P<C.length;P++)m.push(C[P])}else m=[],o0(f,m);return m}function o0(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function ib(t,r=[]){return s=>{s.providersResolver=(l,f)=>function bw(t,r,s){const l=Sr();if(l.firstCreatePass){const f=ui(t);n0(s,l.data,l.blueprint,f,!0),n0(r,l.data,l.blueprint,f,!1)}}(l,f?f(t):t,r)}}class Kg{}class sb{}function Dw(t,r){return new a0(t,r??null,[])}class a0 extends Kg{constructor(r,s,l){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mi(this);const f=si(r);this._bootstrapComponents=bc(f.bootstrap),this._r3Injector=Om(r,s,[{provide:Kg,useValue:this},{provide:Wh,useValue:this.componentFactoryResolver},...l],Rt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class l0 extends sb{constructor(r){super(),this.moduleType=r}create(r){return new a0(this.moduleType,r,[])}}class ob extends Kg{constructor(r){super(),this.componentFactoryResolver=new Mi(this),this.instance=null;const s=new Vd([...r.providers,{provide:Kg,useValue:this},{provide:Wh,useValue:this.componentFactoryResolver}],r.parent||zu(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function ab(t,r,s=null){return new ob({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let Sw=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const l=Xf(0,s.type),f=l.length>0?ab([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ae({token:t,providedIn:"environment",factory:()=>new t(Ln(Hl))})}return t})();function lb(t){t.getStandaloneInjector=r=>r.get(Sw).getOrCreateStandaloneInjector(t)}function gb(t,r,s){const l=To()+t,f=Tt();return f[l]===ur?lu(f,l,s?r.call(s):r()):function Jd(t,r){return t[r]}(f,l)}function mb(t,r,s,l){return vb(Tt(),To(),t,r,s,l)}function _b(t,r,s,l,f){return function Eb(t,r,s,l,f,m,T){const C=r+s;return Xd(t,C,f,m)?lu(t,C+2,T?l.call(T,f,m):l(f,m)):hy(t,C+2)}(Tt(),To(),t,r,s,l,f)}function yb(t,r,s,l,f,m){return function bb(t,r,s,l,f,m,T,C){const P=r+s;return function bp(t,r,s,l,f){const m=Xd(t,r,s,l);return jo(t,r+2,f)||m}(t,P,f,m,T)?lu(t,P+3,C?l.call(C,f,m,T):l(f,m,T)):hy(t,P+3)}(Tt(),To(),t,r,s,l,f,m)}function hy(t,r){const s=t[r];return s===ur?void 0:s}function vb(t,r,s,l,f,m){const T=r+s;return jo(t,T,f)?lu(t,T+1,m?l.call(m,f):l(f)):hy(t,T+1)}function wb(t,r){const s=Sr();let l;const f=t+Bn;s.firstCreatePass?(l=function jw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const l=r[s];if(t===l.name)return l}}(r,s.pipeRegistry),s.data[f]=l,l.onDestroy&&(s.destroyHooks??=[]).push(f,l.onDestroy)):l=s.data[f];const m=l.factory||(l.factory=$s(l.type)),C=zn(tf);try{const P=Ol(!1),H=m();return Ol(P),function kv(t,r,s,l){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=l}(s,Tt(),f,H),H}finally{zn(C)}}function Db(t,r,s){const l=t+Bn,f=Tt(),m=ba(f,l);return function fy(t,r){return t[zt].data[r].pure}(f,l)?vb(f,To(),r,m.transform,s,m):m.transform(s)}function qw(){return this._results[Symbol.iterator]()}class u0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new El)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=u0.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=qw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const l=this;l.dirty=!1;const f=function xs(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function uh(t,r,s){if(t.length!==r.length)return!1;for(let l=0;l<t.length;l++){let f=t[l],m=r[l];if(s&&(f=s(f),m=s(m)),m!==f)return!1}return!0}(l._results,f,s))&&(l._results=f,l.length=f.length,l.last=f[this.length-1],l.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Yw(t,r,s,l=!0){const f=r[zt];if(function Bf(t,r,s,l){const f=Zr+l,m=s.length;l>0&&(s[f-1][oi]=r),l<m-Zr?(r[oi]=s[f],bu(s,Zr+l,r)):(s.push(r),r[oi]=null),r[Or]=s;const T=r[Ao];null!==T&&s!==T&&function Uf(t,r){const s=t[Yr];r[Lr]!==r[Or][Or][Lr]&&(t[po]=!0),null===s?t[Yr]=[r]:s.push(r)}(T,r);const C=r[$i];null!==C&&C.insertView(t),r[Kn]|=128}(f,r,t,s),l){const m=wh(s,t),T=r[xn],C=Th(T,t[Hs]);null!==C&&function Vf(t,r,s,l,f,m){l[Er]=f,l[Wr]=r,Md(t,l,s,1,f,m)}(f,t[Wr],T,r,C,m)}}let py=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Jw}return t})();const Zw=py,Qw=class extends Zw{constructor(r,s,l){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,l){const f=function Kw(t,r,s,l){const f=r.tView,C=nf(t,f,s,4096&t[Kn]?4096:16,null,r,null,null,null,l?.injector??null,l?.hydrationInfo??null);C[Ao]=t[r.index];const H=t[$i];return null!==H&&(C[$i]=H.createEmbeddedView(f)),hr(f,C,s),C}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:l});return new Rs(f)}};function Jw(){return ov(Os(),Tt())}function ov(t,r){return 4&t.type?new Qw(r,t,qh(t,r)):null}let lv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=i1}return t})();function i1(){return Pb(Os(),Tt())}const s1=lv,Nb=class extends s1{constructor(r,s,l){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=l}get element(){return qh(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){const r=yu(this._hostTNode,this._hostLView);if(Di(r)){const s=ll(r,this._hostLView),l=oo(r);return new ao(s[zt].data[l+8],s)}return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Mb(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Zr}createEmbeddedView(r,s,l){let f,m;"number"==typeof l?f=l:null!=l&&(f=l.index,m=l.injector);const C=r.createEmbeddedViewImpl(s||{},m,null);return this.insertImpl(C,f,false),C}createComponent(r,s,l,f,m){const T=r&&!function Eu(t){return"function"==typeof t}(r);let C;if(T)C=s;else{const Mt=s||{};C=Mt.index,l=Mt.injector,f=Mt.projectableNodes,m=Mt.environmentInjector||Mt.ngModuleRef}const P=T?r:new Oo(Jn(r)),H=l||this.parentInjector;if(!m&&null==P.ngModule){const an=(T?H:this.parentInjector).get(Hl,null);an&&(m=an)}Jn(P.componentType??{});const Ge=P.create(H,f,null,m);return this.insertImpl(Ge.hostView,C,false),Ge}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,l){const f=r._lView;if(function fu(t){return Is(t[Or])}(f)){const P=this.indexOf(r);if(-1!==P)this.detach(P);else{const H=f[Or],ee=new Nb(H,H[Wr],H[Or]);ee.detach(ee.indexOf(r))}}const T=this._adjustIndex(s),C=this._lContainer;return Yw(C,f,T,!l),r.attachToViewContainerRef(),bu(d0(C),T,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Mb(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),l=co(this._lContainer,s);l&&(oc(d0(this._lContainer),s),lm(l[zt],l))}detach(r){const s=this._adjustIndex(r,-1),l=co(this._lContainer,s);return l&&null!=oc(d0(this._lContainer),s)?new Rs(l):null}_adjustIndex(r,s=0){return r??this.length+s}};function Mb(t){return t[8]}function d0(t){return t[8]||(t[8]=[])}function Pb(t,r){let s;const l=r[t.index];return Is(l)?s=l:(s=ge(l,r,null,t),r[t.index]=s,et(r,s)),Ob(s,r,t,l),new Nb(s,t,r)}let Ob=function xb(t,r,s,l){if(t[Hs])return;let f;f=8&s.type?Ii(l):function o1(t,r){const s=t[xn],l=s.createComment(""),f=Ds(r,t);return Va(s,Th(s,f),l,function _y(t,r){return t.nextSibling(r)}(s,f),!1),l}(r,s),t[Hs]=f};class h0{constructor(r){this.queryList=r,this.matches=null}clone(){return new h0(this.queryList)}setDirty(){this.queryList.setDirty()}}class f0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const l=null!==r.contentQueries?r.contentQueries[0]:s.length,f=[];for(let m=0;m<l;m++){const T=s.getByIndex(m);f.push(this.queries[T.indexInDeclarationView].clone())}return new f0(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==$b(r,s).matches&&this.queries[s].setDirty()}}class kb{constructor(r,s,l=null){this.predicate=r,this.flags=s,this.read=l}}class p0{constructor(r=[]){this.queries=r}elementStart(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let l=0;l<this.length;l++){const f=null!==s?s.length:0,m=this.getByIndex(l).embeddedTView(r,f);m&&(m.indexInDeclarationView=l,null!==s?s.push(m):s=[m])}return null!==s?new p0(s):null}template(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class g0{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new g0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let f=0;f<l.length;f++){const m=l[f];this.matchTNodeWithReadOption(r,s,c1(s,m)),this.matchTNodeWithReadOption(r,s,dl(s,r,m,!1,!1))}else l===py?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,dl(s,r,l,!1,!1))}matchTNodeWithReadOption(r,s,l){if(null!==l){const f=this.metadata.read;if(null!==f)if(f===Xu||f===lv||f===py&&4&s.type)this.addMatch(s.index,-2);else{const m=dl(s,r,f,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,l)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function c1(t,r){const s=t.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===r)return s[l+1];return null}function d1(t,r,s,l){return-1===s?function u1(t,r){return 11&t.type?qh(t,r):4&t.type?ov(t,r):null}(r,t):-2===s?function h1(t,r,s){return s===Xu?qh(r,t):s===py?ov(r,t):s===lv?Pb(r,t):void 0}(t,r,l):Ja(t,t[zt],s,r)}function Fb(t,r,s,l){const f=r[$i].queries[l];if(null===f.matches){const m=t.data,T=s.matches,C=[];for(let P=0;P<T.length;P+=2){const H=T[P];C.push(H<0?null:d1(r,m[H],T[P+1],s.metadata.read))}f.matches=C}return f.matches}function m0(t,r,s,l){const f=t.queries.getByIndex(s),m=f.matches;if(null!==m){const T=Fb(t,r,f,s);for(let C=0;C<m.length;C+=2){const P=m[C];if(P>0)l.push(T[C/2]);else{const H=m[C+1],ee=r[-P];for(let pe=Zr;pe<ee.length;pe++){const Pe=ee[pe];Pe[Ao]===Pe[Or]&&m0(Pe[zt],Pe,H,l)}if(null!==ee[Yr]){const pe=ee[Yr];for(let Pe=0;Pe<pe.length;Pe++){const Ge=pe[Pe];m0(Ge[zt],Ge,H,l)}}}}}return l}function Lb(t){const r=Tt(),s=Sr(),l=I();O(l+1);const f=$b(s,l);if(t.dirty&&function Sp(t){return 4==(4&t[Kn])}(r)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?m0(s,r,l,[]):Fb(s,r,f,l);t.reset(m,Rm),t.notifyOnChanges()}return!0}return!1}function Vb(t,r,s){const l=Sr();l.firstCreatePass&&(jb(l,new kb(t,r,s),-1),2==(2&r)&&(l.staticViewQueries=!0)),Hb(l,Tt(),r)}function Bb(t,r,s,l){const f=Sr();if(f.firstCreatePass){const m=Os();jb(f,new kb(r,s,l),m.index),function p1(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}Hb(f,Tt(),s)}function Ub(){return function f1(t,r){return t[$i].queries[r].queryList}(Tt(),I())}function Hb(t,r,s){const l=new u0(4==(4&s));(function zm(t,r,s,l){const f=dt(r);f.push(s),t.firstCreatePass&&Vt(t).push(l,f.length-1)})(t,r,l,l.destroy),null===r[$i]&&(r[$i]=new f0),r[$i].queries.push(new h0(l))}function jb(t,r,s){null===t.queries&&(t.queries=new p0),t.queries.track(new g0(r,s))}function $b(t,r){return t.queries.getByIndex(r)}function Gb(t,r){return ov(t,r)}function _0(t){return!!si(t)}const aT=new Pn("Application Initializer");let T0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l}),this.appInits=nr(aT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const m=f();if(Yy(m))s.push(m);else if(jv(m)){const T=new Promise((C,P)=>{m.subscribe({complete:C,error:P})});s.push(T)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(f=>{this.reject(f)}),0===s.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lT=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const uv=new Pn("LocaleId",{providedIn:"root",factory:()=>nr(uv,ln.Optional|ln.SkipSelf)||function k1(){return typeof $localize<"u"&&$localize.locale||d_}()}),F1=new Pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let cT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class V1{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let B1=(()=>{class t{compileModuleSync(s){return new l0(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),m=bc(si(s).declarations).reduce((T,C)=>{const P=Jn(C);return P&&T.push(new Oo(P)),T},[]);return new V1(l,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const fT=new Pn(""),pT=new Pn("");let D0,aD=(()=>{class t{constructor(s,l,f){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,D0||(function lD(t){D0=t}(f),f.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,f){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==m),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:f})}whenStable(s,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,f){return[]}static#e=this.\u0275fac=function(l){return new(l||t)(Ln(Qs),Ln(gT),Ln(pT))};static#t=this.\u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),gT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return D0?.findTestabilityInTree(this,s,l)??null}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Cp=null;const mT=new Pn("AllowMultipleToken"),C0=new Pn("PlatformDestroyListeners"),S0=new Pn("appBootstrapListener");class dD{constructor(r,s){this.name=r,this.token=s}}function vT(t,r,s=[]){const l=`Platform: ${r}`,f=new Pn(l);return(m=[])=>{let T=A0();if(!T||T.injector.get(mT,!1)){const C=[...s,...m,{provide:f,useValue:!0}];t?t(C):function hD(t){if(Cp&&!Cp.get(mT,!1))throw new Ue(400,!1);(function _T(){!function hu(t){ss=t}(()=>{throw new Ue(600,!1)})})(),Cp=t;const r=t.get(bT);(function yT(t){t.get(rp,null)?.forEach(s=>s())})(t)}(function ET(t=[],r){return vl.create({name:r,providers:[{provide:np,useValue:"platform"},{provide:C0,useValue:new Set([()=>Cp=null])},...t]})}(C,l))}return function pD(t){const r=A0();if(!r)throw new Ue(401,!1);return r}()}}function A0(){return Cp?.get(bT)??null}let bT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const f=function gD(t="zone.js",r){return"noop"===t?new cp:"zone.js"===t?new Qs(r):t}(l?.ngZone,function TT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return f.run(()=>{const m=function Cw(t,r,s){return new a0(t,r,s)}(s.moduleType,this.injector,function ST(t){return[{provide:Qs,useFactory:t},{provide:ju,multi:!0,useFactory:()=>{const r=nr(_D,{optional:!0});return()=>r.initialize()}},{provide:CT,useFactory:mD},{provide:Eg,useFactory:Qh}]}(()=>f)),T=m.injector.get($l,null);return f.runOutsideAngular(()=>{const C=f.onError.subscribe({next:P=>{T.handleError(P)}});m.onDestroy(()=>{hv(this._modules,m),C.unsubscribe()})}),function IT(t,r,s){try{const l=s();return Yy(l)?l.catch(f=>{throw r.runOutsideAngular(()=>t.handleError(f)),f}):l}catch(l){throw r.runOutsideAngular(()=>t.handleError(l)),l}}(T,f,()=>{const C=m.injector.get(T0);return C.runInitializers(),C.donePromise.then(()=>(PE(m.injector.get(uv,d_)||d_),this._moduleDoBootstrap(m),m))})})}bootstrapModule(s,l=[]){const f=wT({},l);return function cD(t,r,s){const l=new l0(s);return Promise.resolve(l)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(s){const l=s.injector.get(p_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new Ue(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(C0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||t)(Ln(vl))};static#t=this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function wT(t,r){return Array.isArray(r)?r.reduce(wT,t):{...t,...r}}let p_=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nr(CT),this.zoneIsStable=nr(Eg),this.componentTypes=[],this.components=[],this.isStable=nr(cT).hasPendingTasks.pipe((0,ze.w)(s=>s?(0,he.of)(!1):this.zoneIsStable),(0,wt.x)(),de()),this._injector=nr(Hl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){const f=s instanceof pg;if(!this._injector.get(T0).done)throw!f&&ir(s),new Ue(405,!1);let T;T=f?s:this._injector.get(Wh).resolveComponentFactory(s),this.componentTypes.push(T.componentType);const C=function uD(t){return t.isBoundToModule}(T)?void 0:this._injector.get(Kg),H=T.create(vl.NULL,[],l||T.selector,C),ee=H.location.nativeElement,pe=H.injector.get(fT,null);return pe?.registerApplication(ee),H.onDestroy(()=>{this.detachView(H.hostView),hv(this.components,H),pe?.unregisterApplication(ee)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Ue(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;hv(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(S0,[]);l.push(...this._bootstrapListeners),l.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>hv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ue(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const CT=new Pn("",{providedIn:"root",factory:()=>nr($l).handleError.bind(void 0)});function mD(){const t=nr(Qs),r=nr($l);return s=>t.runOutsideAngular(()=>r.handleError(s))}let _D=(()=>{class t{constructor(){this.zone=nr(Qs),this.applicationRef=nr(p_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let vD=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ED}return t})();function ED(t){return function bD(t,r,s){if(bi(t)&&!s){const l=io(t.index,r);return new Rs(l,l)}return 47&t.type?new Rs(r[Lr],r):null}(Os(),Tt(),16==(16&t))}class MT{constructor(){}supports(r){return au(r)}create(r){return new SD(r)}}const CD=(t,r)=>r;class SD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,l=this._removalsHead,f=0,m=null;for(;s||l;){const T=!l||s&&s.currentIndex<OT(l,f,m)?s:l,C=OT(T,f,m),P=T.currentIndex;if(T===l)f--,l=l._nextRemoved;else if(s=s._next,null==T.previousIndex)f++;else{m||(m=[]);const H=C-f,ee=P-f;if(H!=ee){for(let Pe=0;Pe<H;Pe++){const Ge=Pe<m.length?m[Pe]:m[Pe]=0,vt=Ge+Pe;ee<=vt&&vt<H&&(m[Pe]=Ge+1)}m[T.previousIndex]=ee-H}}C!==P&&r(T,C,P)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!au(r))throw new Ue(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,m,T,s=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)m=r[C],T=this._trackByFn(C,m),null!==s&&Object.is(s.trackById,T)?(l&&(s=this._verifyReinsertion(s,m,T,C)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,T,C),l=!0),s=s._next}else f=0,function Fy(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let l;for(;!(l=s.next()).done;)r(l.value)}}(r,C=>{T=this._trackByFn(f,C),null!==s&&Object.is(s.trackById,T)?(l&&(s=this._verifyReinsertion(s,C,T,f)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,T,f),l=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,l,f){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,m,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,m,f)):r=this._addAfter(new AD(s,l),m,f),r}_verifyReinsertion(r,s,l,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==m?r=this._reinsertAfter(m,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,m=r._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(r,s,l),this._addToMoves(r,l),r}_moveAfter(r,s,l){return this._unlink(r),this._insertAfter(r,s,l),this._addToMoves(r,l),r}_addAfter(r,s,l){return this._insertAfter(r,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,l){const f=null===s?this._itHead:s._next;return r._next=f,r._prev=s,null===f?this._itTail=r:f._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new PT),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,l=r._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PT),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class AD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const s=r._prevDup,l=r._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class PT{constructor(){this.map=new Map}put(r){const s=r.trackById;let l=this.map.get(s);l||(l=new RD,this.map.set(s,l)),l.add(r)}get(r,s){const f=this.map.get(r);return f?f.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OT(t,r,s){const l=t.previousIndex;if(null===l)return l;let f=0;return s&&l<s.length&&(f=s[l]),l+r+f}class xT{constructor(){}supports(r){return r instanceof Map||Vg(r)}create(){return new ND}}class ND{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Vg(r)))throw new Ue(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(f,l);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const l=r._prev;return s._next=r,s._prev=l,r._prev=s,l&&(l._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,s);const m=f._prev,T=f._next;return m&&(m._next=T),T&&(T._prev=m),f._next=null,f._prev=null,f}const l=new MD(r);return this._records.set(r,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(l=>s(r[l],l))}}class MD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kT(){return new O0([new MT])}let O0=(()=>{class t{static#e=this.\u0275prov=ae({token:t,providedIn:"root",factory:kT});constructor(s){this.factories=s}static create(s,l){if(null!=l){const f=l.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||kT()),deps:[[t,new wo,new Da]]}}find(s){const l=this.factories.find(f=>f.supports(s));if(null!=l)return l;throw new Ue(901,!1)}}return t})();function FT(){return new x0([new xT])}let x0=(()=>{class t{static#e=this.\u0275prov=ae({token:t,providedIn:"root",factory:FT});constructor(s){this.factories=s}static create(s,l){if(l){const f=l.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||FT()),deps:[[t,new wo,new Da]]}}find(s){const l=this.factories.find(f=>f.supports(s));if(l)return l;throw new Ue(901,!1)}}return t})();const xD=vT(null,"core",[]);let kD=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(l){return new(l||t)(Ln(p_))};static#t=this.\u0275mod=eo({type:t});static#n=this.\u0275inj=Y({})}return t})();function WD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function KD(t,r){const s=Jn(t),l=r.elementInjector||zu();return new Oo(s).create(l,r.projectableNodes,r.hostElement,r.environmentInjector)}function YD(t){const r=Jn(t);if(!r)return null;const s=new Oo(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(Lt,Ke,$)=>{$.d(Ke,{Ot:()=>y,ZF:()=>Yt,hX:()=>wt,z6:()=>ce});var E=$(3182),B=$(9468),Fe=$(1920);class y{constructor(xe){return xe}}class ce{constructor(){return(0,E.C6)()}}const Ce=new B.OlP("angularfire2._apps"),Ye={provide:y,useFactory:function Ae(_e){return _e&&1===_e.length?_e[0]:new y((0,E.Mq)())},deps:[[new B.FiY,Ce]]},de={provide:ce,deps:[[new B.FiY,Ce]]};function Ie(_e){return(xe,Qe)=>{const Le=xe.runOutsideAngular(()=>_e(Qe));return new y(Le)}}let ze=(()=>{class _e{constructor(Qe){(0,E.KN)("angularfire",Fe.q4.full,"core"),(0,E.KN)("angularfire",Fe.q4.full,"app"),(0,E.KN)("angular",B.q4F.full,Qe.toString())}static \u0275fac=function(Le){return new(Le||_e)(B.LFG(B.Lbi))};static \u0275mod=B.oAB({type:_e});static \u0275inj=B.cJS({providers:[Ye,de]})}return _e})();function wt(_e,...xe){return{ngModule:ze,providers:[{provide:Ce,useFactory:Ie(_e),multi:!0,deps:[B.R0b,B.zs3,Fe.HU,...xe]}]}}const Yt=(0,Fe.u3)(E.ZF,!0)},1210:(Lt,Ke,$)=>{$.d(Ke,{gx:()=>Bo,dh:()=>fh,Xb:()=>jc,v0:()=>Nf,AR:()=>Sf,w$:()=>Wc,e5:()=>Sd});var E=$(1920),B=$(9468),Fe=$(721),y=$(3182),ce=$(5861),he=$(9058),Ae=$(534),Ce=$(7879),Ye=$(7582),de=$(4537);const $n=function Yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new he.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new Ce.Yd("@firebase/auth");function Le(S,..._){xe.logLevel<=Ce.in.ERROR&&xe.error(`Auth (${Ae.Jn}): ${S}`,..._)}function Ue(S,..._){throw Xn(S,..._)}function je(S,..._){return Xn(S,..._)}function Xn(S,..._){if("string"!=typeof S){const b=_[0],A=[..._.slice(1)];return A[0]&&(A[0].appName=S.name),S._errorFactory.create(b,...A)}return Re.create(S,..._)}function ft(S,_,...b){if(!S)throw Xn(_,...b)}function wn(S){const _="INTERNAL ASSERTION FAILED: "+S;throw Le(_),new Error(_)}function er(S,_){S||wn(_)}function xt(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function tn(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class We{constructor(_,b){this.shortDelay=_,this.longDelay=b,er(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,he.uI)()||(0,he.b$)()}get(){return function Me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function vn(){return"http:"===tn()||"https:"===tn()}()||(0,he.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(S,_){er(S.emulator,"Emulator should always be set here");const{url:b}=S.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class yt{static initialize(_,b,A){this.fetchImpl=_,b&&(this.headersImpl=b),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zt=new We(3e4,6e4);function Qt(S,_){return S.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:S.tenantId}):_}function An(S,_,b,A){return mn.apply(this,arguments)}function mn(){return(mn=(0,ce.Z)(function*(S,_,b,A,Z={}){return Dn(S,Z,(0,ce.Z)(function*(){let le={},ke={};A&&("GET"===_?ke=A:le={body:JSON.stringify(A)});const ot=(0,he.xO)(Object.assign({key:S.config.apiKey},ke)).slice(1),mt=yield S._getAdditionalHeaders();return mt["Content-Type"]="application/json",S.languageCode&&(mt["X-Firebase-Locale"]=S.languageCode),yt.fetch()(ni(S,S.config.apiHost,b,ot),Object.assign({method:_,headers:mt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function Dn(S,_,b){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,ce.Z)(function*(S,_,b){S._canInitEmulator=!1;const A=Object.assign(Object.assign({},It),_);try{const Z=new ue(S),le=yield Promise.race([b(),Z.promise]);Z.clearNetworkTimeout();const ke=yield le.json();if("needConfirmation"in ke)throw Y(S,"account-exists-with-different-credential",ke);if(le.ok&&!("errorMessage"in ke))return ke;{const ot=le.ok?ke.errorMessage:ke.error.message,[mt,gn]=ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mt)throw Y(S,"credential-already-in-use",ke);if("EMAIL_EXISTS"===mt)throw Y(S,"email-already-in-use",ke);if("USER_DISABLED"===mt)throw Y(S,"user-disabled",ke);const Hn=A[mt]||mt.toLowerCase().replace(/[_\s]+/g,"-");if(gn)throw function lt(S,_,b){const A=Object.assign(Object.assign({},$n()),{[_]:b});return new he.LL("auth","Firebase",A).create(_,{appName:S.name})}(S,Hn,gn);Ue(S,Hn)}}catch(Z){if(Z instanceof he.ZR)throw Z;Ue(S,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function Yn(S,_,b,A){return tr.apply(this,arguments)}function tr(){return(tr=(0,ce.Z)(function*(S,_,b,A,Z={}){const le=yield An(S,_,b,A,Z);return"mfaPendingCredential"in le&&Ue(S,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function ni(S,_,b,A){const Z=`${_}${b}?${A}`;return S.config.emulator?st(S.config,Z):`${S.config.apiScheme}://${Z}`}function ae(S){switch(S){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ue{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,A)=>{this.timer=setTimeout(()=>A(je(this.auth,"network-request-failed")),Zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Y(S,_,b){const A={appName:S.name};b.email&&(A.email=b.email),b.phoneNumber&&(A.phoneNumber=b.phoneNumber);const Z=je(S,_,A);return Z.customData._tokenResponse=b,Z}function Se(S){return void 0!==S&&void 0!==S.enterprise}class $e{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const b of this.recaptchaEnforcementState)if(b.provider&&b.provider===_)return ae(b.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function en(S,_){return rn.apply(this,arguments)}function rn(){return(rn=(0,ce.Z)(function*(S,_){return An(S,"GET","/v2/recaptchaConfig",Qt(S,_))})).apply(this,arguments)}function cr(){return(cr=(0,ce.Z)(function*(S,_){return An(S,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function zn(){return(zn=(0,ce.Z)(function*(S,_){return An(S,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function pr(S){if(S)try{const _=new Date(Number(S));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function qn(){return(qn=(0,ce.Z)(function*(S,_=!1){const b=(0,he.m9)(S),A=yield b.getIdToken(_),Z=Pn(A);ft(Z&&Z.exp&&Z.auth_time&&Z.iat,b.auth,"internal-error");const le="object"==typeof Z.firebase?Z.firebase:void 0,ke=le?.sign_in_provider;return{claims:Z,token:A,authTime:pr(cs(Z.auth_time)),issuedAtTime:pr(cs(Z.iat)),expirationTime:pr(cs(Z.exp)),signInProvider:ke||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function cs(S){return 1e3*Number(S)}function Pn(S){const[_,b,A]=S.split(".");if(void 0===_||void 0===b||void 0===A)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,he.tV)(b);return Z?JSON.parse(Z):(Le("Failed to decode base64 JWT payload"),null)}catch(Z){return Le("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function On(S,_){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,ce.Z)(function*(S,_,b=!1){if(b)return _;try{return yield _}catch(A){throw A instanceof he.ZR&&function Vi({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(A)&&S.auth.currentUser===S&&(yield S.auth.signOut()),A}})).apply(this,arguments)}class Vs{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Z=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const A=this.getInterval(_);this.timerId=setTimeout((0,ce.Z)(function*(){yield b.iteration()}),A)}iteration(){var _=this;return(0,ce.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&_.schedule(!0))}_.schedule()})()}}class yi{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wi(S){return pi.apply(this,arguments)}function pi(){return pi=(0,ce.Z)(function*(S){var _;const b=S.auth,A=yield S.getIdToken(),Z=yield On(S,function fr(S,_){return zn.apply(this,arguments)}(b,{idToken:A}));ft(Z?.users.length,b,"internal-error");const le=Z.users[0];S._notifyReloadListener(le);const ke=null!==(_=le.providerUserInfo)&&void 0!==_&&_.length?function ne(S){return S.map(_=>{var{providerId:b}=_,A=(0,Ye._T)(_,["providerId"]);return{providerId:b,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(le.providerUserInfo):[],ot=function we(S,_){return[...S.filter(A=>!_.some(Z=>Z.providerId===A.providerId)),..._]}(S.providerData,ke),Hn=!!S.isAnonymous&&!(S.email&&le.passwordHash||ot?.length),Rr={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:ot,metadata:new yi(le.createdAt,le.lastLoginAt),isAnonymous:Hn};Object.assign(S,Rr)}),pi.apply(this,arguments)}function Bi(){return(Bi=(0,ce.Z)(function*(S){const _=(0,he.m9)(S);yield Wi(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function te(){return(te=(0,ce.Z)(function*(S,_){const b=yield Dn(S,{},(0,ce.Z)(function*(){const A=(0,he.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Z,apiKey:le}=S.config,ke=ni(S,Z,"/v1/token",`key=${le}`),ot=yield S._getAdditionalHeaders();return ot["Content-Type"]="application/x-www-form-urlencoded",yt.fetch()(ke,{method:"POST",headers:ot,body:A})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ft(_.idToken,"internal-error"),ft(typeof _.idToken<"u","internal-error"),ft(typeof _.refreshToken<"u","internal-error");const b="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Gn(S){const _=Pn(S);return ft(_,"internal-error"),ft(typeof _.exp<"u","internal-error"),ft(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}getToken(_,b=!1){var A=this;return(0,ce.Z)(function*(){return ft(!A.accessToken||A.refreshToken,_,"user-token-expired"),b||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(_,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var A=this;return(0,ce.Z)(function*(){const{accessToken:Z,refreshToken:le,expiresIn:ke}=yield function se(S,_){return te.apply(this,arguments)}(_,b);A.updateTokensAndExpiration(Z,le,Number(ke))})()}updateTokensAndExpiration(_,b,A){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(_,b){const{refreshToken:A,accessToken:Z,expirationTime:le}=b,ke=new ie;return A&&(ft("string"==typeof A,"internal-error",{appName:_}),ke.refreshToken=A),Z&&(ft("string"==typeof Z,"internal-error",{appName:_}),ke.accessToken=Z),le&&(ft("number"==typeof le,"internal-error",{appName:_}),ke.expirationTime=le),ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ie,this.toJSON())}_performRefresh(){return wn("not implemented")}}function Oe(S,_){ft("string"==typeof S||typeof S>"u","internal-error",{appName:_})}class gt{constructor(_){var{uid:b,auth:A,stsTokenManager:Z}=_,le=(0,Ye._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=A,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new yi(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,ce.Z)(function*(){const A=yield On(b,b.stsTokenManager.getToken(b.auth,_));return ft(A,b.auth,"internal-error"),b.accessToken!==A&&(b.accessToken=A,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),A})()}getIdTokenResult(_){return function Mr(S){return qn.apply(this,arguments)}(this,_)}reload(){return function Si(S){return Bi.apply(this,arguments)}(this)}_assign(_){this!==_&&(ft(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const b=new gt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(_){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var A=this;return(0,ce.Z)(function*(){let Z=!1;_.idToken&&_.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(_),Z=!0),b&&(yield Wi(A)),yield A.auth._persistUserIfCurrent(A),Z&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var _=this;return(0,ce.Z)(function*(){const b=yield _.getIdToken();return yield On(_,function fn(S,_){return cr.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var A,Z,le,ke,ot,mt,gn,Hn;const Rr=null!==(A=b.displayName)&&void 0!==A?A:void 0,gs=null!==(Z=b.email)&&void 0!==Z?Z:void 0,La=null!==(le=b.phoneNumber)&&void 0!==le?le:void 0,nl=null!==(ke=b.photoURL)&&void 0!==ke?ke:void 0,Ll=null!==(ot=b.tenantId)&&void 0!==ot?ot:void 0,Ad=null!==(mt=b._redirectEventId)&&void 0!==mt?mt:void 0,Mu=null!==(gn=b.createdAt)&&void 0!==gn?gn:void 0,Pu=null!==(Hn=b.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:bh,emailVerified:Vf,isAnonymous:Ou,providerData:Rd,stsTokenManager:Bf}=b;ft(bh&&Bf,_,"internal-error");const Uf=ie.fromJSON(this.name,Bf);ft("string"==typeof bh,_,"internal-error"),Oe(Rr,_.name),Oe(gs,_.name),ft("boolean"==typeof Vf,_,"internal-error"),ft("boolean"==typeof Ou,_,"internal-error"),Oe(La,_.name),Oe(nl,_.name),Oe(Ll,_.name),Oe(Ad,_.name),Oe(Mu,_.name),Oe(Pu,_.name);const xu=new gt({uid:bh,auth:_,email:gs,emailVerified:Vf,displayName:Rr,isAnonymous:Ou,photoURL:nl,phoneNumber:La,tenantId:Ll,stsTokenManager:Uf,createdAt:Mu,lastLoginAt:Pu});return Rd&&Array.isArray(Rd)&&(xu.providerData=Rd.map(co=>Object.assign({},co))),Ad&&(xu._redirectEventId=Ad),xu}static _fromIdTokenResponse(_,b,A=!1){return(0,ce.Z)(function*(){const Z=new ie;Z.updateFromServerResponse(b);const le=new gt({uid:b.localId,auth:_,stsTokenManager:Z,isAnonymous:A});return yield Wi(le),le})()}}const kt=new Map;function dn(S){er(S instanceof Function,"Expected a class definition");let _=kt.get(S);return _?(er(_ instanceof S,"Instance stored in cache mismatched with class"),_):(_=new S,kt.set(S,_),_)}const Nn=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ce.Z)(function*(){return!0})()}_set(b,A){var Z=this;return(0,ce.Z)(function*(){Z.storage[b]=A})()}_get(b){var A=this;return(0,ce.Z)(function*(){const Z=A.storage[b];return void 0===Z?null:Z})()}_remove(b){var A=this;return(0,ce.Z)(function*(){delete A.storage[b]})()}_addListener(b,A){}_removeListener(b,A){}}return S.type="NONE",S})();function _n(S,_,b){return`firebase:${S}:${_}:${b}`}class Ln{constructor(_,b,A){this.persistence=_,this.auth=b,this.userKey=A;const{config:Z,name:le}=this.auth;this.fullUserKey=_n(this.userKey,Z.apiKey,le),this.fullPersistenceKey=_n("persistence",Z.apiKey,le),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,ce.Z)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?gt._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,ce.Z)(function*(){if(b.persistence===_)return;const A=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,A?b.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,A="authUser"){return(0,ce.Z)(function*(){if(!b.length)return new Ln(dn(Nn),_,A);const Z=(yield Promise.all(b.map(function(){var gn=(0,ce.Z)(function*(Hn){if(yield Hn._isAvailable())return Hn});return function(Hn){return gn.apply(this,arguments)}}()))).filter(gn=>gn);let le=Z[0]||dn(Nn);const ke=_n(A,_.config.apiKey,_.name);let ot=null;for(const gn of b)try{const Hn=yield gn._get(ke);if(Hn){const Rr=gt._fromJSON(_,Hn);gn!==le&&(ot=Rr),le=gn;break}}catch{}const mt=Z.filter(gn=>gn._shouldAllowMigration);return le._shouldAllowMigration&&mt.length?(le=mt[0],ot&&(yield le._set(ke,ot.toJSON())),yield Promise.all(b.map(function(){var gn=(0,ce.Z)(function*(Hn){if(Hn!==le)try{yield Hn._remove(ke)}catch{}});return function(Hn){return gn.apply(this,arguments)}}())),new Ln(le,_,A)):new Ln(le,_,A)})()}}function ri(S){const _=S.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(He(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(nr(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Jt(_))return"Blackberry";if(Rn(_))return"Webos";if(Ui(_))return"Safari";if((_.includes("chrome/")||tt(_))&&!_.includes("edge/"))return"Chrome";if(bt(_))return"Android";{const A=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function nr(S=(0,he.z$)()){return/firefox\//i.test(S)}function Ui(S=(0,he.z$)()){const _=S.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function tt(S=(0,he.z$)()){return/crios\//i.test(S)}function He(S=(0,he.z$)()){return/iemobile/i.test(S)}function bt(S=(0,he.z$)()){return/android/i.test(S)}function Jt(S=(0,he.z$)()){return/blackberry/i.test(S)}function Rn(S=(0,he.z$)()){return/webos/i.test(S)}function pn(S=(0,he.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function Vn(S=(0,he.z$)()){return pn(S)||bt(S)||Rn(S)||Jt(S)||/windows phone/i.test(S)||He(S)}function ys(S,_=[]){let b;switch(S){case"Browser":b=ri((0,he.z$)());break;case"Worker":b=`${ri((0,he.z$)())}-${S}`;break;default:b=S}const A=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${Ae.Jn}/${A}`}class Hi{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const A=le=>new Promise((ke,ot)=>{try{ke(_(le))}catch(mt){ot(mt)}});A.onAbort=b,this.queue.push(A);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,ce.Z)(function*(){if(b.auth.currentUser===_)return;const A=[];try{for(const Z of b.queue)yield Z(_),Z.onAbort&&A.push(Z.onAbort)}catch(Z){A.reverse();for(const le of A)try{le()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function Pi(){return(Pi=(0,ce.Z)(function*(S,_={}){return An(S,"GET","/v2/passwordPolicy",Qt(S,_))})).apply(this,arguments)}class Sa{constructor(_){var b,A,Z,le;const ke=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(b=ke.minPasswordLength)&&void 0!==b?b:6,ke.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ke.maxPasswordLength),void 0!==ke.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ke.containsLowercaseCharacter),void 0!==ke.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ke.containsUppercaseCharacter),void 0!==ke.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ke.containsNumericCharacter),void 0!==ke.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ke.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(A=_.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(le=_.forceUpgradeOnSignin)&&void 0!==le&&le,this.schemaVersion=_.schemaVersion}validatePassword(_){var b,A,Z,le,ke,ot;const mt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,mt),this.validatePasswordCharacterOptions(_,mt),mt.isValid&&(mt.isValid=null===(b=mt.meetsMinPasswordLength)||void 0===b||b),mt.isValid&&(mt.isValid=null===(A=mt.meetsMaxPasswordLength)||void 0===A||A),mt.isValid&&(mt.isValid=null===(Z=mt.containsLowercaseLetter)||void 0===Z||Z),mt.isValid&&(mt.isValid=null===(le=mt.containsUppercaseLetter)||void 0===le||le),mt.isValid&&(mt.isValid=null===(ke=mt.containsNumericCharacter)||void 0===ke||ke),mt.isValid&&(mt.isValid=null===(ot=mt.containsNonAlphanumericCharacter)||void 0===ot||ot),mt}validatePasswordLengthOptions(_,b){const A=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;A&&(b.meetsMinPasswordLength=_.length>=A),Z&&(b.meetsMaxPasswordLength=_.length<=Z)}validatePasswordCharacterOptions(_,b){let A;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let Z=0;Z<_.length;Z++)A=_.charAt(Z),this.updatePasswordCharacterOptionsStatuses(b,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(_,b,A,Z,le){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=le))}}class vi{constructor(_,b,A,Z){this.app=_,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=A,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new na(this),this.idTokenSubscription=new na(this),this.beforeStateQueue=new Hi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(_,b){var A=this;return b&&(this._popupRedirectResolver=dn(b)),this._initializationPromise=this.queue((0,ce.Z)(function*(){var Z,le;if(!A._deleted&&(A.persistenceManager=yield Ln.create(A,_),!A._deleted)){if(null!==(Z=A._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(b),A.lastNotifiedUid=(null===(le=A.currentUser)||void 0===le?void 0:le.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,ce.Z)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUser(_){var b=this;return(0,ce.Z)(function*(){var A;const Z=yield b.assertedPersistence.getCurrentUser();let le=Z,ke=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const ot=null===(A=b.redirectUser)||void 0===A?void 0:A._redirectEventId,mt=le?._redirectEventId,gn=yield b.tryRedirectSignIn(_);(!ot||ot===mt)&&gn?.user&&(le=gn.user,ke=!0)}if(!le)return b.directlySetCurrentUser(null);if(!le._redirectEventId){if(ke)try{yield b.beforeStateQueue.runMiddleware(le)}catch(ot){le=Z,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(ot))}return le?b.reloadAndSetCurrentUserOrClear(le):b.directlySetCurrentUser(null)}return ft(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===le._redirectEventId?b.directlySetCurrentUser(le):b.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(_){var b=this;return(0,ce.Z)(function*(){let A=null;try{A=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch{yield b._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,ce.Z)(function*(){try{yield Wi(_)}catch(A){if("auth/network-request-failed"!==A?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Be(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var _=this;return(0,ce.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,ce.Z)(function*(){const A=_?(0,he.m9)(_):null;return A&&ft(A.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(A&&A._clone(b))})()}_updateCurrentUser(_,b=!1){var A=this;return(0,ce.Z)(function*(){if(!A._deleted)return _&&ft(A.tenantId===_.tenantId,A,"tenant-id-mismatch"),b||(yield A.beforeStateQueue.runMiddleware(_)),A.queue((0,ce.Z)(function*(){yield A.directlySetCurrentUser(_),A.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,ce.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var b=this;return this.queue((0,ce.Z)(function*(){yield b.assertedPersistence.setPersistence(dn(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var b=this;return(0,ce.Z)(function*(){b._getPasswordPolicyInternal()||(yield b._updatePasswordPolicy());const A=b._getPasswordPolicyInternal();return A.schemaVersion!==b.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(b._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,ce.Z)(function*(){const b=yield function $o(S){return Pi.apply(this,arguments)}(_),A=new Sa(b);null===_.tenantId?_._projectPasswordPolicy=A:_._tenantPasswordPolicies[_.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new he.LL("auth","Firebase",_())}onAuthStateChanged(_,b,A){return this.registerStateListener(this.authStateSubscription,_,b,A)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,A){return this.registerStateListener(this.idTokenSubscription,_,b,A)}authStateReady(){return new Promise((_,b)=>{if(this.currentUser)_();else{const A=this.onAuthStateChanged(()=>{A(),_()},b)}})}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var A=this;return(0,ce.Z)(function*(){const Z=yield A.getOrInitRedirectPersistenceManager(b);return null===_?Z.removeCurrentUser():Z.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,ce.Z)(function*(){if(!b.redirectPersistenceManager){const A=_&&dn(_)||b._popupRedirectResolver;ft(A,b,"argument-error"),b.redirectPersistenceManager=yield Ln.create(b,[dn(A._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,ce.Z)(function*(){var A,Z;return b._isInitialized&&(yield b.queue((0,ce.Z)(function*(){}))),(null===(A=b._currentUser)||void 0===A?void 0:A._redirectEventId)===_?b._currentUser:(null===(Z=b.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,ce.Z)(function*(){if(_===b.currentUser)return b.queue((0,ce.Z)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,A,Z){if(this._deleted)return()=>{};const le="function"==typeof b?b:b.next.bind(b);let ke=!1;const ot=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(ot,this,"internal-error"),ot.then(()=>{ke||le(this.currentUser)}),"function"==typeof b){const mt=_.addObserver(b,A,Z);return()=>{ke=!0,mt()}}{const mt=_.addObserver(b);return()=>{ke=!0,mt()}}}directlySetCurrentUser(_){var b=this;return(0,ce.Z)(function*(){b.currentUser&&b.currentUser!==_&&b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh(),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=ys(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,ce.Z)(function*(){var b;const A={"X-Client-Version":_.clientVersion};_.app.options.appId&&(A["X-Firebase-gmpid"]=_.app.options.appId);const Z=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();Z&&(A["X-Firebase-Client"]=Z);const le=yield _._getAppCheckToken();return le&&(A["X-Firebase-AppCheck"]=le),A})()}_getAppCheckToken(){var _=this;return(0,ce.Z)(function*(){var b;const A=yield null===(b=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return A?.error&&function Qe(S,..._){xe.logLevel<=Ce.in.WARN&&xe.warn(`Auth (${Ae.Jn}): ${S}`,..._)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Kr(S){return(0,he.m9)(S)}class na{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,he.ne)(b=>this.observer=b)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Js(S){return new Promise((_,b)=>{const A=document.createElement("script");A.setAttribute("src",S),A.onload=_,A.onerror=Z=>{const le=je("internal-error");le.customData=Z,b(le)},A.type="text/javascript",A.charset="UTF-8",function ji(){var S,_;return null!==(_=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==_?_:document}().appendChild(A)})}function Bt(S){return`__${S}${Math.floor(1e6*Math.random())}`}class ci{constructor(_){this.type="recaptcha-enterprise",this.auth=Kr(_)}verify(_="verify",b=!1){var A=this;return(0,ce.Z)(function*(){function le(){return le=(0,ce.Z)(function*(ot){if(!b){if(null==ot.tenantId&&null!=ot._agentRecaptchaConfig)return ot._agentRecaptchaConfig.siteKey;if(null!=ot.tenantId&&void 0!==ot._tenantRecaptchaConfigs[ot.tenantId])return ot._tenantRecaptchaConfigs[ot.tenantId].siteKey}return new Promise(function(){var mt=(0,ce.Z)(function*(gn,Hn){en(ot,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Rr=>{if(void 0!==Rr.recaptchaKey){const gs=new $e(Rr);return null==ot.tenantId?ot._agentRecaptchaConfig=gs:ot._tenantRecaptchaConfigs[ot.tenantId]=gs,gn(gs.siteKey)}Hn(new Error("recaptcha Enterprise site key undefined"))}).catch(Rr=>{Hn(Rr)})});return function(gn,Hn){return mt.apply(this,arguments)}}())}),le.apply(this,arguments)}function ke(ot,mt,gn){const Hn=window.grecaptcha;Se(Hn)?Hn.enterprise.ready(()=>{Hn.enterprise.execute(ot,{action:_}).then(Rr=>{mt(Rr)}).catch(()=>{mt("NO_RECAPTCHA")})}):gn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ot,mt)=>{(function Z(ot){return le.apply(this,arguments)})(A.auth).then(gn=>{if(!b&&Se(window.grecaptcha))ke(gn,ot,mt);else{if(typeof window>"u")return void mt(new Error("RecaptchaVerifier is only supported in browser"));Js("https://www.google.com/recaptcha/enterprise.js?render="+gn).then(()=>{ke(gn,ot,mt)}).catch(Hn=>{mt(Hn)})}}).catch(gn=>{mt(gn)})})})()}}function yr(S,_,b){return vr.apply(this,arguments)}function vr(){return(vr=(0,ce.Z)(function*(S,_,b,A=!1){const Z=new ci(S);let le;try{le=yield Z.verify(b)}catch{le=yield Z.verify(b,!0)}const ke=Object.assign({},_);return Object.assign(ke,A?{captchaResp:le}:{captchaResponse:le}),Object.assign(ke,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ke,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ke})).apply(this,arguments)}function qi(S,_,b,A){return Ei.apply(this,arguments)}function Ei(){return Ei=(0,ce.Z)(function*(S,_,b,A){var Z;if(null!==(Z=S._getRecaptchaConfig())&&void 0!==Z&&Z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const le=yield yr(S,_,b,"getOobCode"===b);return A(S,le)}return A(S,_).catch(function(){var le=(0,ce.Z)(function*(ke){if("auth/missing-recaptcha-token"===ke.code){console.log(`${b} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ot=yield yr(S,_,b,"getOobCode"===b);return A(S,ot)}return Promise.reject(ke)});return function(ke){return le.apply(this,arguments)}}())}),Ei.apply(this,arguments)}function Aa(S){const _=S.indexOf(":");return _<0?"":S.substr(0,_+1)}function Co(S){if(!S)return null;const _=Number(S);return isNaN(_)?null:_}class Us{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return wn("not implemented")}_getIdTokenResponse(_){return wn("not implemented")}_linkToIdToken(_,b){return wn("not implemented")}_getReauthenticationResolver(_){return wn("not implemented")}}function eo(S,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,ce.Z)(function*(S,_){return An(S,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function to(S,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,ce.Z)(function*(S,_){return Yn(S,"POST","/v1/accounts:signInWithPassword",Qt(S,_))})).apply(this,arguments)}function Ai(){return(Ai=(0,ce.Z)(function*(S,_){return An(S,"POST","/v1/accounts:sendOobCode",Qt(S,_))})).apply(this,arguments)}function si(){return(si=(0,ce.Z)(function*(S,_){return function Pr(S,_){return Ai.apply(this,arguments)}(S,_)})).apply(this,arguments)}function Kn(){return(Kn=(0,ce.Z)(function*(S,_){return Yn(S,"POST","/v1/accounts:signInWithEmailLink",Qt(S,_))})).apply(this,arguments)}function oi(){return(oi=(0,ce.Z)(function*(S,_){return Yn(S,"POST","/v1/accounts:signInWithEmailLink",Qt(S,_))})).apply(this,arguments)}class bs extends Us{constructor(_,b,A,Z=null){super("password",A),this._email=_,this._password=b,this._tenantId=Z}static _fromEmailAndPassword(_,b){return new bs(_,b,"password")}static _fromEmailAndCode(_,b,A=null){return new bs(_,b,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,ce.Z)(function*(){switch(b.signInMethod){case"password":return qi(_,{returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",to);case"emailLink":return function zt(S,_){return Kn.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:Ue(_,"internal-error")}})()}_linkToIdToken(_,b){var A=this;return(0,ce.Z)(function*(){switch(A.signInMethod){case"password":return eo(_,{idToken:b,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Or(S,_){return oi.apply(this,arguments)}(_,{idToken:b,email:A._email,oobCode:A._password});default:Ue(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Wr(S,_){return no.apply(this,arguments)}function no(){return(no=(0,ce.Z)(function*(S,_){return Yn(S,"POST","/v1/accounts:signInWithIdp",Qt(S,_))})).apply(this,arguments)}class ds{constructor(_){var b,A,Z,le,ke,ot;const mt=(0,he.zd)((0,he.pd)(_)),gn=null!==(b=mt.apiKey)&&void 0!==b?b:null,Hn=null!==(A=mt.oobCode)&&void 0!==A?A:null,Rr=function ja(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=mt.mode)&&void 0!==Z?Z:null);ft(gn&&Hn&&Rr,"argument-error"),this.apiKey=gn,this.operation=Rr,this.code=Hn,this.continueUrl=null!==(le=mt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(ke=mt.languageCode)&&void 0!==ke?ke:null,this.tenantId=null!==(ot=mt.tenantId)&&void 0!==ot?ot:null}static parseLink(_){const b=function fo(S){const _=(0,he.zd)((0,he.pd)(S)).link,b=_?(0,he.zd)((0,he.pd)(_)).deep_link_id:null,A=(0,he.zd)((0,he.pd)(S)).deep_link_id;return(A?(0,he.zd)((0,he.pd)(A)).link:null)||A||b||_||S}(_);try{return new ds(b)}catch{return null}}}let Ms=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(b,A){return bs._fromEmailAndPassword(b,A)}static credentialWithLink(b,A){const Z=ds.parseLink(A);return ft(Z,"argument-error"),bs._fromEmailAndCode(b,Z.code,Z.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class Bn{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class ro extends Bn{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}function Is(S,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,ce.Z)(function*(S,_){return Yn(S,"POST","/v1/accounts:signUp",Qt(S,_))})).apply(this,arguments)}class bi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,A,Z=!1){return(0,ce.Z)(function*(){const le=yield gt._fromIdTokenResponse(_,A,Z),ke=go(A);return new bi({user:le,providerId:ke,_tokenResponse:A,operationType:b})})()}static _forOperation(_,b,A){return(0,ce.Z)(function*(){yield _._updateTokensIfNecessary(A,!0);const Z=go(A);return new bi({user:_,providerId:Z,_tokenResponse:A,operationType:b})})()}}function go(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}class la extends he.ZR{constructor(_,b,A,Z){var le;super(b.code,b.message),this.operationType=A,this.user=Z,Object.setPrototypeOf(this,la.prototype),this.customData={appName:_.name,tenantId:null!==(le=_.tenantId)&&void 0!==le?le:void 0,_serverResponse:b.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(_,b,A,Z){return new la(_,b,A,Z)}}function z(S,_,b,A){return("reauthenticate"===_?b._getReauthenticationResolver(S):b._getIdTokenResponse(S)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?la._fromErrorAndOperation(S,le,_,A):le})}function ct(){return(ct=(0,ce.Z)(function*(S,_,b=!1){const A=yield On(S,_._linkToIdToken(S.auth,yield S.getIdToken()),b);return bi._forOperation(S,"link",A)})).apply(this,arguments)}function Q(){return(Q=(0,ce.Z)(function*(S,_,b=!1){const{auth:A}=S,Z="reauthenticate";try{const le=yield On(S,z(A,Z,_,S),b);ft(le.idToken,A,"internal-error");const ke=Pn(le.idToken);ft(ke,A,"internal-error");const{sub:ot}=ke;return ft(S.uid===ot,A,"user-mismatch"),bi._forOperation(S,Z,le)}catch(le){throw"auth/user-not-found"===le?.code&&Ue(A,"user-mismatch"),le}})).apply(this,arguments)}function be(S,_){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,ce.Z)(function*(S,_,b=!1){const A="signIn",Z=yield z(S,A,_),le=yield bi._fromIdTokenResponse(S,A,Z);return b||(yield S._updateCurrentUser(le.user)),le})).apply(this,arguments)}function wr(){return(wr=(0,ce.Z)(function*(S,_){return be(Kr(S),_)})).apply(this,arguments)}function Qi(S){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,ce.Z)(function*(S){const _=Kr(S);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function Wa(S,_,b){return _o.apply(this,arguments)}function _o(){return(_o=(0,ce.Z)(function*(S,_,b){const A=Kr(S),ke=yield qi(A,{returnSecureToken:!0,email:_,password:b,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Is).catch(mt=>{throw"auth/password-does-not-meet-requirements"===mt.code&&Qi(S),mt}),ot=yield bi._fromIdTokenResponse(A,"signIn",ke);return yield A._updateCurrentUser(ot.user),ot})).apply(this,arguments)}function Ji(S,_,b){return function hn(S,_){return wr.apply(this,arguments)}((0,he.m9)(S),Ms.credential(_,b)).catch(function(){var A=(0,ce.Z)(function*(Z){throw"auth/password-does-not-meet-requirements"===Z.code&&Qi(S),Z});return function(Z){return A.apply(this,arguments)}}())}function yo(S,_){return hu.apply(this,arguments)}function hu(){return hu=(0,ce.Z)(function*(S,_){const b=(0,he.m9)(S),Z={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};_&&function di(S,_,b){var A;ft((null===(A=b.url)||void 0===A?void 0:A.length)>0,S,"invalid-continue-uri"),ft(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(ft(b.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(ft(b.android.packageName.length>0,S,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}(b.auth,Z,_);const{email:le}=yield function ir(S,_){return si.apply(this,arguments)}(b.auth,Z);le!==S.email&&(yield S.reload())}),hu.apply(this,arguments)}const _i="__sak";class Tn{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(_i,"1"),this.storage.removeItem(_i),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const qt=(()=>{class S extends Tn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,A)=>this.onStorageEvent(b,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wc(){const S=(0,he.z$)();return Ui(S)||pn(S)}()&&function gi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vn(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const A of Object.keys(this.listeners)){const Z=this.storage.getItem(A),le=this.localCache[A];Z!==le&&b(A,le,Z)}}onStorageEvent(b,A=!1){if(!b.key)return void this.forAllChangedKeys((ot,mt,gn)=>{this.notifyListeners(ot,gn)});const Z=b.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ot=this.storage.getItem(Z);if(b.newValue!==ot)null!==b.newValue?this.storage.setItem(Z,b.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===b.newValue&&!A)return}const le=()=>{const ot=this.storage.getItem(Z);!A&&this.localCache[Z]===ot||this.notifyListeners(Z,ot)},ke=this.storage.getItem(Z);!function rr(){return(0,he.w1)()&&10===document.documentMode}()||ke===b.newValue||b.newValue===b.oldValue?le():setTimeout(le,10)}notifyListeners(b,A){this.localCache[b]=A;const Z=this.listeners[b];if(Z)for(const le of Array.from(Z))le(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,A,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:A,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(A)}_removeListener(b,A){this.listeners[b]&&(this.listeners[b].delete(A),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,A){var Z=()=>super._set,le=this;return(0,ce.Z)(function*(){yield Z().call(le,b,A),le.localCache[b]=JSON.stringify(A)})()}_get(b){var A=()=>super._get,Z=this;return(0,ce.Z)(function*(){const le=yield A().call(Z,b);return Z.localCache[b]=JSON.stringify(le),le})()}_remove(b){var A=()=>super._remove,Z=this;return(0,ce.Z)(function*(){yield A().call(Z,b),delete Z.localCache[b]})()}}return S.type="LOCAL",S})(),Dc=(()=>{class S extends Tn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,A){}_removeListener(b,A){}}return S.type="SESSION",S})();let Cc=(()=>{class S{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const A=this.receivers.find(le=>le.isListeningto(b));if(A)return A;const Z=new S(b);return this.receivers.push(Z),Z}isListeningto(b){return this.eventTarget===b}handleEvent(b){var A=this;return(0,ce.Z)(function*(){const Z=b,{eventId:le,eventType:ke,data:ot}=Z.data,mt=A.handlersMap[ke];if(!mt?.size)return;Z.ports[0].postMessage({status:"ack",eventId:le,eventType:ke});const gn=Array.from(mt).map(function(){var Rr=(0,ce.Z)(function*(gs){return gs(Z.origin,ot)});return function(gs){return Rr.apply(this,arguments)}}()),Hn=yield function Ma(S){return Promise.all(S.map(function(){var _=(0,ce.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(A){return{fulfilled:!1,reason:A}}});return function(b){return _.apply(this,arguments)}}()))}(gn);Z.ports[0].postMessage({status:"done",eventId:le,eventType:ke,response:Hn})})()}_subscribe(b,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(A)}_unsubscribe(b,A){this.handlersMap[b]&&A&&this.handlersMap[b].delete(A),(!A||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function Gs(S="",_=10){let b="";for(let A=0;A<_;A++)b+=Math.floor(10*Math.random());return S+b}class fd{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,A=50){var Z=this;return(0,ce.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let ke,ot;return new Promise((mt,gn)=>{const Hn=Gs("",20);le.port1.start();const Rr=setTimeout(()=>{gn(new Error("unsupported_event"))},A);ot={messageChannel:le,onMessage(gs){const La=gs;if(La.data.eventId===Hn)switch(La.data.status){case"ack":clearTimeout(Rr),ke=setTimeout(()=>{gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ke),mt(La.data.response);break;default:clearTimeout(Rr),clearTimeout(ke),gn(new Error("invalid_response"))}}},Z.handlers.add(ot),le.port1.addEventListener("message",ot.onMessage),Z.target.postMessage({eventType:_,eventId:Hn,data:b},[le.port2])}).finally(()=>{ot&&Z.removeMessageHandler(ot)})})()}}function Oi(){return window}function Rl(){return typeof Oi().WorkerGlobalScope<"u"&&"function"==typeof Oi().importScripts}function Tt(){return(Tt=(0,ce.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bo="firebaseLocalStorageDb",qe="firebaseLocalStorage",Ka="fbase_key";class Xi{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Nl(S,_){return S.transaction([qe],_?"readwrite":"readonly").objectStore(qe)}function Pa(){const S=indexedDB.open(bo,1);return new Promise((_,b)=>{S.addEventListener("error",()=>{b(S.error)}),S.addEventListener("upgradeneeded",()=>{const A=S.result;try{A.createObjectStore(qe,{keyPath:Ka})}catch(Z){b(Z)}}),S.addEventListener("success",(0,ce.Z)(function*(){const A=S.result;A.objectStoreNames.contains(qe)?_(A):(A.close(),yield function ol(){const S=indexedDB.deleteDatabase(bo);return new Xi(S).toPromise()}(),_(yield Pa()))}))})}function pd(S,_,b){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,ce.Z)(function*(S,_,b){const A=Nl(S,!0).put({[Ka]:_,value:b});return new Xi(A).toPromise()})).apply(this,arguments)}function so(){return(so=(0,ce.Z)(function*(S,_){const b=Nl(S,!1).get(_),A=yield new Xi(b).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function gd(S,_){const b=Nl(S,!0).delete(_);return new Xi(b).toPromise()}const Ml=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,ce.Z)(function*(){return b.db||(b.db=yield Pa()),b.db})()}_withRetries(b){var A=this;return(0,ce.Z)(function*(){let Z=0;for(;;)try{const le=yield A._openDb();return yield b(le)}catch(le){if(Z++>3)throw le;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,ce.Z)(function*(){return Rl()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,ce.Z)(function*(){b.receiver=Cc._getInstance(function Jl(){return Rl()?self:null}()),b.receiver._subscribe("keyChanged",function(){var A=(0,ce.Z)(function*(Z,le){return{keyProcessed:(yield b._poll()).includes(le.key)}});return function(Z,le){return A.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var A=(0,ce.Z)(function*(Z,le){return["keyChanged"]});return function(Z,le){return A.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,ce.Z)(function*(){var A,Z;if(b.activeServiceWorker=yield function Yo(){return Tt.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new fd(b.activeServiceWorker);const le=yield b.sender._send("ping",{},800);le&&null!==(A=le[0])&&void 0!==A&&A.fulfilled&&null!==(Z=le[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var A=this;return(0,ce.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Sr(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:b},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ce.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Pa();return yield pd(b,_i,"1"),yield gd(b,_i),!0}catch{}return!1})()}_withPendingWrite(b){var A=this;return(0,ce.Z)(function*(){A.pendingWrites++;try{yield b()}finally{A.pendingWrites--}})()}_set(b,A){var Z=this;return(0,ce.Z)(function*(){return Z._withPendingWrite((0,ce.Z)(function*(){return yield Z._withRetries(le=>pd(le,b,A)),Z.localCache[b]=A,Z.notifyServiceWorker(b)}))})()}_get(b){var A=this;return(0,ce.Z)(function*(){const Z=yield A._withRetries(le=>function To(S,_){return so.apply(this,arguments)}(le,b));return A.localCache[b]=Z,Z})()}_remove(b){var A=this;return(0,ce.Z)(function*(){return A._withPendingWrite((0,ce.Z)(function*(){return yield A._withRetries(Z=>gd(Z,b)),delete A.localCache[b],A.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,ce.Z)(function*(){const A=yield b._withRetries(ke=>{const ot=Nl(ke,!1).getAll();return new Xi(ot).toPromise()});if(!A)return[];if(0!==b.pendingWrites)return[];const Z=[],le=new Set;for(const{fbase_key:ke,value:ot}of A)le.add(ke),JSON.stringify(b.localCache[ke])!==JSON.stringify(ot)&&(b.notifyListeners(ke,ot),Z.push(ke));for(const ke of Object.keys(b.localCache))b.localCache[ke]&&!le.has(ke)&&(b.notifyListeners(ke,null),Z.push(ke));return Z})()}notifyListeners(b,A){this.localCache[b]=A;const Z=this.listeners[b];if(Z)for(const le of Array.from(Z))le(A)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,ce.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(A)}_removeListener(b,A){this.listeners[b]&&(this.listeners[b].delete(A),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})();Bt("rcb"),new We(3e4,6e4);class mu extends Us{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Wr(_,this._buildIdpRequest())}_linkToIdToken(_,b){return Wr(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return Wr(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function xi(S){return be(S.auth,new mu(S),S.bypassAuthState)}function vd(S){const{auth:_,user:b}=S;return ft(b,_,"internal-error"),function x(S,_){return Q.apply(this,arguments)}(b,new mu(S),S.bypassAuthState)}function As(S){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,ce.Z)(function*(S){const{auth:_,user:b}=S;return ft(b,_,"internal-error"),function Ve(S,_){return ct.apply(this,arguments)}(b,new mu(S),S.bypassAuthState)})).apply(this,arguments)}class yf{constructor(_,b,A,Z,le=!1){this.auth=_,this.resolver=A,this.user=Z,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,ce.Z)(function*(A,Z){_.pendingPromise={resolve:A,reject:Z};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(le){_.reject(le)}});return function(A,Z){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,ce.Z)(function*(){const{urlResponse:A,sessionId:Z,postBody:le,tenantId:ke,error:ot,type:mt}=_;if(ot)return void b.reject(ot);const gn={auth:b.auth,requestUri:A,sessionId:Z,tenantId:ke||void 0,postBody:le||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(mt)(gn))}catch(Hn){b.reject(Hn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return xi;case"linkViaPopup":case"linkViaRedirect":return As;case"reauthViaPopup":case"reauthViaRedirect":return vd;default:Ue(this.auth,"internal-error")}}resolve(_){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new We(2e3,1e4);const oo="pendingRedirect",Za=new Map;class ll extends yf{constructor(_,b,A=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,A),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,ce.Z)(function*(){let A=Za.get(b.auth._key());if(!A){try{const le=(yield function Ta(S,_){return Ol.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;A=()=>Promise.resolve(le)}catch(Z){A=()=>Promise.reject(Z)}Za.set(b.auth._key(),A)}return b.bypassAuthState||Za.set(b.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,A=this;return(0,ce.Z)(function*(){if("signInViaRedirect"===_.type)return b().call(A,_);if("unknown"!==_.type){if(_.eventId){const Z=yield A.auth._redirectUserForId(_.eventId);if(Z)return A.user=Z,b().call(A,_);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,ce.Z)(function*(){})()}cleanUp(){}}function Ol(){return(Ol=(0,ce.Z)(function*(S,_){const b=function cl(S){return _n(oo,S.config.apiKey,S.name)}(_),A=function Ci(S){return dn(S._redirectPersistence)}(S);if(!(yield A._isAvailable()))return!1;const Z="true"===(yield A._get(b));return yield A._remove(b),Z})).apply(this,arguments)}function xl(S,_){Za.set(S._key(),_)}function dl(S,_){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,ce.Z)(function*(S,_,b=!1){const A=Kr(S),Z=function Po(S,_){return _?dn(_):(ft(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}(A,_),ke=yield new ll(A,Z,b).execute();return ke&&!b&&(delete ke.user._redirectEventId,yield A._persistUserIfCurrent(ke.user),yield A._setRedirectUser(null,_)),ke})).apply(this,arguments)}class sc{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(_,A)&&(b=!0,this.sendToConsumer(_,A),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Fi(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ao(S);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var A;if(_.error&&!ao(_)){const Z=(null===(A=_.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";b.onError(je(this.auth,Z))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const A=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&A}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ys(_))}saveEventToCache(_){this.cachedEventUids.add(Ys(_)),this.lastProcessedEventTime=Date.now()}}function Ys(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(_=>_).join("-")}function ao({type:S,error:_}){return"unknown"===S&&"auth/no-auth-event"===_?.code}function Oc(){return(Oc=(0,ce.Z)(function*(S,_={}){return An(S,"GET","/v1/projects",_)})).apply(this,arguments)}const Ef=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xc=/^https?/;function ha(){return ha=(0,ce.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:_}=yield function hl(S){return Oc.apply(this,arguments)}(S);for(const b of _)try{if(mr(b))return}catch{}Ue(S,"unauthorized-domain")}),ha.apply(this,arguments)}function mr(S){const _=xt(),{protocol:b,hostname:A}=new URL(_);if(S.startsWith("chrome-extension://")){const ke=new URL(S);return""===ke.hostname&&""===A?"chrome-extension:"===b&&S.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&ke.hostname===A}if(!xc.test(b))return!1;if(Ef.test(S))return A===S;const Z=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(A)}const Gr=new We(3e4,6e4);function kl(){const S=Oi().___jsl;if(S?.H)for(const _ of Object.keys(S.H))if(S.H[_].r=S.H[_].r||[],S.H[_].L=S.H[_].L||[],S.H[_].r=[...S.H[_].L],S.CP)for(let b=0;b<S.CP.length;b++)S.CP[b]=null}let Fa=null;const ch=new We(5e3,15e3),Rp="__/auth/iframe",Np="emulator/auth/iframe",Mp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qg(S){const _=S.config;ft(_.authDomain,S,"auth-domain-config-required");const b=_.emulator?st(_,Np):`https://${S.config.authDomain}/${Rp}`,A={apiKey:_.apiKey,appName:S.name,v:Ae.Jn},Z=Zg.get(S.config.apiHost);Z&&(A.eid=Z);const le=S._getFrameworks();return le.length&&(A.fw=le.join(",")),`${b}?${(0,he.xO)(A).slice(1)}`}function fl(){return fl=(0,ce.Z)(function*(S){const _=yield function Ap(S){return Fa=Fa||function vu(S){return new Promise((_,b)=>{var A,Z,le;function ke(){kl(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{kl(),b(je(S,"network-request-failed"))},timeout:Gr.get()})}if(null!==(Z=null===(A=Oi().gapi)||void 0===A?void 0:A.iframes)&&void 0!==Z&&Z.Iframe)_(gapi.iframes.getContext());else{if(null===(le=Oi().gapi)||void 0===le||!le.load){const ot=Bt("iframefcb");return Oi()[ot]=()=>{gapi.load?ke():b(je(S,"network-request-failed"))},Js(`https://apis.google.com/js/api.js?onload=${ot}`).catch(mt=>b(mt))}ke()}}).catch(_=>{throw Fa=null,_})}(S),Fa}(S),b=Oi().gapi;return ft(b,S,"internal-error"),_.open({where:document.body,url:Qg(S),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mp,dontclear:!0},A=>new Promise(function(){var Z=(0,ce.Z)(function*(le,ke){yield A.restyle({setHideOnLeave:!1});const ot=je(S,"network-request-failed"),mt=Oi().setTimeout(()=>{ke(ot)},ch.get());function gn(){Oi().clearTimeout(mt),le(A)}A.ping(gn).then(gn,()=>{ke(ot)})});return function(le,ke){return Z.apply(this,arguments)}}()))}),fl.apply(this,arguments)}const Pp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uh{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bu="__/auth/handler",oc="emulator/auth/handler",kc=encodeURIComponent("fac");function dh(S,_,b,A,Z,le){return el.apply(this,arguments)}function el(){return(el=(0,ce.Z)(function*(S,_,b,A,Z,le){ft(S.config.authDomain,S,"auth-domain-config-required"),ft(S.config.apiKey,S,"invalid-api-key");const ke={apiKey:S.config.apiKey,appName:S.name,authType:b,redirectUrl:A,v:Ae.Jn,eventId:Z};if(_ instanceof Bn){_.setDefaultLanguage(S.languageCode),ke.providerId=_.providerId||"",(0,he.xb)(_.getCustomParameters())||(ke.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Hn,Rr]of Object.entries(le||{}))ke[Hn]=Rr}if(_ instanceof ro){const Hn=_.getScopes().filter(Rr=>""!==Rr);Hn.length>0&&(ke.scopes=Hn.join(","))}S.tenantId&&(ke.tid=S.tenantId);const ot=ke;for(const Hn of Object.keys(ot))void 0===ot[Hn]&&delete ot[Hn];const mt=yield S._getAppCheckToken(),gn=mt?`#${kc}=${encodeURIComponent(mt)}`:"";return`${function hh({config:S}){return S.emulator?st(S,oc):`https://${S.authDomain}/${bu}`}(S)}?${(0,he.xO)(ot).slice(1)}${gn}`})).apply(this,arguments)}const ac="webStorageSupport",Tu=class Qo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dc,this._completeRedirectFn=dl,this._overrideRedirectResult=xl}_openPopup(_,b,A,Z){var le=this;return(0,ce.Z)(function*(){var ke;er(null===(ke=le.eventManagers[_._key()])||void 0===ke?void 0:ke.manager,"_initialize() not called before _openPopup()");const ot=yield dh(_,b,A,xt(),Z);return function xs(S,_,b,A=500,Z=600){const le=Math.max((window.screen.availHeight-Z)/2,0).toString(),ke=Math.max((window.screen.availWidth-A)/2,0).toString();let ot="";const mt=Object.assign(Object.assign({},Pp),{width:A.toString(),height:Z.toString(),top:le,left:ke}),gn=(0,he.z$)().toLowerCase();b&&(ot=tt(gn)?"_blank":b),nr(gn)&&(_=_||"http://localhost",mt.scrollbars="yes");const Hn=Object.entries(mt).reduce((gs,[La,nl])=>`${gs}${La}=${nl},`,"");if(function Br(S=(0,he.z$)()){var _;return pn(S)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(gn)&&"_self"!==ot)return function Xa(S,_){const b=document.createElement("a");b.href=S,b.target=_;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(A)}(_||"",ot),new uh(null);const Rr=window.open(_||"",ot,Hn);ft(Rr,S,"popup-blocked");try{Rr.focus()}catch{}return new uh(Rr)}(_,ot,Gs())})()}_openRedirect(_,b,A,Z){var le=this;return(0,ce.Z)(function*(){return yield le._originValidation(_),function oh(S){Oi().location.href=S}(yield dh(_,b,A,xt(),Z)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:Z,promise:le}=this.eventManagers[b];return Z?Promise.resolve(Z):(er(le,"If manager is not set, promise should be"),le)}const A=this.initAndGetManager(_);return this.eventManagers[b]={promise:A},A.catch(()=>{delete this.eventManagers[b]}),A}initAndGetManager(_){var b=this;return(0,ce.Z)(function*(){const A=yield function Jg(S){return fl.apply(this,arguments)}(_),Z=new sc(_);return A.register("authEvent",le=>(ft(le?.authEvent,_,"invalid-auth-event"),{status:Z.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:Z},b.iframes[_._key()]=A,Z})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(ac,{type:ac},Z=>{var le;const ke=null===(le=Z?.[0])||void 0===le?void 0:le[ac];void 0!==ke&&b(!!ke),Ue(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function lh(S){return ha.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return Vn()||Ui()||pn()}};var lc="@firebase/auth";class Td{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,ce.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(A=>{_(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);b&&(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xp=(0,he.Pz)("authIdTokenMaxAge")||300;let wo=null;const Df=S=>function(){var _=(0,ce.Z)(function*(b){const A=b&&(yield b.getIdTokenResult()),Z=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(Z&&Z>xp)return;const le=A?.token;wo!==le&&(wo=le,yield fetch(S,{method:le?"POST":"DELETE",headers:le?{Authorization:`Bearer ${le}`}:{}}))});return function(b){return _.apply(this,arguments)}}();function Du(S=(0,Ae.Mq)()){const _=(0,Ae.qX)(S,"auth");if(_.isInitialized())return _.getImmediate();const b=function vs(S,_){const b=(0,Ae.qX)(S,"auth");if(b.isInitialized()){const Z=b.getImmediate(),le=b.getOptions();if((0,he.vZ)(le,_??{}))return Z;Ue(Z,"already-initialized")}return b.initialize({options:_})}(S,{popupRedirectResolver:Tu,persistence:[Ml,qt,Dc]}),A=(0,he.Pz)("authTokenSyncURL");if(A){const le=Df(A);(function Ht(S,_,b){(0,he.m9)(S).beforeAuthStateChanged(_,b)})(b,le,()=>le(b.currentUser)),function Ql(S,_,b,A){(0,he.m9)(S).onIdTokenChanged(_,b,A)}(b,ke=>le(ke))}const Z=(0,he.q4)("auth");return Z&&function ra(S,_,b){const A=Kr(S);ft(A._canInitEmulator,A,"emulator-config-failed"),ft(/^https?:\/\//.test(_),A,"invalid-emulator-scheme");const Z=!!b?.disableWarnings,le=Aa(_),{host:ke,port:ot}=function Go(S){const _=Aa(S),b=/(\/\/)?([^?#/]+)/.exec(S.substr(_.length));if(!b)return{host:"",port:null};const A=b[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(A);if(Z){const le=Z[1];return{host:le,port:Co(A.substr(le.length+1))}}{const[le,ke]=A.split(":");return{host:le,port:Co(ke)}}}(_);A.config.emulator={url:`${le}//${ke}${null===ot?"":`:${ot}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ke,port:ot,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function Xs(){function S(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}(b,`http://${Z}`),b}!function Op(S){(0,Ae.Xd)(new de.wA("auth",(_,{options:b})=>{const A=_.getProvider("app").getImmediate(),Z=_.getProvider("heartbeat"),le=_.getProvider("app-check-internal"),{apiKey:ke,authDomain:ot}=A.options;ft(ke&&!ke.includes(":"),"invalid-api-key",{appName:A.name});const mt={apiKey:ke,authDomain:ot,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ys(S)},gn=new vi(A,Z,le,mt);return function Dl(S,_){const b=_?.persistence||[],A=(Array.isArray(b)?b:[b]).map(dn);_?.errorMap&&S._updateErrorMap(_.errorMap),S._initializeWithPersistence(A,_?.popupRedirectResolver)}(gn,b),gn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,A)=>{_.getProvider("auth-internal").initialize()})),(0,Ae.Xd)(new de.wA("auth-internal",_=>{const b=Kr(_.getProvider("auth").getImmediate());return new Td(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.KN)(lc,"1.3.2",function wu(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,Ae.KN)(lc,"1.3.2","esm2017")}("Browser");class Bo{constructor(_){return _}}class fh{constructor(){return(0,E.vb)("auth")}}const gh=new B.OlP("angularfire2.auth-instances");function or(S){return(_,b)=>{const A=_.runOutsideAngular(()=>S(b));return new Bo(A)}}const kp={provide:fh,deps:[[new B.FiY,gh]]},Cf={provide:Bo,useFactory:function Bc(S,_){const b=(0,E.JM)("auth",S,_);return b&&new Bo(b)},deps:[[new B.FiY,gh],Fe.Ot]};let mh=(()=>{class S{constructor(){(0,y.KN)("angularfire",E.q4.full,"auth")}static \u0275fac=function(A){return new(A||S)};static \u0275mod=B.oAB({type:S});static \u0275inj=B.cJS({providers:[Cf,kp]})}return S})();function Sf(S,..._){return{ngModule:mh,providers:[{provide:gh,useFactory:or(S),multi:!0,deps:[B.R0b,B.zs3,E.HU,Fe.z6,[new B.FiY,E.Rf],..._]}]}}const jc=(0,E.u3)(Wa,!0),Nf=(0,E.u3)(Du,!0),Wc=(0,E.u3)(yo,!0),Sd=(0,E.u3)(Ji,!0)},7732:(Lt,Ke,$)=>{$.d(Ke,{gg:()=>wn,hJ:()=>fn,BS:()=>Dn,JU:()=>qn,ad:()=>te,Cm:()=>It,pl:()=>gi});var E=$(1920),B=$(9468),Fe=$(721),y=$(1210),ce=$(3182),he=$(15),Ae=$(5592),Ce=$(7398),Ye=function(){return Ye=Object.assign||function(At){for(var $t,yn=1,ci=arguments.length;yn<ci;yn++)for(var yr in $t=arguments[yn])Object.prototype.hasOwnProperty.call($t,yr)&&(At[yr]=$t[yr]);return At},Ye.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Ie={includeMetadataChanges:!1};function _t(Bt,At){return void 0===At&&(At={}),function Ue(Bt){return function ze(Bt,At){return void 0===At&&(At=Ie),new Ae.y(function($t){return{unsubscribe:(0,he.cf)(Bt,At,{next:$t.next.bind($t),error:$t.error.bind($t),complete:$t.complete.bind($t)})}})}(Bt,{includeMetadataChanges:!0}).pipe((0,Ce.U)(function(At){return At.docs}))}(Bt).pipe((0,Ce.U)(function($t){return $t.map(function(yn){return function pt(Bt,At){var $t;void 0===At&&(At={});var yn=Bt.data(At);return Bt.exists()&&"object"==typeof yn&&null!==yn&&At.idField?Ye(Ye({},yn),(($t={})[At.idField]=Bt.id,$t)):yn}(yn,At)})}))}class wn{constructor(At){return At}}const er="firestore",tn=new B.OlP("angularfire2.firestore-instances");function Be(Bt){return(At,$t)=>{const yn=At.runOutsideAngular(()=>Bt($t));return new wn(yn)}}const We={provide:class xt{constructor(){return(0,E.vb)(er)}},deps:[[new B.FiY,tn]]},st={provide:wn,useFactory:function Me(Bt,At){const $t=(0,E.JM)(er,Bt,At);return $t&&new wn($t)},deps:[[new B.FiY,tn],Fe.Ot]};let yt=(()=>{class Bt{constructor(){(0,ce.KN)("angularfire",E.q4.full,"fst")}static \u0275fac=function(yn){return new(yn||Bt)};static \u0275mod=B.oAB({type:Bt});static \u0275inj=B.cJS({providers:[st,We]})}return Bt})();function It(Bt,...At){return{ngModule:yt,providers:[{provide:tn,useFactory:Be(Bt),multi:!0,deps:[B.R0b,B.zs3,E.HU,Fe.z6,[new B.FiY,y.dh],[new B.FiY,E.Rf],...At]}]}}const Dn=(0,E.u3)(_t,!0),fn=(0,E.u3)(he.hJ,!0),qn=(0,E.u3)(he.JU,!0),te=(0,E.u3)(he.ad,!0),gi=(0,E.u3)(he.pl,!0)},5017:(Lt,Ke,$)=>{$.d(Ke,{Ke:()=>Lr,Jt:()=>rs,cF:()=>Ga,Vq:()=>Bn,iH:()=>bi,KV:()=>ui});var E=$(1920),B=$(9468),Fe=$(721),y=$(1210),ce=$(3182),he=$(5861),Ae=$(534),Ce=$(9058),Ye=$(4537);const de="firebasestorage.googleapis.com",Ie="storageBucket";class pt extends Ce.ZR{constructor(q,ye,Ee=0){super(Yt(q),`Firebase Storage: ${ye} (${Yt(q)})`),this.status_=Ee,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(q){this.status_=q}_codeEquals(q){return Yt(q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(q){this.customData.serverResponse=q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Rt=function(z){return z.UNKNOWN="unknown",z.OBJECT_NOT_FOUND="object-not-found",z.BUCKET_NOT_FOUND="bucket-not-found",z.PROJECT_NOT_FOUND="project-not-found",z.QUOTA_EXCEEDED="quota-exceeded",z.UNAUTHENTICATED="unauthenticated",z.UNAUTHORIZED="unauthorized",z.UNAUTHORIZED_APP="unauthorized-app",z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",z.INVALID_CHECKSUM="invalid-checksum",z.CANCELED="canceled",z.INVALID_EVENT_NAME="invalid-event-name",z.INVALID_URL="invalid-url",z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",z.NO_DEFAULT_BUCKET="no-default-bucket",z.CANNOT_SLICE_BLOB="cannot-slice-blob",z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",z.NO_DOWNLOAD_URL="no-download-url",z.INVALID_ARGUMENT="invalid-argument",z.INVALID_ARGUMENT_COUNT="invalid-argument-count",z.APP_DELETED="app-deleted",z.INVALID_ROOT_OPERATION="invalid-root-operation",z.INVALID_FORMAT="invalid-format",z.INTERNAL_ERROR="internal-error",z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",z}(Rt||{});function Yt(z){return"storage/"+z}function St(){return new pt(Rt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xt(z){return new pt(Rt.INVALID_ARGUMENT,z)}function vn(){return new pt(Rt.APP_DELETED,"The Firebase app was deleted.")}function Me(z,q){return new pt(Rt.INVALID_FORMAT,"String does not match format '"+z+"': "+q)}function Be(z){throw new pt(Rt.INTERNAL_ERROR,"Internal error: "+z)}class We{constructor(q,ye){this.bucket=q,this.path_=ye}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const q=encodeURIComponent;return"/b/"+q(this.bucket)+"/o/"+q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(q,ye){let Ee;try{Ee=We.makeFromUrl(q,ye)}catch{return new We(q,"")}if(""===Ee.path)return Ee;throw function lt(z){return new pt(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+z+"'.")}(q)}static makeFromUrl(q,ye){let Ee=null;const Ve="([A-Za-z0-9.\\-_]+)",j=new RegExp("^gs://"+Ve+"(/(.*))?$","i");function Q(Gi){Gi.path_=decodeURIComponent(Gi.path)}const Nt=ye.replace(/[.]/g,"\\."),Ni=[{regex:j,indices:{bucket:1,path:3},postModify:function ct(Gi){"/"===Gi.path.charAt(Gi.path.length-1)&&(Gi.path_=Gi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Nt}/v[A-Za-z0-9_]+/b/${Ve}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Q},{regex:new RegExp(`^https?://${ye===de?"(?:storage.googleapis.com|storage.cloud.google.com)":ye}/${Ve}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Q}];for(let Gi=0;Gi<Ni.length;Gi++){const $s=Ni[Gi],hs=$s.regex.exec(q);if(hs){let va=hs[$s.indices.path];va||(va=""),Ee=new We(hs[$s.indices.bucket],va),$s.postModify(Ee);break}}if(null==Ee)throw function je(z){return new pt(Rt.INVALID_URL,"Invalid URL '"+z+"'.")}(q);return Ee}}class st{constructor(q){this.promise_=Promise.reject(q)}getPromise(){return this.promise_}cancel(q=!1){}}function mn(z){return"string"==typeof z||z instanceof String}function Dn(z){return Ft()&&z instanceof Blob}function Ft(){return typeof Blob<"u"&&!(0,Ce.UG)()}function Yn(z,q,ye,Ee){if(Ee<q)throw xt(`Invalid value for '${z}'. Expected ${q} or greater.`);if(Ee>ye)throw xt(`Invalid value for '${z}'. Expected ${ye} or less.`)}function tr(z,q,ye){let Ee=q;return null==ye&&(Ee=`https://${q}`),`${ye}://${Ee}/v0${z}`}function ni(z){const q=encodeURIComponent;let ye="?";for(const Ee in z)z.hasOwnProperty(Ee)&&(ye=ye+(q(Ee)+"=")+q(z[Ee])+"&");return ye=ye.slice(0,-1),ye}var ae=function(z){return z[z.NO_ERROR=0]="NO_ERROR",z[z.NETWORK_ERROR=1]="NETWORK_ERROR",z[z.ABORT=2]="ABORT",z}(ae||{});class Y{constructor(q,ye,Ee,Ve,ct,L,j,x,Q,be,Nt,hn=!0){this.url_=q,this.method_=ye,this.headers_=Ee,this.body_=Ve,this.successCodes_=ct,this.additionalRetryCodes_=L,this.callback_=j,this.errorCallback_=x,this.timeout_=Q,this.progressCallback_=be,this.connectionFactory_=Nt,this.retry=hn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((wr,Qr)=>{this.resolve_=wr,this.reject_=Qr,this.start_()})}start_(){const ye=(Ee,Ve)=>{const ct=this.resolve_,L=this.reject_,j=Ve.connection;if(Ve.wasSuccessCode)try{const x=this.callback_(j,j.getResponse());!function Zt(z){return void 0!==z}(x)?ct():ct(x)}catch(x){L(x)}else if(null!==j){const x=St();x.serverResponse=j.getErrorText(),L(this.errorCallback_?this.errorCallback_(j,x):x)}else L(Ve.canceled?this.appDelete_?vn():function Ue(){return new pt(Rt.CANCELED,"User canceled the upload/download.")}():function Le(){return new pt(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?ye(0,new ve(!1,null,!0)):this.backoffId_=function yt(z,q,ye){let Ee=1,Ve=null,ct=null,L=!1,j=0;function x(){return 2===j}let Q=!1;function be(...Dr){Q||(Q=!0,q.apply(null,Dr))}function Nt(Dr){Ve=setTimeout(()=>{Ve=null,z(wr,x())},Dr)}function hn(){ct&&clearTimeout(ct)}function wr(Dr,...Zi){if(Q)return void hn();if(Dr)return hn(),void be.call(null,Dr,...Zi);if(x()||L)return hn(),void be.call(null,Dr,...Zi);let Ni;Ee<64&&(Ee*=2),1===j?(j=2,Ni=0):Ni=1e3*(Ee+Math.random()),Nt(Ni)}let Qr=!1;function qr(Dr){Qr||(Qr=!0,hn(),!Q&&(null!==Ve?(Dr||(j=2),clearTimeout(Ve),Nt(0)):Dr||(j=1)))}return Nt(0),ct=setTimeout(()=>{L=!0,qr(!0)},ye),qr}((Ee,Ve)=>{if(Ve)return void Ee(!1,new ve(!1,null,!0));const ct=this.connectionFactory_();this.pendingConnection_=ct;const L=j=>{null!==this.progressCallback_&&this.progressCallback_(j.loaded,j.lengthComputable?j.total:-1)};null!==this.progressCallback_&&ct.addUploadProgressListener(L),ct.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ct.removeUploadProgressListener(L),this.pendingConnection_=null;const j=ct.getErrorCode()===ae.NO_ERROR,x=ct.getStatus();if(!j||function ue(z,q){const ye=z>=500&&z<600,Ve=-1!==[408,429].indexOf(z),ct=-1!==q.indexOf(z);return ye||Ve||ct}(x,this.additionalRetryCodes_)&&this.retry){const be=ct.getErrorCode()===ae.ABORT;return void Ee(!1,new ve(!1,null,be))}const Q=-1!==this.successCodes_.indexOf(x);Ee(!0,new ve(Q,ct))})},ye,this.timeout_)}getPromise(){return this.promise_}cancel(q){this.canceled_=!0,this.appDelete_=q||!1,null!==this.backoffId_&&function It(z){z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ve{constructor(q,ye,Ee){this.wasSuccessCode=q,this.connection=ye,this.canceled=!!Ee}}function fn(...z){const q=function rn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==q){const ye=new q;for(let Ee=0;Ee<z.length;Ee++)ye.append(z[Ee]);return ye.getBlob()}if(Ft())return new Blob(z);throw new pt(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fr{constructor(q,ye){this.data=q,this.contentType=ye||null}}function pr(z){const q=[];for(let ye=0;ye<z.length;ye++){let Ee=z.charCodeAt(ye);Ee<=127?q.push(Ee):Ee<=2047?q.push(192|Ee>>6,128|63&Ee):55296==(64512&Ee)?ye<z.length-1&&56320==(64512&z.charCodeAt(ye+1))?(Ee=65536|(1023&Ee)<<10|1023&z.charCodeAt(++ye),q.push(240|Ee>>18,128|Ee>>12&63,128|Ee>>6&63,128|63&Ee)):q.push(239,191,189):56320==(64512&Ee)?q.push(239,191,189):q.push(224|Ee>>12,128|Ee>>6&63,128|63&Ee)}return new Uint8Array(q)}function Mr(z,q){switch(z){case dr.BASE64:{const Ve=-1!==q.indexOf("-"),ct=-1!==q.indexOf("_");if(Ve||ct)throw Me(z,"Invalid character '"+(Ve?"-":"_")+"' found: is it base64url encoded?");break}case dr.BASE64URL:{const Ve=-1!==q.indexOf("+"),ct=-1!==q.indexOf("/");if(Ve||ct)throw Me(z,"Invalid character '"+(Ve?"+":"/")+"' found: is it base64 encoded?");q=q.replace(/-/g,"+").replace(/_/g,"/");break}}let ye;try{ye=function ln(z){if(typeof atob>"u")throw function er(z){return new pt(Rt.UNSUPPORTED_ENVIRONMENT,`${z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(z)}(q)}catch(Ve){throw Ve.message.includes("polyfill")?Ve:Me(z,"Invalid character found")}const Ee=new Uint8Array(ye.length);for(let Ve=0;Ve<ye.length;Ve++)Ee[Ve]=ye.charCodeAt(Ve);return Ee}class qn{constructor(q){this.base64=!1,this.contentType=null;const ye=q.match(/^data:([^,]+)?,/);if(null===ye)throw Me(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ee=ye[1]||null;null!=Ee&&(this.base64=function Gn(z,q){return z.length>=q.length&&z.substring(z.length-q.length)===q}(Ee,";base64"),this.contentType=this.base64?Ee.substring(0,Ee.length-7):Ee),this.rest=q.substring(q.indexOf(",")+1)}}class On{constructor(q,ye){let Ee=0,Ve="";Dn(q)?(this.data_=q,Ee=q.size,Ve=q.type):q instanceof ArrayBuffer?(ye?this.data_=new Uint8Array(q):(this.data_=new Uint8Array(q.byteLength),this.data_.set(new Uint8Array(q))),Ee=this.data_.length):q instanceof Uint8Array&&(ye?this.data_=q:(this.data_=new Uint8Array(q.length),this.data_.set(q)),Ee=q.length),this.size_=Ee,this.type_=Ve}size(){return this.size_}type(){return this.type_}slice(q,ye){if(Dn(this.data_)){const Ve=function cr(z,q,ye){return z.webkitSlice?z.webkitSlice(q,ye):z.mozSlice?z.mozSlice(q,ye):z.slice?z.slice(q,ye):null}(this.data_,q,ye);return null===Ve?null:new On(Ve)}{const Ee=new Uint8Array(this.data_.buffer,q,ye-q);return new On(Ee,!0)}}static getBlob(...q){if(Ft()){const ye=q.map(Ee=>Ee instanceof On?Ee.data_:Ee);return new On(fn.apply(null,ye))}{const ye=q.map(L=>mn(L)?function zn(z,q){switch(z){case dr.RAW:return new fr(pr(q));case dr.BASE64:case dr.BASE64URL:return new fr(Mr(z,q));case dr.DATA_URL:return new fr(function cs(z){const q=new qn(z);return q.base64?Mr(dr.BASE64,q.rest):function Wn(z){let q;try{q=decodeURIComponent(z)}catch{throw Me(dr.DATA_URL,"Malformed data URL.")}return pr(q)}(q.rest)}(q),function Pn(z){return new qn(z).contentType}(q))}throw St()}(dr.RAW,L).data:L.data_);let Ee=0;ye.forEach(L=>{Ee+=L.byteLength});const Ve=new Uint8Array(Ee);let ct=0;return ye.forEach(L=>{for(let j=0;j<L.length;j++)Ve[ct++]=L[j]}),new On(Ve,!0)}}uploadData(){return this.data_}}function Ir(z){let q;try{q=JSON.parse(z)}catch{return null}return function An(z){return"object"==typeof z&&!Array.isArray(z)}(q)?q:null}function yi(z){const q=z.lastIndexOf("/",z.length-2);return-1===q?z:z.slice(q+1)}function Wi(z,q){return q}class pi{constructor(q,ye,Ee,Ve){this.server=q,this.local=ye||q,this.writable=!!Ee,this.xform=Ve||Wi}}let Si=null;function we(){if(Si)return Si;const z=[];z.push(new pi("bucket")),z.push(new pi("generation")),z.push(new pi("metageneration")),z.push(new pi("name","fullPath",!0));const ye=new pi("name");ye.xform=function q(ct,L){return function Bi(z){return!mn(z)||z.length<2?z:yi(z)}(L)},z.push(ye);const Ve=new pi("size");return Ve.xform=function Ee(ct,L){return void 0!==L?Number(L):L},z.push(Ve),z.push(new pi("timeCreated")),z.push(new pi("updated")),z.push(new pi("md5Hash",null,!0)),z.push(new pi("cacheControl",null,!0)),z.push(new pi("contentDisposition",null,!0)),z.push(new pi("contentEncoding",null,!0)),z.push(new pi("contentLanguage",null,!0)),z.push(new pi("contentType",null,!0)),z.push(new pi("metadata","customMetadata",!0)),Si=z,Si}function te(z,q,ye){const Ee=Ir(q);return null===Ee?null:function se(z,q,ye){const Ee={type:"file"},Ve=ye.length;for(let ct=0;ct<Ve;ct++){const L=ye[ct];Ee[L.local]=L.xform(Ee,q[L.server])}return function ne(z,q){Object.defineProperty(z,"ref",{get:function ye(){const ct=new We(z.bucket,z.fullPath);return q._makeStorageReference(ct)}})}(Ee,z),Ee}(z,Ee,ye)}class Nn{constructor(q,ye,Ee,Ve){this.url=q,this.method=ye,this.handler=Ee,this.timeout=Ve,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _n(z){if(!z)throw St()}function Ui(z){return function q(ye,Ee){let Ve;return Ve=401===ye.getStatus()?ye.getErrorText().includes("Firebase App Check token is invalid")?function xe(){return new pt(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function _e(){return new pt(Rt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ye.getStatus()?function Re(z){return new pt(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(z.bucket):403===ye.getStatus()?function Qe(z){return new pt(Rt.UNAUTHORIZED,"User does not have permission to access '"+z+"'.")}(z.path):Ee,Ve.status=ye.getStatus(),Ve.serverResponse=Ee.serverResponse,Ve}}function Vn(z,q,ye,Ee,Ve){const ct=q.bucketOnlyServerUrl(),L={"X-Goog-Upload-Protocol":"multipart"},x=function j(){let Ni="";for(let Gi=0;Gi<2;Gi++)Ni+=Math.random().toString().slice(2);return Ni}();L["Content-Type"]="multipart/related; boundary="+x;const Q=function rr(z,q,ye){const Ee=Object.assign({},ye);return Ee.fullPath=z.path,Ee.size=q.size(),Ee.contentType||(Ee.contentType=function Br(z,q){return z&&z.contentType||q&&q.type()||"application/octet-stream"}(null,q)),Ee}(q,Ee,Ve),be=function Oe(z,q){const ye={},Ee=q.length;for(let Ve=0;Ve<Ee;Ve++){const ct=q[Ve];ct.writable&&(ye[ct.server]=z[ct.local])}return JSON.stringify(ye)}(Q,ye),wr=On.getBlob("--"+x+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+be+"\r\n--"+x+"\r\nContent-Type: "+Q.contentType+"\r\n\r\n",Ee,"\r\n--"+x+"--");if(null===wr)throw function Xn(){return new pt(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Qr={name:Q.fullPath},qr=tr(ct,z.host,z._protocol),Zi=z.maxUploadRetryTime,js=new Nn(qr,"POST",function Ln(z,q){return function ye(Ee,Ve){const ct=te(z,Ve,q);return _n(null!==ct),ct}}(z,ye),Zi);return js.urlParams=Qr,js.headers=L,js.body=wr.uploadData(),js.errorHandler=Ui(q),js}let Js=null;class Bt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ae.NO_ERROR,this.sendPromise_=new Promise(q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ae.ABORT,q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ae.NETWORK_ERROR,q()}),this.xhr_.addEventListener("load",()=>{q()})})}send(q,ye,Ee,Ve){if(this.sent_)throw Be("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ye,q,!0),void 0!==Ve)for(const ct in Ve)Ve.hasOwnProperty(ct)&&this.xhr_.setRequestHeader(ct,Ve[ct].toString());return void 0!==Ee?this.xhr_.send(Ee):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Be("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Be("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Be("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Be("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(q){return this.xhr_.getResponseHeader(q)}addUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",q)}removeUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",q)}}class At extends Bt{initXhr(){this.xhr_.responseType="text"}}function $t(){return Js?Js():new At}class Ei{constructor(q,ye){this._service=q,this._location=ye instanceof We?ye:We.makeFromUrl(ye,q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(q,ye){return new Ei(q,ye)}get root(){const q=new We(this._location.bucket,"");return this._newRef(this._service,q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yi(this._location.path)}get storage(){return this._service}get parent(){const q=function Vi(z){if(0===z.length)return null;const q=z.lastIndexOf("/");return-1===q?"":z.slice(0,q)}(this._location.path);if(null===q)return null;const ye=new We(this._location.bucket,q);return new Ei(this._service,ye)}_throwIfRoot(q){if(""===this._location.path)throw function tn(z){return new pt(Rt.INVALID_ROOT_OPERATION,"The operation '"+z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(q)}}function zo(z){z._throwIfRoot("getDownloadURL");const q=function Rn(z,q,ye){const Ve=tr(q.fullServerUrl(),z.host,z._protocol),L=z.maxOperationRetryTime,j=new Nn(Ve,"GET",function nr(z,q){return function ye(Ee,Ve){const ct=te(z,Ve,q);return _n(null!==ct),function ie(z,q,ye,Ee){const Ve=Ir(q);if(null===Ve||!mn(Ve.downloadTokens))return null;const ct=Ve.downloadTokens;if(0===ct.length)return null;const L=encodeURIComponent;return ct.split(",").map(Q=>{const Nt=z.fullPath;return tr("/b/"+L(z.bucket)+"/o/"+L(Nt),ye,Ee)+ni({alt:"media",token:Q})})[0]}(ct,Ve,z.host,z._protocol)}}(z,ye),L);return j.errorHandler=function tt(z){const q=Ui(z);return function ye(Ee,Ve){let ct=q(Ee,Ve);return 404===Ee.getStatus()&&(ct=function $n(z){return new pt(Rt.OBJECT_NOT_FOUND,"Object '"+z+"' does not exist.")}(z.path)),ct.serverResponse=Ve.serverResponse,ct}}(q),j}(z.storage,z._location,we());return z.storage.makeRequestWithTokens(q,$t).then(ye=>{if(null===ye)throw function wn(){return new pt(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ye})}function to(z,q){if(z instanceof ir){const ye=z;if(null==ye._bucket)throw function _t(){return new pt(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ie+"' property when initializing the app?")}();const Ee=new Ei(ye,ye._bucket);return null!=q?to(Ee,q):Ee}return void 0!==q?function Wo(z,q){const ye=function Vs(z,q){const ye=q.split("/").filter(Ee=>Ee.length>0).join("/");return 0===z.length?ye:z+"/"+ye}(z._location.path,q),Ee=new We(z._location.bucket,ye);return new Ei(z.storage,Ee)}(z,q):z}function Pr(z,q){const ye=q?.[Ie];return null==ye?null:We.makeFromBucketSpec(ye,z)}class ir{constructor(q,ye,Ee,Ve,ct){this.app=q,this._authProvider=ye,this._appCheckProvider=Ee,this._url=Ve,this._firebaseVersion=ct,this._bucket=null,this._host=de,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ve?We.makeFromBucketSpec(Ve,this._host):Pr(this._host,this.app.options)}get host(){return this._host}set host(q){this._host=q,this._bucket=null!=this._url?We.makeFromBucketSpec(this._url,q):Pr(q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(q){Yn("time",0,Number.POSITIVE_INFINITY,q),this._maxUploadRetryTime=q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(q){Yn("time",0,Number.POSITIVE_INFINITY,q),this._maxOperationRetryTime=q}_getAuthToken(){var q=this;return(0,he.Z)(function*(){if(q._overrideAuthToken)return q._overrideAuthToken;const ye=q._authProvider.getImmediate({optional:!0});if(ye){const Ee=yield ye.getToken();if(null!==Ee)return Ee.accessToken}return null})()}_getAppCheckToken(){var q=this;return(0,he.Z)(function*(){const ye=q._appCheckProvider.getImmediate({optional:!0});return ye?(yield ye.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(q=>q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(q){return new Ei(this,q)}_makeRequest(q,ye,Ee,Ve,ct=!0){if(this._deleted)return new st(vn());{const L=function en(z,q,ye,Ee,Ve,ct,L=!0){const j=ni(z.urlParams),x=z.url+j,Q=Object.assign({},z.headers);return function Ot(z,q){q&&(z["X-Firebase-GMPID"]=q)}(Q,q),function Se(z,q){null!==q&&q.length>0&&(z.Authorization="Firebase "+q)}(Q,ye),function $e(z,q){z["X-Firebase-Storage-Version"]="webjs/"+(q??"AppManager")}(Q,ct),function Xt(z,q){null!==q&&(z["X-Firebase-AppCheck"]=q)}(Q,Ee),new Y(x,z.method,Q,z.body,z.successCodes,z.additionalRetryCodes,z.handler,z.errorHandler,z.timeout,z.progressCallback,Ve,L)}(q,this._appId,Ee,Ve,ye,this._firebaseVersion,ct);return this._requests.add(L),L.getPromise().then(()=>this._requests.delete(L),()=>this._requests.delete(L)),L}}makeRequestWithTokens(q,ye){var Ee=this;return(0,he.Z)(function*(){const[Ve,ct]=yield Promise.all([Ee._getAuthToken(),Ee._getAppCheckToken()]);return Ee._makeRequest(q,ye,Ve,ct).getPromise()})()}}const si="@firebase/storage",Es="storage";function sa(z,q,ye){return function vs(z,q,ye){z._throwIfRoot("uploadBytes");const Ee=Vn(z.storage,z._location,we(),new On(q,!0),ye);return z.storage.makeRequestWithTokens(Ee,$t).then(Ve=>({metadata:Ve,ref:z}))}(z=(0,Ce.m9)(z),q,ye)}function bs(z){return zo(z=(0,Ce.m9)(z))}function no(z,q){return function Jn(z,q){if(q&&function Ra(z){return/^[A-Za-z]+:\/\//.test(z)}(q)){if(z instanceof ir)return function Ns(z,q){return new Ei(z,q)}(z,q);throw xt("To use ref(service, url), the first argument must be a Storage instance.")}return to(z,q)}(z=(0,Ce.m9)(z),q)}function us(z=(0,Ae.Mq)(),q){z=(0,Ce.m9)(z);const Ee=(0,Ae.qX)(z,Es).getImmediate({identifier:q}),Ve=(0,Ce.P0)("storage");return Ve&&function oa(z,q,ye,Ee={}){!function Ai(z,q,ye,Ee={}){z.host=`${q}:${ye}`,z._protocol="http";const{mockUserToken:Ve}=Ee;Ve&&(z._overrideAuthToken="string"==typeof Ve?Ve:(0,Ce.Sg)(Ve,z.app.options.projectId))}(z,q,ye,Ee)}(Ee,...Ve),Ee}function _a(z,{instanceIdentifier:q}){const ye=z.getProvider("app").getImmediate(),Ee=z.getProvider("auth-internal"),Ve=z.getProvider("app-check-internal");return new ir(ye,Ee,Ve,q,Ae.Jn)}!function Ts(){(0,Ae.Xd)(new Ye.wA(Es,_a,"PUBLIC").setMultipleInstances(!0)),(0,Ae.KN)(si,"0.11.2",""),(0,Ae.KN)(si,"0.11.2","esm2017")}();class Lr{constructor(q){return q}}const Ao="storage",ns=new B.OlP("angularfire2.storage-instances");function fo(z){return(q,ye)=>{const Ee=q.runOutsideAngular(()=>z(ye));return new Lr(Ee)}}const ds={provide:class Ks{constructor(){return(0,E.vb)(Ao)}},deps:[[new B.FiY,ns]]},xo={provide:Lr,useFactory:function ja(z,q){const ye=(0,E.JM)(Ao,z,q);return ye&&new Lr(ye)},deps:[[new B.FiY,ns],Fe.Ot]};let Ms=(()=>{class z{constructor(){(0,ce.KN)("angularfire",E.q4.full,"gcs")}static \u0275fac=function(Ee){return new(Ee||z)};static \u0275mod=B.oAB({type:z});static \u0275inj=B.cJS({providers:[xo,ds]})}return z})();function Bn(z,...q){return{ngModule:Ms,providers:[{provide:ns,useFactory:fo(z),multi:!0,deps:[B.R0b,B.zs3,E.HU,Fe.z6,[new B.FiY,y.dh],[new B.FiY,E.Rf],...q]}]}}const rs=(0,E.u3)(bs,!0),Ga=(0,E.u3)(us,!0),bi=(0,E.u3)(no,!0),ui=(0,E.u3)(sa,!0)},1920:(Lt,Ke,$)=>{$.d(Ke,{q4:()=>it,HU:()=>Qe,Rf:()=>St,vb:()=>Yt,JM:()=>Rt,u3:()=>er});var E=$(9468),B=$(3182),Fe=$(1954),ce=$(9931);const Ae=new class he extends ce.v{}(class y extends Fe.o{constructor(vn,tn){super(vn,tn),this.scheduler=vn,this.work=tn}schedule(vn,tn=0){return tn>0?super.schedule(vn,tn):(this.delay=tn,this.state=vn,this.scheduler.flush(this),this)}execute(vn,tn){return tn>0||this.closed?super.execute(vn,tn):this._execute(vn,tn)}requestAsyncId(vn,tn,Me=0){return null!=Me&&Me>0||null==Me&&this.delay>0?super.requestAsyncId(vn,tn,Me):(vn.flush(this),0)}});var Ye=$(6321),de=$(5592),Ie=$(9397),ze=$(5137),wt=$(3093);const it=new E.GfV("ANGULARFIRE2_VERSION");function Rt(xt,vn,tn){if(vn){if(1===vn.length)return vn[0];const We=vn.filter(st=>st.app===tn);if(1===We.length)return We[0]}return tn.container.getProvider(xt).getImmediate({optional:!0})}const Yt=(xt,vn)=>{const tn=vn?[vn]:(0,B.C6)(),Me=[];return tn.forEach(Be=>{Be.container.getProvider(xt).instances.forEach(st=>{Me.includes(st)||Me.push(st)})}),Me};class St{constructor(){return Yt($n)}}const $n="app-check";function Re(){}class _e{zone;delegate;constructor(vn,tn=Ae){this.zone=vn,this.delegate=tn}now(){return this.delegate.now()}schedule(vn,tn,Me){const Be=this.zone;return this.delegate.schedule(function(st){Be.runGuarded(()=>{vn.apply(this,[st])})},tn,Me)}}class xe{zone;task=null;constructor(vn){this.zone=vn}call(vn,tn){const Me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Re,{},Re,Re)),tn.pipe((0,Ie.b)({next:Me,complete:Me,error:Me})).subscribe(vn).add(Me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qe=(()=>{class xt{ngZone;outsideAngular;insideAngular;constructor(tn){this.ngZone=tn,this.outsideAngular=tn.runOutsideAngular(()=>new _e(Zone.current)),this.insideAngular=tn.run(()=>new _e(Zone.current,Ye.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Me){return new(Me||xt)(E.LFG(E.R0b))};static \u0275prov=E.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();function Le(){const xt=globalThis.\u0275AngularFireScheduler;if(!xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return xt}function je(xt){return Le().ngZone.run(()=>xt())}function Xn(xt){return function ft(xt){return function(tn){return(tn=tn.lift(new xe(xt.ngZone))).pipe((0,ze.R)(xt.outsideAngular),(0,wt.Q)(xt.insideAngular))}}(Le())(xt)}const wn=(xt,vn)=>function(){const Me=arguments;return vn&&setTimeout(()=>{"scheduled"===vn.state&&vn.invoke()},10),je(()=>xt.apply(void 0,Me))},er=(xt,vn)=>function(){let tn;const Me=arguments;for(let We=0;We<arguments.length;We++)"function"==typeof Me[We]&&(vn&&(tn||=je(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Re,{},Re,Re))),Me[We]=wn(Me[We],tn));const Be=function Ue(xt){return Le().ngZone.runOutsideAngular(()=>xt())}(()=>xt.apply(this,Me));if(!vn){if(Be instanceof de.y){const We=Le();return Be.pipe((0,ze.R)(We.outsideAngular),(0,wt.Q)(We.insideAngular))}return je(()=>Be)}return Be instanceof de.y?Be.pipe(Xn):Be instanceof Promise?je(()=>new Promise((We,st)=>Be.then(yt=>je(()=>We(yt)),yt=>je(()=>st(yt))))):"function"==typeof Be&&tn?function(){return setTimeout(()=>{tn&&"scheduled"===tn.state&&tn.invoke()},10),Be.apply(this,arguments)}:je(()=>Be)}},95:(Lt,Ke,$)=>{$.d(Ke,{Wl:()=>Yt,Fj:()=>_e,qu:()=>z,u:()=>oi,sg:()=>So,u5:()=>Ve,nD:()=>rs,Cf:()=>Le,JU:()=>pt,JJ:()=>rn,JL:()=>fn,On:()=>Us,YN:()=>us,wV:()=>eo,_:()=>Jn,UX:()=>ct,EJ:()=>xr,kI:()=>lt,_Y:()=>ia,Kr:()=>Lr});var E=$(9468),B=$(6814),Fe=$(2459),y=$(5592),ce=$(7453),he=$(4829),Ae=$(9940),Ce=$(8251),Ye=$(7400),de=$(2714),ze=$(7398);let wt=(()=>{class L{constructor(x,Q){this._renderer=x,this._elementRef=Q,this.onChange=be=>{},this.onTouched=()=>{}}setProperty(x,Q){this._renderer.setProperty(this._elementRef.nativeElement,x,Q)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(Q){return new(Q||L)(E.Y36(E.Qsj),E.Y36(E.SBq))};static#t=this.\u0275dir=E.lG2({type:L})}return L})(),it=(()=>{class L extends wt{static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=E.n5z(L)))(be||L)}}();static#t=this.\u0275dir=E.lG2({type:L,features:[E.qOj]})}return L})();const pt=new E.OlP("NgValueAccessor"),Rt={provide:pt,useExisting:(0,E.Gpc)(()=>Yt),multi:!0};let Yt=(()=>{class L extends it{writeValue(x){this.setProperty("checked",x)}static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=E.n5z(L)))(be||L)}}();static#t=this.\u0275dir=E.lG2({type:L,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Q,be){1&Q&&E.NdJ("change",function(hn){return be.onChange(hn.target.checked)})("blur",function(){return be.onTouched()})},features:[E._Bn([Rt]),E.qOj]})}return L})();const St={provide:pt,useExisting:(0,E.Gpc)(()=>_e),multi:!0},Re=new E.OlP("CompositionEventMode");let _e=(()=>{class L extends wt{constructor(x,Q,be){super(x,Q),this._compositionMode=be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $n(){const L=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(Q){return new(Q||L)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(Re,8))};static#t=this.\u0275dir=E.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Q,be){1&Q&&E.NdJ("input",function(hn){return be._handleInput(hn.target.value)})("blur",function(){return be.onTouched()})("compositionstart",function(){return be._compositionStart()})("compositionend",function(hn){return be._compositionEnd(hn.target.value)})},features:[E._Bn([St]),E.qOj]})}return L})();function xe(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function Qe(L){return null!=L&&"number"==typeof L.length}const Le=new E.OlP("NgValidators"),Ue=new E.OlP("NgAsyncValidators"),je=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lt{static min(j){return function _t(L){return j=>{if(xe(j.value)||xe(L))return null;const x=parseFloat(j.value);return!isNaN(x)&&x<L?{min:{min:L,actual:j.value}}:null}}(j)}static max(j){return function Xn(L){return j=>{if(xe(j.value)||xe(L))return null;const x=parseFloat(j.value);return!isNaN(x)&&x>L?{max:{max:L,actual:j.value}}:null}}(j)}static required(j){return function ft(L){return xe(L.value)?{required:!0}:null}(j)}static requiredTrue(j){return function wn(L){return!0===L.value?null:{required:!0}}(j)}static email(j){return function er(L){return xe(L.value)||je.test(L.value)?null:{email:!0}}(j)}static minLength(j){return function xt(L){return j=>xe(j.value)||!Qe(j.value)?null:j.value.length<L?{minlength:{requiredLength:L,actualLength:j.value.length}}:null}(j)}static maxLength(j){return vn(j)}static pattern(j){return function tn(L){if(!L)return Me;let j,x;return"string"==typeof L?(x="","^"!==L.charAt(0)&&(x+="^"),x+=L,"$"!==L.charAt(L.length-1)&&(x+="$"),j=new RegExp(x)):(x=L.toString(),j=L),Q=>{if(xe(Q.value))return null;const be=Q.value;return j.test(be)?null:{pattern:{requiredPattern:x,actualValue:be}}}}(j)}static nullValidator(j){return null}static compose(j){return Qt(j)}static composeAsync(j){return mn(j)}}function vn(L){return j=>Qe(j.value)&&j.value.length>L?{maxlength:{requiredLength:L,actualLength:j.value.length}}:null}function Me(L){return null}function Be(L){return null!=L}function We(L){return(0,E.QGY)(L)?(0,Fe.D)(L):L}function st(L){let j={};return L.forEach(x=>{j=null!=x?{...j,...x}:j}),0===Object.keys(j).length?null:j}function yt(L,j){return j.map(x=>x(L))}function Zt(L){return L.map(j=>function It(L){return!L.validate}(j)?j:x=>j.validate(x))}function Qt(L){if(!L)return null;const j=L.filter(Be);return 0==j.length?null:function(x){return st(yt(x,j))}}function An(L){return null!=L?Qt(Zt(L)):null}function mn(L){if(!L)return null;const j=L.filter(Be);return 0==j.length?null:function(x){return function Ie(...L){const j=(0,Ae.jO)(L),{args:x,keys:Q}=(0,ce.D)(L),be=new y.y(Nt=>{const{length:hn}=x;if(!hn)return void Nt.complete();const wr=new Array(hn);let Qr=hn,qr=hn;for(let Dr=0;Dr<hn;Dr++){let Zi=!1;(0,he.Xf)(x[Dr]).subscribe((0,Ce.x)(Nt,js=>{Zi||(Zi=!0,qr--),wr[Dr]=js},()=>Qr--,void 0,()=>{(!Qr||!Zi)&&(qr||Nt.next(Q?(0,de.n)(Q,wr):wr),Nt.complete())}))}});return j?be.pipe((0,Ye.Z)(j)):be}(yt(x,j).map(We)).pipe((0,ze.U)(st))}}function Dn(L){return null!=L?mn(Zt(L)):null}function Ft(L,j){return null===L?[j]:Array.isArray(L)?[...L,j]:[L,j]}function Yn(L){return L._rawValidators}function tr(L){return L._rawAsyncValidators}function ni(L){return L?Array.isArray(L)?L:[L]:[]}function ae(L,j){return Array.isArray(L)?L.includes(j):L===j}function ue(L,j){const x=ni(j);return ni(L).forEach(be=>{ae(x,be)||x.push(be)}),x}function Y(L,j){return ni(j).filter(x=>!ae(L,x))}class ve{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=An(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=Dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,x){return!!this.control&&this.control.hasError(j,x)}getError(j,x){return this.control?this.control.getError(j,x):null}}class Se extends ve{get formDirective(){return null}get path(){return null}}class $e extends ve{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ot{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rn=(()=>{class L extends Ot{constructor(x){super(x)}static#e=this.\u0275fac=function(Q){return new(Q||L)(E.Y36($e,2))};static#t=this.\u0275dir=E.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Q,be){2&Q&&E.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)},features:[E.qOj]})}return L})(),fn=(()=>{class L extends Ot{constructor(x){super(x)}static#e=this.\u0275fac=function(Q){return new(Q||L)(E.Y36(Se,10))};static#t=this.\u0275dir=E.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Q,be){2&Q&&E.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)("ng-submitted",be.isSubmitted)},features:[E.qOj]})}return L})();const Wi="VALID",pi="INVALID",Si="PENDING",Bi="DISABLED";function we(L){return(ie(L)?L.validators:L)||null}function se(L,j){return(ie(j)?j.asyncValidators:L)||null}function ie(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function Oe(L,j,x){const Q=L.controls;if(!(j?Object.keys(Q):Q).length)throw new E.vHH(1e3,"");if(!Q[x])throw new E.vHH(1001,"")}function gt(L,j,x){L._forEachChild((Q,be)=>{if(void 0===x[be])throw new E.vHH(1002,"")})}class kt{constructor(j,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Wi}get invalid(){return this.status===pi}get pending(){return this.status==Si}get disabled(){return this.status===Bi}get enabled(){return this.status!==Bi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(ue(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(ue(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(Y(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(Y(j,this._rawAsyncValidators))}hasValidator(j){return ae(this._rawValidators,j)}hasAsyncValidator(j){return ae(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=Si,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const x=this._parentMarkedDirty(j.onlySelf);this.status=Bi,this.errors=null,this._forEachChild(Q=>{Q.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:x}),this._onDisabledChange.forEach(Q=>Q(!0))}enable(j={}){const x=this._parentMarkedDirty(j.onlySelf);this.status=Wi,this._forEachChild(Q=>{Q.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:x}),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wi||this.status===Si)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bi:Wi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=Si,this._hasOwnPendingAsyncValidator=!0;const x=We(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,x={}){this.errors=j,this._updateControlsErrors(!1!==x.emitEvent)}get(j){let x=j;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((Q,be)=>Q&&Q._find(be),this)}getError(j,x){const Q=x?this.get(x):this;return Q&&Q.errors?Q.errors[j]:null}hasError(j,x){return!!this.getError(j,x)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new E.vpe,this.statusChanges=new E.vpe}_calculateStatus(){return this._allControlsDisabled()?Bi:this.errors?pi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Si)?Si:this._anyControlsHaveStatus(pi)?pi:Wi}_anyControlsHaveStatus(j){return this._anyControls(x=>x.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){ie(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function ne(L){return Array.isArray(L)?An(L):L||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function te(L){return Array.isArray(L)?Dn(L):L||null}(this._rawAsyncValidators)}}class dn extends kt{constructor(j,x,Q){super(we(x),se(Q,x)),this.controls=j,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,x){return this.controls[j]?this.controls[j]:(this.controls[j]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(j,x,Q={}){this.registerControl(j,x),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(j,x={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(j,x,Q={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],x&&this.registerControl(j,x),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,x={}){gt(this,0,j),Object.keys(j).forEach(Q=>{Oe(this,!0,Q),this.controls[Q].setValue(j[Q],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(j,x={}){null!=j&&(Object.keys(j).forEach(Q=>{const be=this.controls[Q];be&&be.patchValue(j[Q],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(j={},x={}){this._forEachChild((Q,be)=>{Q.reset(j?j[be]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(j,x,Q)=>(j[Q]=x.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(x,Q)=>!!Q._syncPendingControls()||x);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(x=>{const Q=this.controls[x];Q&&j(Q,x)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[x,Q]of Object.entries(this.controls))if(this.contains(x)&&j(Q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,Q,be)=>((Q.enabled||this.disabled)&&(x[be]=Q.value),x))}_reduceChildren(j,x){let Q=j;return this._forEachChild((be,Nt)=>{Q=x(Q,be,Nt)}),Q}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}class _n extends dn{}const ri=new E.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>nr}),nr="always";function Ui(L,j){return[...j.path,L]}function tt(L,j,x=nr){Rn(L,j),j.valueAccessor.writeValue(L.value),(L.disabled||"always"===x)&&j.valueAccessor.setDisabledState?.(L.disabled),function Qn(L,j){j.valueAccessor.registerOnChange(x=>{L._pendingValue=x,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&rr(L,j)})}(L,j),function Vn(L,j){const x=(Q,be)=>{j.valueAccessor.writeValue(Q),be&&j.viewToModelUpdate(Q)};L.registerOnChange(x),j._registerOnDestroy(()=>{L._unregisterOnChange(x)})}(L,j),function Br(L,j){j.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&rr(L,j),"submit"!==L.updateOn&&L.markAsTouched()})}(L,j),function Jt(L,j){if(j.valueAccessor.setDisabledState){const x=Q=>{j.valueAccessor.setDisabledState(Q)};L.registerOnDisabledChange(x),j._registerOnDestroy(()=>{L._unregisterOnDisabledChange(x)})}}(L,j)}function He(L,j,x=!0){const Q=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(Q),j.valueAccessor.registerOnTouched(Q)),pn(L,j),L&&(j._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function bt(L,j){L.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(j)})}function Rn(L,j){const x=Yn(L);null!==j.validator?L.setValidators(Ft(x,j.validator)):"function"==typeof x&&L.setValidators([x]);const Q=tr(L);null!==j.asyncValidator?L.setAsyncValidators(Ft(Q,j.asyncValidator)):"function"==typeof Q&&L.setAsyncValidators([Q]);const be=()=>L.updateValueAndValidity();bt(j._rawValidators,be),bt(j._rawAsyncValidators,be)}function pn(L,j){let x=!1;if(null!==L){if(null!==j.validator){const be=Yn(L);if(Array.isArray(be)&&be.length>0){const Nt=be.filter(hn=>hn!==j.validator);Nt.length!==be.length&&(x=!0,L.setValidators(Nt))}}if(null!==j.asyncValidator){const be=tr(L);if(Array.isArray(be)&&be.length>0){const Nt=be.filter(hn=>hn!==j.asyncValidator);Nt.length!==be.length&&(x=!0,L.setAsyncValidators(Nt))}}}const Q=()=>{};return bt(j._rawValidators,Q),bt(j._rawAsyncValidators,Q),x}function rr(L,j){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function vi(L,j){if(!L.hasOwnProperty("model"))return!1;const x=L.model;return!!x.isFirstChange()||!Object.is(j,x.currentValue)}function ji(L,j){if(!j)return null;let x,Q,be;return Array.isArray(j),j.forEach(Nt=>{Nt.constructor===_e?x=Nt:function Kr(L){return Object.getPrototypeOf(L.constructor)===it}(Nt)?Q=Nt:be=Nt}),be||Q||x||null}function ci(L,j){const x=L.indexOf(j);x>-1&&L.splice(x,1)}function yr(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const vr=class extends kt{constructor(j=null,x,Q){super(we(x),se(Q,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ie(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=yr(j)?j.value:j)}setValue(j,x={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(j,x={}){this.setValue(j,x)}reset(j=this.defaultValue,x={}){this._applyFormState(j),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){ci(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){ci(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){yr(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},Co={provide:$e,useExisting:(0,E.Gpc)(()=>Us)},Xs=(()=>Promise.resolve())();let Us=(()=>{class L extends $e{constructor(x,Q,be,Nt,hn,wr){super(),this._changeDetectorRef=hn,this.callSetDisabledState=wr,this.control=new vr,this._registered=!1,this.name="",this.update=new E.vpe,this._parent=x,this._setValidators(Q),this._setAsyncValidators(be),this.valueAccessor=ji(0,Nt)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const Q=x.name.previousValue;this.formDirective.removeControl({name:Q,path:this._getPath(Q)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),vi(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Xs.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const Q=x.isDisabled.currentValue,be=0!==Q&&(0,E.VuI)(Q);Xs.then(()=>{be&&!this.control.disabled?this.control.disable():!be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?Ui(x,this._parent):[x]}static#e=this.\u0275fac=function(Q){return new(Q||L)(E.Y36(Se,9),E.Y36(Le,10),E.Y36(Ue,10),E.Y36(pt,10),E.Y36(E.sBO,8),E.Y36(ri,8))};static#t=this.\u0275dir=E.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[E._Bn([Co]),E.qOj,E.TTD]})}return L})(),ia=(()=>{class L{static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275dir=E.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return L})();const zo={provide:pt,useExisting:(0,E.Gpc)(()=>eo),multi:!0};let eo=(()=>{class L extends it{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=Q=>{x(""==Q?null:parseFloat(Q))}}static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=E.n5z(L)))(be||L)}}();static#t=this.\u0275dir=E.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Q,be){1&Q&&E.NdJ("input",function(hn){return be.onChange(hn.target.value)})("blur",function(){return be.onTouched()})},features:[E._Bn([zo]),E.qOj]})}return L})();const Wo={provide:pt,useExisting:(0,E.Gpc)(()=>Jn),multi:!0};let Ns=(()=>{class L{static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275mod=E.oAB({type:L});static#n=this.\u0275inj=E.cJS({})}return L})(),to=(()=>{class L{constructor(){this._accessors=[]}add(x,Q){this._accessors.push([x,Q])}remove(x){for(let Q=this._accessors.length-1;Q>=0;--Q)if(this._accessors[Q][1]===x)return void this._accessors.splice(Q,1)}select(x){this._accessors.forEach(Q=>{this._isSameGroup(Q,x)&&Q[1]!==x&&Q[1].fireUncheck(x.value)})}_isSameGroup(x,Q){return!!x[0].control&&x[0]._parent===Q._control._parent&&x[1].name===Q.name}static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275prov=E.Yz7({token:L,factory:L.\u0275fac,providedIn:Ns})}return L})(),Jn=(()=>{class L extends it{constructor(x,Q,be,Nt){super(x,Q),this._registry=be,this._injector=Nt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,E.f3M)(ri,{optional:!0})??nr}ngOnInit(){this._control=this._injector.get($e),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(x){this._state=x===this.value,this.setProperty("checked",this._state)}registerOnChange(x){this._fn=x,this.onChange=()=>{x(this.value),this._registry.select(this)}}setDisabledState(x){(this.setDisabledStateFired||x||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",x),this.setDisabledStateFired=!0}fireUncheck(x){this.writeValue(x)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(Q){return new(Q||L)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(to),E.Y36(E.zs3))};static#t=this.\u0275dir=E.lG2({type:L,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Q,be){1&Q&&E.NdJ("change",function(){return be.onChange()})("blur",function(){return be.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[E._Bn([Wo]),E.qOj]})}return L})();const ir=new E.OlP("NgModelWithFormControlWarning"),Es={provide:Se,useExisting:(0,E.Gpc)(()=>So)};let So=(()=>{class L extends Se{constructor(x,Q,be){super(),this.callSetDisabledState=be,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new E.vpe,this._setValidators(x),this._setAsyncValidators(Q)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const Q=this.form.get(x.path);return tt(Q,x,this.callSetDisabledState),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),Q}getControl(x){return this.form.get(x.path)}removeControl(x){He(x.control||null,x,!1),function Js(L,j){const x=L.indexOf(j);x>-1&&L.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,Q){this.form.get(x.path).setValue(Q)}onSubmit(x){return this.submitted=!0,function na(L,j){L._syncPendingControls(),j.forEach(x=>{const Q=x.control;"submit"===Q.updateOn&&Q._pendingChange&&(x.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const Q=x.control,be=this.form.get(x.path);Q!==be&&(He(Q||null,x),(L=>L instanceof vr)(be)&&(tt(be,x,this.callSetDisabledState),x.control=be))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const Q=this.form.get(x.path);(function gi(L,j){Rn(L,j)})(Q,x),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const Q=this.form.get(x.path);Q&&function ys(L,j){return pn(L,j)}(Q,x)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rn(this.form,this),this._oldForm&&pn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Q){return new(Q||L)(E.Y36(Le,10),E.Y36(Ue,10),E.Y36(ri,8))};static#t=this.\u0275dir=E.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(Q,be){1&Q&&E.NdJ("submit",function(hn){return be.onSubmit(hn)})("reset",function(){return be.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([Es]),E.qOj,E.TTD]})}return L})();const Or={provide:$e,useExisting:(0,E.Gpc)(()=>oi)};let oi=(()=>{class L extends $e{set isDisabled(x){}static#e=this._ngModelWarningSentOnce=!1;constructor(x,Q,be,Nt,hn){super(),this._ngModelWarningConfig=hn,this._added=!1,this.name=null,this.update=new E.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(Q),this._setAsyncValidators(be),this.valueAccessor=ji(0,Nt)}ngOnChanges(x){this._added||this._setUpControl(),vi(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return Ui(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Q){return new(Q||L)(E.Y36(Se,13),E.Y36(Le,10),E.Y36(Ue,10),E.Y36(pt,10),E.Y36(ir,8))};static#n=this.\u0275dir=E.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[E._Bn([Or]),E.qOj,E.TTD]})}return L})();const bs={provide:pt,useExisting:(0,E.Gpc)(()=>xr),multi:!0};function Wr(L,j){return null==L?`${j}`:(j&&"object"==typeof j&&(j="Object"),`${L}: ${j}`.slice(0,50))}let xr=(()=>{class L extends it{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const be=Wr(this._getOptionId(x),x);this.setProperty("value",be)}registerOnChange(x){this.onChange=Q=>{this.value=this._getOptionValue(Q),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const Q of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Q),x))return Q;return null}_getOptionValue(x){const Q=function no(L){return L.split(":")[0]}(x);return this._optionMap.has(Q)?this._optionMap.get(Q):x}static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=E.n5z(L)))(be||L)}}();static#t=this.\u0275dir=E.lG2({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Q,be){1&Q&&E.NdJ("change",function(hn){return be.onChange(hn.target.value)})("blur",function(){return be.onTouched()})},inputs:{compareWith:"compareWith"},features:[E._Bn([bs]),E.qOj]})}return L})(),us=(()=>{class L{constructor(x,Q,be){this._element=x,this._renderer=Q,this._select=be,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(Wr(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Q){return new(Q||L)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(xr,9))};static#t=this.\u0275dir=E.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return L})();const oa={provide:pt,useExisting:(0,E.Gpc)(()=>Ts),multi:!0};function xn(L,j){return null==L?`${j}`:("string"==typeof j&&(j=`'${j}'`),j&&"object"==typeof j&&(j="Object"),`${L}: ${j}`.slice(0,50))}let Ts=(()=>{class L extends it{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let Q;if(this.value=x,Array.isArray(x)){const be=x.map(Nt=>this._getOptionId(Nt));Q=(Nt,hn)=>{Nt._setSelected(be.indexOf(hn.toString())>-1)}}else Q=(be,Nt)=>{be._setSelected(!1)};this._optionMap.forEach(Q)}registerOnChange(x){this.onChange=Q=>{const be=[],Nt=Q.selectedOptions;if(void 0!==Nt){const hn=Nt;for(let wr=0;wr<hn.length;wr++){const qr=this._getOptionValue(hn[wr].value);be.push(qr)}}else{const hn=Q.options;for(let wr=0;wr<hn.length;wr++){const Qr=hn[wr];if(Qr.selected){const qr=this._getOptionValue(Qr.value);be.push(qr)}}}this.value=be,x(be)}}_registerOption(x){const Q=(this._idCounter++).toString();return this._optionMap.set(Q,x),Q}_getOptionId(x){for(const Q of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Q)._value,x))return Q;return null}_getOptionValue(x){const Q=function ma(L){return L.split(":")[0]}(x);return this._optionMap.has(Q)?this._optionMap.get(Q)._value:x}static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=E.n5z(L)))(be||L)}}();static#t=this.\u0275dir=E.lG2({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Q,be){1&Q&&E.NdJ("change",function(hn){return be.onChange(hn.target)})("blur",function(){return be.onTouched()})},inputs:{compareWith:"compareWith"},features:[E._Bn([oa]),E.qOj]})}return L})(),Lr=(()=>{class L{constructor(x,Q,be){this._element=x,this._renderer=Q,this._select=be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(xn(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(xn(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Q){return new(Q||L)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(Ts,9))};static#t=this.\u0275dir=E.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return L})();let $i=(()=>{class L{constructor(){this._validator=Me}ngOnChanges(x){if(this.inputName in x){const Q=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(Q),this._validator=this._enabled?this.createValidator(Q):Me,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275dir=E.lG2({type:L,features:[E.TTD]})}return L})();const Yr={provide:Le,useExisting:(0,E.Gpc)(()=>rs),multi:!0};let rs=(()=>{class L extends $i{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=x=>function Ao(L){return"number"==typeof L?L:parseInt(L,10)}(x),this.createValidator=x=>vn(x)}static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=E.n5z(L)))(be||L)}}();static#t=this.\u0275dir=E.lG2({type:L,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Q,be){2&Q&&E.uIk("maxlength",be._enabled?be.maxlength:null)},inputs:{maxlength:"maxlength"},features:[E._Bn([Yr]),E.qOj]})}return L})(),bi=(()=>{class L{static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275mod=E.oAB({type:L});static#n=this.\u0275inj=E.cJS({imports:[Ns]})}return L})();class go extends kt{constructor(j,x,Q){super(we(x),se(Q,x)),this.controls=j,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[this._adjustIndex(j)]}push(j,x={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(j,x,Q={}){this.controls.splice(j,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(j,x={}){let Q=this._adjustIndex(j);Q<0&&(Q=0),this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),this.controls.splice(Q,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(j,x,Q={}){let be=this._adjustIndex(j);be<0&&(be=0),this.controls[be]&&this.controls[be]._registerOnCollectionChange(()=>{}),this.controls.splice(be,1),x&&(this.controls.splice(be,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,x={}){gt(this,0,j),j.forEach((Q,be)=>{Oe(this,!1,be),this.at(be).setValue(Q,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(j,x={}){null!=j&&(j.forEach((Q,be)=>{this.at(be)&&this.at(be).patchValue(Q,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(j=[],x={}){this._forEachChild((Q,be)=>{Q.reset(j[be],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(j=>j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_adjustIndex(j){return j<0?j+this.length:j}_syncPendingControls(){let j=this.controls.reduce((x,Q)=>!!Q._syncPendingControls()||x,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((x,Q)=>{j(x,Q)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(x=>x.enabled&&j(x))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}_find(j){return this.at(j)??null}}function la(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let z=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const x=new L;return x.useNonNullable=!0,x}group(x,Q=null){const be=this._reduceControls(x);let Nt={};return la(Q)?Nt=Q:null!==Q&&(Nt.validators=Q.validator,Nt.asyncValidators=Q.asyncValidator),new dn(be,Nt)}record(x,Q=null){const be=this._reduceControls(x);return new _n(be,Q)}control(x,Q,be){let Nt={};return this.useNonNullable?(la(Q)?Nt=Q:(Nt.validators=Q,Nt.asyncValidators=be),new vr(x,{...Nt,nonNullable:!0})):new vr(x,Q,be)}array(x,Q,be){const Nt=x.map(hn=>this._createControl(hn));return new go(Nt,Q,be)}_reduceControls(x){const Q={};return Object.keys(x).forEach(be=>{Q[be]=this._createControl(x[be])}),Q}_createControl(x){return x instanceof vr||x instanceof kt?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275prov=E.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),Ve=(()=>{class L{static withConfig(x){return{ngModule:L,providers:[{provide:ri,useValue:x.callSetDisabledState??nr}]}}static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275mod=E.oAB({type:L});static#n=this.\u0275inj=E.cJS({imports:[bi]})}return L})(),ct=(()=>{class L{static withConfig(x){return{ngModule:L,providers:[{provide:ir,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:ri,useValue:x.callSetDisabledState??nr}]}}static#e=this.\u0275fac=function(Q){return new(Q||L)};static#t=this.\u0275mod=E.oAB({type:L});static#n=this.\u0275inj=E.cJS({imports:[bi]})}return L})()},2614:()=>{const Lt=":";const Yn=function(ae,...ue){if(Yn.translate){const ve=Yn.translate(ae,ue);ae=ve[0],ue=ve[1]}let Y=ni(ae[0],ae.raw[0]);for(let ve=1;ve<ae.length;ve++)Y+=ue[ve-1]+ni(ae[ve],ae.raw[ve]);return Y},tr=":";function ni(ae,ue){return ue.charAt(0)===tr?ae.substring(function Be(ae,ue){for(let Y=1,ve=1;Y<ae.length;Y++,ve++)if("\\"===ue[ve])ve++;else if(ae[Y]===Lt)return Y;throw new Error(`Unterminated $localize metadata block in "${ue}".`)}(ae,ue)+1):ae}globalThis.$localize=Yn},6593:(Lt,Ke,$)=>{$.d(Ke,{Dx:()=>$e,H7:()=>Gn,b2:()=>ae,q6:()=>Ft,se:()=>je});var E=$(9468),B=$(6814);class Fe extends B.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class y extends Fe{static makeCurrent(){(0,B.HT)(new y)}onAndCancel(se,te,ie){return se.addEventListener(te,ie),()=>{se.removeEventListener(te,ie)}}dispatchEvent(se,te){se.dispatchEvent(te)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,te){return(te=te||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,te){return"window"===te?window:"document"===te?se:"body"===te?se.body:null}getBaseHref(se){const te=function he(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==te?null:function Ce(ne){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",ne);const se=Ae.pathname;return"/"===se.charAt(0)?se:`/${se}`}(te)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,B.Mx)(document.cookie,se)}}let Ae,ce=null,de=(()=>{class ne{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ie){return new(ie||ne)};static#t=this.\u0275prov=E.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const Ie=new E.OlP("EventManagerPlugins");let ze=(()=>{class ne{constructor(te,ie){this._zone=ie,this._eventNameToPlugin=new Map,te.forEach(Oe=>{Oe.manager=this}),this._plugins=te.slice().reverse()}addEventListener(te,ie,Oe){return this._findPluginFor(ie).addEventListener(te,ie,Oe)}getZone(){return this._zone}_findPluginFor(te){let ie=this._eventNameToPlugin.get(te);if(ie)return ie;if(ie=this._plugins.find(gt=>gt.supports(te)),!ie)throw new E.vHH(5101,!1);return this._eventNameToPlugin.set(te,ie),ie}static#e=this.\u0275fac=function(ie){return new(ie||ne)(E.LFG(Ie),E.LFG(E.R0b))};static#t=this.\u0275prov=E.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();class wt{constructor(se){this._doc=se}}const it="ng-app-id";let pt=(()=>{class ne{constructor(te,ie,Oe,gt={}){this.doc=te,this.appId=ie,this.nonce=Oe,this.platformId=gt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,B.PM)(gt),this.resetHostNodes()}addStyles(te){for(const ie of te)1===this.changeUsageCount(ie,1)&&this.onStyleAdded(ie)}removeStyles(te){for(const ie of te)this.changeUsageCount(ie,-1)<=0&&this.onStyleRemoved(ie)}ngOnDestroy(){const te=this.styleNodesInDOM;te&&(te.forEach(ie=>ie.remove()),te.clear());for(const ie of this.getAllStyles())this.onStyleRemoved(ie);this.resetHostNodes()}addHost(te){this.hostNodes.add(te);for(const ie of this.getAllStyles())this.addStyleToHost(te,ie)}removeHost(te){this.hostNodes.delete(te)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(te){for(const ie of this.hostNodes)this.addStyleToHost(ie,te)}onStyleRemoved(te){const ie=this.styleRef;ie.get(te)?.elements?.forEach(Oe=>Oe.remove()),ie.delete(te)}collectServerRenderedStyles(){const te=this.doc.head?.querySelectorAll(`style[${it}="${this.appId}"]`);if(te?.length){const ie=new Map;return te.forEach(Oe=>{null!=Oe.textContent&&ie.set(Oe.textContent,Oe)}),ie}return null}changeUsageCount(te,ie){const Oe=this.styleRef;if(Oe.has(te)){const gt=Oe.get(te);return gt.usage+=ie,gt.usage}return Oe.set(te,{usage:ie,elements:[]}),ie}getStyleElement(te,ie){const Oe=this.styleNodesInDOM,gt=Oe?.get(ie);if(gt?.parentNode===te)return Oe.delete(ie),gt.removeAttribute(it),gt;{const kt=this.doc.createElement("style");return this.nonce&&kt.setAttribute("nonce",this.nonce),kt.textContent=ie,this.platformIsServer&&kt.setAttribute(it,this.appId),kt}}addStyleToHost(te,ie){const Oe=this.getStyleElement(te,ie);te.appendChild(Oe);const gt=this.styleRef,kt=gt.get(ie)?.elements;kt?kt.push(Oe):gt.set(ie,{elements:[Oe],usage:1})}resetHostNodes(){const te=this.hostNodes;te.clear(),te.add(this.doc.head)}static#e=this.\u0275fac=function(ie){return new(ie||ne)(E.LFG(B.K0),E.LFG(E.AFp),E.LFG(E.Ojb,8),E.LFG(E.Lbi))};static#t=this.\u0275prov=E.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const Rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yt=/%COMP%/g,xe=new E.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ue(ne,se){return se.map(te=>te.replace(Yt,ne))}let je=(()=>{class ne{constructor(te,ie,Oe,gt,kt,dn,Sn,Nn=null){this.eventManager=te,this.sharedStylesHost=ie,this.appId=Oe,this.removeStylesOnCompDestroy=gt,this.doc=kt,this.platformId=dn,this.ngZone=Sn,this.nonce=Nn,this.rendererByCompId=new Map,this.platformIsServer=(0,B.PM)(dn),this.defaultRenderer=new lt(te,kt,Sn,this.platformIsServer)}createRenderer(te,ie){if(!te||!ie)return this.defaultRenderer;this.platformIsServer&&ie.encapsulation===E.ifc.ShadowDom&&(ie={...ie,encapsulation:E.ifc.Emulated});const Oe=this.getOrCreateRenderer(te,ie);return Oe instanceof xt?Oe.applyToHost(te):Oe instanceof er&&Oe.applyStyles(),Oe}getOrCreateRenderer(te,ie){const Oe=this.rendererByCompId;let gt=Oe.get(ie.id);if(!gt){const kt=this.doc,dn=this.ngZone,Sn=this.eventManager,Nn=this.sharedStylesHost,_n=this.removeStylesOnCompDestroy,Ln=this.platformIsServer;switch(ie.encapsulation){case E.ifc.Emulated:gt=new xt(Sn,Nn,ie,this.appId,_n,kt,dn,Ln);break;case E.ifc.ShadowDom:return new wn(Sn,Nn,te,ie,kt,dn,this.nonce,Ln);default:gt=new er(Sn,Nn,ie,_n,kt,dn,Ln)}Oe.set(ie.id,gt)}return gt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ie){return new(ie||ne)(E.LFG(ze),E.LFG(pt),E.LFG(E.AFp),E.LFG(xe),E.LFG(B.K0),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(E.Ojb))};static#t=this.\u0275prov=E.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();class lt{constructor(se,te,ie,Oe){this.eventManager=se,this.doc=te,this.ngZone=ie,this.platformIsServer=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,te){return te?this.doc.createElementNS(Rt[te]||te,se):this.doc.createElement(se)}createComment(se){return this.doc.createComment(se)}createText(se){return this.doc.createTextNode(se)}appendChild(se,te){(ft(se)?se.content:se).appendChild(te)}insertBefore(se,te,ie){se&&(ft(se)?se.content:se).insertBefore(te,ie)}removeChild(se,te){se&&se.removeChild(te)}selectRootElement(se,te){let ie="string"==typeof se?this.doc.querySelector(se):se;if(!ie)throw new E.vHH(-5104,!1);return te||(ie.textContent=""),ie}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,te,ie,Oe){if(Oe){te=Oe+":"+te;const gt=Rt[Oe];gt?se.setAttributeNS(gt,te,ie):se.setAttribute(te,ie)}else se.setAttribute(te,ie)}removeAttribute(se,te,ie){if(ie){const Oe=Rt[ie];Oe?se.removeAttributeNS(Oe,te):se.removeAttribute(`${ie}:${te}`)}else se.removeAttribute(te)}addClass(se,te){se.classList.add(te)}removeClass(se,te){se.classList.remove(te)}setStyle(se,te,ie,Oe){Oe&(E.JOm.DashCase|E.JOm.Important)?se.style.setProperty(te,ie,Oe&E.JOm.Important?"important":""):se.style[te]=ie}removeStyle(se,te,ie){ie&E.JOm.DashCase?se.style.removeProperty(te):se.style[te]=""}setProperty(se,te,ie){se[te]=ie}setValue(se,te){se.nodeValue=te}listen(se,te,ie){if("string"==typeof se&&!(se=(0,B.q)().getGlobalEventTarget(this.doc,se)))throw new Error(`Unsupported event target ${se} for event ${te}`);return this.eventManager.addEventListener(se,te,this.decoratePreventDefault(ie))}decoratePreventDefault(se){return te=>{if("__ngUnwrap__"===te)return se;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>se(te)):se(te))&&te.preventDefault()}}}function ft(ne){return"TEMPLATE"===ne.tagName&&void 0!==ne.content}class wn extends lt{constructor(se,te,ie,Oe,gt,kt,dn,Sn){super(se,gt,kt,Sn),this.sharedStylesHost=te,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nn=Ue(Oe.id,Oe.styles);for(const _n of Nn){const Ln=document.createElement("style");dn&&Ln.setAttribute("nonce",dn),Ln.textContent=_n,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}appendChild(se,te){return super.appendChild(this.nodeOrShadowRoot(se),te)}insertBefore(se,te,ie){return super.insertBefore(this.nodeOrShadowRoot(se),te,ie)}removeChild(se,te){return super.removeChild(this.nodeOrShadowRoot(se),te)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class er extends lt{constructor(se,te,ie,Oe,gt,kt,dn,Sn){super(se,gt,kt,dn),this.sharedStylesHost=te,this.removeStylesOnCompDestroy=Oe,this.styles=Sn?Ue(Sn,ie.styles):ie.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xt extends er{constructor(se,te,ie,Oe,gt,kt,dn,Sn){const Nn=Oe+"-"+ie.id;super(se,te,ie,gt,kt,dn,Sn,Nn),this.contentAttr=function Qe(ne){return"_ngcontent-%COMP%".replace(Yt,ne)}(Nn),this.hostAttr=function Le(ne){return"_nghost-%COMP%".replace(Yt,ne)}(Nn)}applyToHost(se){this.applyStyles(),this.setAttribute(se,this.hostAttr,"")}createElement(se,te){const ie=super.createElement(se,te);return super.setAttribute(ie,this.contentAttr,""),ie}}let vn=(()=>{class ne extends wt{constructor(te){super(te)}supports(te){return!0}addEventListener(te,ie,Oe){return te.addEventListener(ie,Oe,!1),()=>this.removeEventListener(te,ie,Oe)}removeEventListener(te,ie,Oe){return te.removeEventListener(ie,Oe)}static#e=this.\u0275fac=function(ie){return new(ie||ne)(E.LFG(B.K0))};static#t=this.\u0275prov=E.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const tn=["alt","control","meta","shift"],Me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Be={alt:ne=>ne.altKey,control:ne=>ne.ctrlKey,meta:ne=>ne.metaKey,shift:ne=>ne.shiftKey};let We=(()=>{class ne extends wt{constructor(te){super(te)}supports(te){return null!=ne.parseEventName(te)}addEventListener(te,ie,Oe){const gt=ne.parseEventName(ie),kt=ne.eventCallback(gt.fullKey,Oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,B.q)().onAndCancel(te,gt.domEventName,kt))}static parseEventName(te){const ie=te.toLowerCase().split("."),Oe=ie.shift();if(0===ie.length||"keydown"!==Oe&&"keyup"!==Oe)return null;const gt=ne._normalizeKey(ie.pop());let kt="",dn=ie.indexOf("code");if(dn>-1&&(ie.splice(dn,1),kt="code."),tn.forEach(Nn=>{const _n=ie.indexOf(Nn);_n>-1&&(ie.splice(_n,1),kt+=Nn+".")}),kt+=gt,0!=ie.length||0===gt.length)return null;const Sn={};return Sn.domEventName=Oe,Sn.fullKey=kt,Sn}static matchEventFullKeyCode(te,ie){let Oe=Me[te.key]||te.key,gt="";return ie.indexOf("code.")>-1&&(Oe=te.code,gt="code."),!(null==Oe||!Oe)&&(Oe=Oe.toLowerCase()," "===Oe?Oe="space":"."===Oe&&(Oe="dot"),tn.forEach(kt=>{kt!==Oe&&(0,Be[kt])(te)&&(gt+=kt+".")}),gt+=Oe,gt===ie)}static eventCallback(te,ie,Oe){return gt=>{ne.matchEventFullKeyCode(gt,te)&&Oe.runGuarded(()=>ie(gt))}}static _normalizeKey(te){return"esc"===te?"escape":te}static#e=this.\u0275fac=function(ie){return new(ie||ne)(E.LFG(B.K0))};static#t=this.\u0275prov=E.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const Ft=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:B.bD},{provide:E.g9A,useValue:function Qt(){y.makeCurrent()},multi:!0},{provide:B.K0,useFactory:function mn(){return(0,E.RDi)(document),document},deps:[]}]),Yn=new E.OlP(""),tr=[{provide:E.rWj,useClass:class Ye{addToWindow(se){E.dqk.getAngularTestability=(ie,Oe=!0)=>{const gt=se.findTestabilityInTree(ie,Oe);if(null==gt)throw new E.vHH(5103,!1);return gt},E.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(ie=>{const Oe=E.dqk.getAllAngularTestabilities();let gt=Oe.length,kt=!1;const dn=function(Sn){kt=kt||Sn,gt--,0==gt&&ie(kt)};Oe.forEach(Sn=>{Sn.whenStable(dn)})})}findTestabilityInTree(se,te,ie){return null==te?null:se.getTestability(te)??(ie?(0,B.q)().isShadowRoot(te)?this.findTestabilityInTree(se,te.host,!0):this.findTestabilityInTree(se,te.parentElement,!0):null)}},deps:[]},{provide:E.lri,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]}],ni=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function An(){return new E.qLn},deps:[]},{provide:Ie,useClass:vn,multi:!0,deps:[B.K0,E.R0b,E.Lbi]},{provide:Ie,useClass:We,multi:!0,deps:[B.K0]},je,pt,ze,{provide:E.FYo,useExisting:je},{provide:B.JF,useClass:de,deps:[]},[]];let ae=(()=>{class ne{constructor(te){}static withServerTransition(te){return{ngModule:ne,providers:[{provide:E.AFp,useValue:te.appId}]}}static#e=this.\u0275fac=function(ie){return new(ie||ne)(E.LFG(Yn,12))};static#t=this.\u0275mod=E.oAB({type:ne});static#n=this.\u0275inj=E.cJS({providers:[...ni,...tr],imports:[B.ez,E.hGG]})}return ne})(),$e=(()=>{class ne{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}static#e=this.\u0275fac=function(ie){return new(ie||ne)(E.LFG(B.K0))};static#t=this.\u0275prov=E.Yz7({token:ne,factory:function(ie){let Oe=null;return Oe=ie?new ie:function Se(){return new $e((0,E.LFG)(B.K0))}(),Oe},providedIn:"root"})}return ne})();typeof window<"u"&&window;let Gn=(()=>{class ne{static#e=this.\u0275fac=function(ie){return new(ie||ne)};static#t=this.\u0275prov=E.Yz7({token:ne,factory:function(ie){let Oe=null;return Oe=ie?new(ie||ne):E.LFG(Ir),Oe},providedIn:"root"})}return ne})(),Ir=(()=>{class ne extends Gn{constructor(te){super(),this._doc=te}sanitize(te,ie){if(null==ie)return null;switch(te){case E.q3G.NONE:return ie;case E.q3G.HTML:return(0,E.qzn)(ie,"HTML")?(0,E.z3N)(ie):(0,E.EiD)(this._doc,String(ie)).toString();case E.q3G.STYLE:return(0,E.qzn)(ie,"Style")?(0,E.z3N)(ie):ie;case E.q3G.SCRIPT:if((0,E.qzn)(ie,"Script"))return(0,E.z3N)(ie);throw new E.vHH(5200,!1);case E.q3G.URL:return(0,E.qzn)(ie,"URL")?(0,E.z3N)(ie):(0,E.mCW)(String(ie));case E.q3G.RESOURCE_URL:if((0,E.qzn)(ie,"ResourceURL"))return(0,E.z3N)(ie);throw new E.vHH(5201,!1);default:throw new E.vHH(5202,!1)}}bypassSecurityTrustHtml(te){return(0,E.JVY)(te)}bypassSecurityTrustStyle(te){return(0,E.L6k)(te)}bypassSecurityTrustScript(te){return(0,E.eBb)(te)}bypassSecurityTrustUrl(te){return(0,E.LAX)(te)}bypassSecurityTrustResourceUrl(te){return(0,E.pB0)(te)}static#e=this.\u0275fac=function(ie){return new(ie||ne)(E.LFG(B.K0))};static#t=this.\u0275prov=E.Yz7({token:ne,factory:function(ie){let Oe=null;return Oe=ie?new ie:function On(ne){return new Ir(ne.get(B.K0))}(E.LFG(E.zs3)),Oe},providedIn:"root"})}return ne})()},6024:(Lt,Ke,$)=>{$.d(Ke,{F0:()=>vo,rH:()=>io,Od:()=>Sp,Bz:()=>Nl,lC:()=>us});var E=$(9468),B=$(5592),Fe=$(4674),ce=$(2459),he=$(2096),Ae=$(5619),Ce=$(7453),Ye=$(2737),de=$(7400),Ie=$(9940),ze=$(2714),wt=$(8251),it=$(7103);function pt(...D){const M=(0,Ie.yG)(D),I=(0,Ie.jO)(D),{args:O,keys:U}=(0,Ce.D)(D);if(0===O.length)return(0,ce.D)([],M);const re=new B.y(function Rt(D,M,I=Ye.y){return O=>{Yt(M,()=>{const{length:U}=D,re=new Array(U);let me=U,Je=U;for(let Ze=0;Ze<U;Ze++)Yt(M,()=>{const jt=(0,ce.D)(D[Ze],M);let kn=!1;jt.subscribe((0,wt.x)(O,ai=>{re[Ze]=ai,kn||(kn=!0,Je--),Je||O.next(I(re.slice()))},()=>{--me||O.complete()}))},O)},O)}}(O,M,U?me=>(0,ze.n)(U,me):Ye.y));return I?re.pipe((0,de.Z)(I)):re}function Yt(D,M,I){D?(0,it.f)(I,D,M):M()}var St=$(6973),$n=$(5211),Re=$(4829);function _e(D){return new B.y(M=>{(0,Re.Xf)(D()).subscribe(M)})}var xe=$(8407);function Qe(D,M){const I=(0,Fe.m)(D)?D:()=>D,O=U=>U.error(I());return new B.y(M?U=>M.schedule(O,0,U):O)}var Le=$(6232),Ue=$(7394),je=$(9360);function lt(){return(0,je.e)((D,M)=>{let I=null;D._refCount++;const O=(0,wt.x)(M,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(I=null);const U=D._connection,re=I;I=null,U&&(!re||U===re)&&U.unsubscribe(),M.unsubscribe()});D.subscribe(O),O.closed||(I=D.connect())})}class _t extends B.y{constructor(M,I){super(),this.source=M,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,je.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new Ue.w0;const I=this.getSubject();M.add(this.source.subscribe((0,wt.x)(I,void 0,()=>{this._teardown(),I.complete()},O=>{this._teardown(),I.error(O)},()=>this._teardown()))),M.closed&&(this._connection=null,M=Ue.w0.EMPTY)}return M}refCount(){return lt()(this)}}var Xn=$(8645),ft=$(6814),wn=$(7398),er=$(4664),xt=$(8180),vn=$(7921),tn=$(2181),Me=$(1631);function Be(D){return(0,je.e)((M,I)=>{let O=!1;M.subscribe((0,wt.x)(I,U=>{O=!0,I.next(U)},()=>{O||I.next(D),I.complete()}))})}function We(D=st){return(0,je.e)((M,I)=>{let O=!1;M.subscribe((0,wt.x)(I,U=>{O=!0,I.next(U)},()=>O?I.complete():I.error(D())))})}function st(){return new St.K}function yt(D,M){const I=arguments.length>=2;return O=>O.pipe(D?(0,tn.h)((U,re)=>D(U,re,O)):Ye.y,(0,xt.q)(1),I?Be(M):We(()=>new St.K))}function It(D,M){return(0,Fe.m)(M)?(0,Me.z)(D,M,1):(0,Me.z)(D,1)}var Zt=$(9397);function Qt(D){return(0,je.e)((M,I)=>{let re,O=null,U=!1;O=M.subscribe((0,wt.x)(I,void 0,void 0,me=>{re=(0,Re.Xf)(D(me,Qt(D)(M))),O?(O.unsubscribe(),O=null,re.subscribe(I)):U=!0})),U&&(O.unsubscribe(),O=null,re.subscribe(I))})}function Dn(D){return D<=0?()=>Le.E:(0,je.e)((M,I)=>{let O=[];M.subscribe((0,wt.x)(I,U=>{O.push(U),D<O.length&&O.shift()},()=>{for(const U of O)I.next(U);I.complete()},void 0,()=>{O=null}))})}var Yn=$(975);function tr(D){return(0,je.e)((M,I)=>{try{M.subscribe(I)}finally{I.add(D)}})}var ni=$(9773),ae=$(7537),ue=$(6593);const Y="primary",ve=Symbol("RouteTitle");class Se{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const I=this.params[M];return Array.isArray(I)?I[0]:I}return null}getAll(M){if(this.has(M)){const I=this.params[M];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function $e(D){return new Se(D)}function Ot(D,M,I){const O=I.path.split("/");if(O.length>D.length||"full"===I.pathMatch&&(M.hasChildren()||O.length<D.length))return null;const U={};for(let re=0;re<O.length;re++){const me=O[re],Je=D[re];if(me.startsWith(":"))U[me.substring(1)]=Je;else if(me!==Je.path)return null}return{consumed:D.slice(0,O.length),posParams:U}}function en(D,M){const I=D?Object.keys(D):void 0,O=M?Object.keys(M):void 0;if(!I||!O||I.length!=O.length)return!1;let U;for(let re=0;re<I.length;re++)if(U=I[re],!rn(D[U],M[U]))return!1;return!0}function rn(D,M){if(Array.isArray(D)&&Array.isArray(M)){if(D.length!==M.length)return!1;const I=[...D].sort(),O=[...M].sort();return I.every((U,re)=>O[re]===U)}return D===M}function fn(D){return D.length>0?D[D.length-1]:null}function cr(D){return function y(D){return!!D&&(D instanceof B.y||(0,Fe.m)(D.lift)&&(0,Fe.m)(D.subscribe))}(D)?D:(0,E.QGY)(D)?(0,ce.D)(Promise.resolve(D)):(0,he.of)(D)}const ln={exact:function pr(D,M,I){if(!Vi(D.segments,M.segments)||!cs(D.segments,M.segments,I)||D.numberOfChildren!==M.numberOfChildren)return!1;for(const O in M.children)if(!D.children[O]||!pr(D.children[O],M.children[O],I))return!1;return!0},subset:Mr},dr={exact:function zn(D,M){return en(D,M)},subset:function Wn(D,M){return Object.keys(M).length<=Object.keys(D).length&&Object.keys(M).every(I=>rn(D[I],M[I]))},ignored:()=>!0};function fr(D,M,I){return ln[I.paths](D.root,M.root,I.matrixParams)&&dr[I.queryParams](D.queryParams,M.queryParams)&&!("exact"===I.fragment&&D.fragment!==M.fragment)}function Mr(D,M,I){return qn(D,M,M.segments,I)}function qn(D,M,I,O){if(D.segments.length>I.length){const U=D.segments.slice(0,I.length);return!(!Vi(U,I)||M.hasChildren()||!cs(U,I,O))}if(D.segments.length===I.length){if(!Vi(D.segments,I)||!cs(D.segments,I,O))return!1;for(const U in M.children)if(!D.children[U]||!Mr(D.children[U],M.children[U],O))return!1;return!0}{const U=I.slice(0,D.segments.length),re=I.slice(D.segments.length);return!!(Vi(D.segments,U)&&cs(D.segments,U,O)&&D.children[Y])&&qn(D.children[Y],M,re,O)}}function cs(D,M,I){return M.every((O,U)=>dr[I](D[U].parameters,O.parameters))}class Pn{constructor(M=new Gn([],{}),I={},O=null){this.root=M,this.queryParams=I,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return pi.serialize(this)}}class Gn{constructor(M,I){this.segments=M,this.children=I,this.parent=null,Object.values(I).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Si(this)}}class On{constructor(M,I){this.path=M,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=$e(this.parameters)),this._parameterMap}toString(){return gt(this)}}function Vi(D,M){return D.length===M.length&&D.every((I,O)=>I.path===M[O].path)}let yi=(()=>{class D{static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=E.Yz7({token:D,factory:function(){return new Wi},providedIn:"root"})}return D})();class Wi{parse(M){const I=new He(M);return new Pn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(M){const I=`/${Bi(M.root,!0)}`,O=function dn(D){const M=Object.keys(D).map(I=>{const O=D[I];return Array.isArray(O)?O.map(U=>`${ne(I)}=${ne(U)}`).join("&"):`${ne(I)}=${ne(O)}`}).filter(I=>!!I);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${I}${O}${"string"==typeof M.fragment?`#${function se(D){return encodeURI(D)}(M.fragment)}`:""}`}}const pi=new Wi;function Si(D){return D.segments.map(M=>gt(M)).join("/")}function Bi(D,M){if(!D.hasChildren())return Si(D);if(M){const I=D.children[Y]?Bi(D.children[Y],!1):"",O=[];return Object.entries(D.children).forEach(([U,re])=>{U!==Y&&O.push(`${U}:${Bi(re,!1)}`)}),O.length>0?`${I}(${O.join("//")})`:I}{const I=function Vs(D,M){let I=[];return Object.entries(D.children).forEach(([O,U])=>{O===Y&&(I=I.concat(M(U,O)))}),Object.entries(D.children).forEach(([O,U])=>{O!==Y&&(I=I.concat(M(U,O)))}),I}(D,(O,U)=>U===Y?[Bi(D.children[Y],!1)]:[`${U}:${Bi(O,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Y]?`${Si(D)}/${I[0]}`:`${Si(D)}/(${I.join("//")})`}}function we(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ne(D){return we(D).replace(/%3B/gi,";")}function te(D){return we(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ie(D){return decodeURIComponent(D)}function Oe(D){return ie(D.replace(/\+/g,"%20"))}function gt(D){return`${te(D.path)}${function kt(D){return Object.keys(D).map(M=>`;${te(M)}=${te(D[M])}`).join("")}(D.parameters)}`}const Sn=/^[^\/()?;#]+/;function Nn(D){const M=D.match(Sn);return M?M[0]:""}const _n=/^[^\/()?;=#]+/,ri=/^[^=?&#]+/,Ui=/^[^&#]+/;class He{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(M.length>0||Object.keys(I).length>0)&&(O[Y]=new Gn(M,I)),O}parseSegment(){const M=Nn(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new E.vHH(4009,!1);return this.capture(M),new On(ie(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const I=function Ln(D){const M=D.match(_n);return M?M[0]:""}(this.remaining);if(!I)return;this.capture(I);let O="";if(this.consumeOptional("=")){const U=Nn(this.remaining);U&&(O=U,this.capture(O))}M[ie(I)]=ie(O)}parseQueryParam(M){const I=function nr(D){const M=D.match(ri);return M?M[0]:""}(this.remaining);if(!I)return;this.capture(I);let O="";if(this.consumeOptional("=")){const me=function tt(D){const M=D.match(Ui);return M?M[0]:""}(this.remaining);me&&(O=me,this.capture(O))}const U=Oe(I),re=Oe(O);if(M.hasOwnProperty(U)){let me=M[U];Array.isArray(me)||(me=[me],M[U]=me),me.push(re)}else M[U]=re}parseParens(M){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Nn(this.remaining),U=this.remaining[O.length];if("/"!==U&&")"!==U&&";"!==U)throw new E.vHH(4010,!1);let re;O.indexOf(":")>-1?(re=O.slice(0,O.indexOf(":")),this.capture(re),this.capture(":")):M&&(re=Y);const me=this.parseChildren();I[re]=1===Object.keys(me).length?me[Y]:new Gn([],me),this.consumeOptional("//")}return I}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new E.vHH(4011,!1)}}function bt(D){return D.segments.length>0?new Gn([],{[Y]:D}):D}function Jt(D){const M={};for(const O of Object.keys(D.children)){const re=Jt(D.children[O]);if(O===Y&&0===re.segments.length&&re.hasChildren())for(const[me,Je]of Object.entries(re.children))M[me]=Je;else(re.segments.length>0||re.hasChildren())&&(M[O]=re)}return function Rn(D){if(1===D.numberOfChildren&&D.children[Y]){const M=D.children[Y];return new Gn(D.segments.concat(M.segments),M.children)}return D}(new Gn(D.segments,M))}function pn(D){return D instanceof Pn}function Br(D){let M;const U=bt(function I(re){const me={};for(const Ze of re.children){const jt=I(Ze);me[Ze.outlet]=jt}const Je=new Gn(re.url,me);return re===D&&(M=Je),Je}(D.root));return M??U}function rr(D,M,I,O){let U=D;for(;U.parent;)U=U.parent;if(0===M.length)return ys(U,U,U,I,O);const re=function Pi(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new $o(!0,0,D);let M=0,I=!1;const O=D.reduce((U,re,me)=>{if("object"==typeof re&&null!=re){if(re.outlets){const Je={};return Object.entries(re.outlets).forEach(([Ze,jt])=>{Je[Ze]="string"==typeof jt?jt.split("/"):jt}),[...U,{outlets:Je}]}if(re.segmentPath)return[...U,re.segmentPath]}return"string"!=typeof re?[...U,re]:0===me?(re.split("/").forEach((Je,Ze)=>{0==Ze&&"."===Je||(0==Ze&&""===Je?I=!0:".."===Je?M++:""!=Je&&U.push(Je))}),U):[...U,re]},[]);return new $o(I,M,O)}(M);if(re.toRoot())return ys(U,U,new Gn([],{}),I,O);const me=function Sa(D,M,I){if(D.isAbsolute)return new ii(M,!0,0);if(!I)return new ii(M,!1,NaN);if(null===I.parent)return new ii(I,!0,0);const O=Vn(D.commands[0])?0:1;return function vi(D,M,I){let O=D,U=M,re=I;for(;re>U;){if(re-=U,O=O.parent,!O)throw new E.vHH(4005,!1);U=O.segments.length}return new ii(O,!1,U-re)}(I,I.segments.length-1+O,D.numberOfDoubleDots)}(re,U,D),Je=me.processChildren?ji(me.segmentGroup,me.index,re.commands):na(me.segmentGroup,me.index,re.commands);return ys(U,me.segmentGroup,Je,I,O)}function Vn(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function gi(D){return"object"==typeof D&&null!=D&&D.outlets}function ys(D,M,I,O,U){let me,re={};O&&Object.entries(O).forEach(([Ze,jt])=>{re[Ze]=Array.isArray(jt)?jt.map(kn=>`${kn}`):`${jt}`}),me=D===M?I:Hi(D,M,I);const Je=bt(Jt(me));return new Pn(Je,re,U)}function Hi(D,M,I){const O={};return Object.entries(D.children).forEach(([U,re])=>{O[U]=re===M?I:Hi(re,M,I)}),new Gn(D.segments,O)}class $o{constructor(M,I,O){if(this.isAbsolute=M,this.numberOfDoubleDots=I,this.commands=O,M&&O.length>0&&Vn(O[0]))throw new E.vHH(4003,!1);const U=O.find(gi);if(U&&U!==fn(O))throw new E.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ii{constructor(M,I,O){this.segmentGroup=M,this.processChildren=I,this.index=O}}function na(D,M,I){if(D||(D=new Gn([],{})),0===D.segments.length&&D.hasChildren())return ji(D,M,I);const O=function Js(D,M,I){let O=0,U=M;const re={match:!1,pathIndex:0,commandIndex:0};for(;U<D.segments.length;){if(O>=I.length)return re;const me=D.segments[U],Je=I[O];if(gi(Je))break;const Ze=`${Je}`,jt=O<I.length-1?I[O+1]:null;if(U>0&&void 0===Ze)break;if(Ze&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!yn(Ze,jt,me))return re;O+=2}else{if(!yn(Ze,{},me))return re;O++}U++}return{match:!0,pathIndex:U,commandIndex:O}}(D,M,I),U=I.slice(O.commandIndex);if(O.match&&O.pathIndex<D.segments.length){const re=new Gn(D.segments.slice(0,O.pathIndex),{});return re.children[Y]=new Gn(D.segments.slice(O.pathIndex),D.children),ji(re,0,U)}return O.match&&0===U.length?new Gn(D.segments,{}):O.match&&!D.hasChildren()?Bt(D,M,I):O.match?ji(D,0,U):Bt(D,M,I)}function ji(D,M,I){if(0===I.length)return new Gn(D.segments,{});{const O=function Kr(D){return gi(D[0])?D[0].outlets:{[Y]:D}}(I),U={};if(Object.keys(O).some(re=>re!==Y)&&D.children[Y]&&1===D.numberOfChildren&&0===D.children[Y].segments.length){const re=ji(D.children[Y],M,I);return new Gn(D.segments,re.children)}return Object.entries(O).forEach(([re,me])=>{"string"==typeof me&&(me=[me]),null!==me&&(U[re]=na(D.children[re],M,me))}),Object.entries(D.children).forEach(([re,me])=>{void 0===O[re]&&(U[re]=me)}),new Gn(D.segments,U)}}function Bt(D,M,I){const O=D.segments.slice(0,M);let U=0;for(;U<I.length;){const re=I[U];if(gi(re)){const Ze=At(re.outlets);return new Gn(O,Ze)}if(0===U&&Vn(I[0])){O.push(new On(D.segments[M].path,$t(I[0]))),U++;continue}const me=gi(re)?re.outlets[Y]:`${re}`,Je=U<I.length-1?I[U+1]:null;me&&Je&&Vn(Je)?(O.push(new On(me,$t(Je))),U+=2):(O.push(new On(me,{})),U++)}return new Gn(O,{})}function At(D){const M={};return Object.entries(D).forEach(([I,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(M[I]=Bt(new Gn([],{}),0,O))}),M}function $t(D){const M={};return Object.entries(D).forEach(([I,O])=>M[I]=`${O}`),M}function yn(D,M,I){return D==I.path&&en(M,I.parameters)}const ci="imperative";class yr{constructor(M,I){this.id=M,this.url=I}}class vr extends yr{constructor(M,I,O="imperative",U=null){super(M,I),this.type=0,this.navigationTrigger=O,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qi extends yr{constructor(M,I,O){super(M,I),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ei extends yr{constructor(M,I,O,U){super(M,I),this.reason=O,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bs extends yr{constructor(M,I,O,U){super(M,I),this.reason=O,this.code=U,this.type=16}}class qs extends yr{constructor(M,I,O,U){super(M,I),this.error=O,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vs extends yr{constructor(M,I,O,U){super(M,I),this.urlAfterRedirects=O,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dl extends yr{constructor(M,I,O,U){super(M,I),this.urlAfterRedirects=O,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ra extends yr{constructor(M,I,O,U,re){super(M,I),this.urlAfterRedirects=O,this.state=U,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aa extends yr{constructor(M,I,O,U){super(M,I),this.urlAfterRedirects=O,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go extends yr{constructor(M,I,O,U){super(M,I),this.urlAfterRedirects=O,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xs{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Us{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ia{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eo{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(M,I,O){this.routerEvent=M,this.position=I,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ra{}class Ns{constructor(M){this.url=M}}class Jn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pr,this.attachRef=null}}let Pr=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(I,O){const U=this.getOrCreateContext(I);U.outlet=O,this.contexts.set(I,U)}onChildOutletDestroyed(I){const O=this.getContext(I);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let O=this.getContext(I);return O||(O=new Jn,this.contexts.set(I,O)),O}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();class Ai{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const I=this.pathFromRoot(M);return I.length>1?I[I.length-2]:null}children(M){const I=ir(M,this._root);return I?I.children.map(O=>O.value):[]}firstChild(M){const I=ir(M,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(M){const I=si(M,this._root);return I.length<2?[]:I[I.length-2].children.map(U=>U.value).filter(U=>U!==M)}pathFromRoot(M){return si(M,this._root).map(I=>I.value)}}function ir(D,M){if(D===M.value)return M;for(const I of M.children){const O=ir(D,I);if(O)return O}return null}function si(D,M){if(D===M.value)return[M];for(const I of M.children){const O=si(D,I);if(O.length)return O.unshift(M),O}return[]}class Ri{constructor(M,I){this.value=M,this.children=I}toString(){return`TreeNode(${this.value})`}}function Es(D){const M={};return D&&D.children.forEach(I=>M[I.value.outlet]=I),M}class So extends Ai{constructor(M,I){super(M),this.snapshot=I,bs(this,M)}toString(){return this.snapshot.toString()}}function sa(D,M){const I=function Na(D,M){const me=new Or([],{},{},"",{},Y,M,null,{});return new oi("",new Ri(me,[]))}(0,M),O=new Ae.X([new On("",{})]),U=new Ae.X({}),re=new Ae.X({}),me=new Ae.X({}),Je=new Ae.X(""),Ze=new Er(O,U,me,Je,re,Y,M,I.root);return Ze.snapshot=I.root,new So(new Ri(Ze,[]),I)}class Er{constructor(M,I,O,U,re,me,Je,Ze){this.urlSubject=M,this.paramsSubject=I,this.queryParamsSubject=O,this.fragmentSubject=U,this.dataSubject=re,this.outlet=me,this.component=Je,this._futureSnapshot=Ze,this.title=this.dataSubject?.pipe((0,wn.U)(jt=>jt[ve]))??(0,he.of)(void 0),this.url=M,this.params=I,this.queryParams=O,this.fragment=U,this.data=re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wn.U)(M=>$e(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wn.U)(M=>$e(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zt(D,M="emptyOnly"){const I=D.pathFromRoot;let O=0;if("always"!==M)for(O=I.length-1;O>=1;){const U=I[O],re=I[O-1];if(U.routeConfig&&""===U.routeConfig.path)O--;else{if(re.component)break;O--}}return function Kn(D){return D.reduce((M,I)=>({params:{...M.params,...I.params},data:{...M.data,...I.data},resolve:{...I.data,...M.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(O))}class Or{get title(){return this.data?.[ve]}constructor(M,I,O,U,re,me,Je,Ze,jt){this.url=M,this.params=I,this.queryParams=O,this.fragment=U,this.data=re,this.outlet=me,this.component=Je,this.routeConfig=Ze,this._resolve=jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$e(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oi extends Ai{constructor(M,I){super(I),this.url=M,bs(this,I)}toString(){return Wr(this._root)}}function bs(D,M){M.value._routerState=D,M.children.forEach(I=>bs(D,I))}function Wr(D){const M=D.children.length>0?` { ${D.children.map(Wr).join(", ")} } `:"";return`${D.value}${M}`}function no(D){if(D.snapshot){const M=D.snapshot,I=D._futureSnapshot;D.snapshot=I,en(M.queryParams,I.queryParams)||D.queryParamsSubject.next(I.queryParams),M.fragment!==I.fragment&&D.fragmentSubject.next(I.fragment),en(M.params,I.params)||D.paramsSubject.next(I.params),function Xt(D,M){if(D.length!==M.length)return!1;for(let I=0;I<D.length;++I)if(!en(D[I],M[I]))return!1;return!0}(M.url,I.url)||D.urlSubject.next(I.url),en(M.data,I.data)||D.dataSubject.next(I.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function xr(D,M){const I=en(D.params,M.params)&&function Ir(D,M){return Vi(D,M)&&D.every((I,O)=>en(I.parameters,M[O].parameters))}(D.url,M.url);return I&&!(!D.parent!=!M.parent)&&(!D.parent||xr(D.parent,M.parent))}let us=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Y,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.parentContexts=(0,E.f3M)(Pr),this.location=(0,E.f3M)(E.s_b),this.changeDetector=(0,E.f3M)(E.sBO),this.environmentInjector=(0,E.f3M)(E.lqb),this.inputBinder=(0,E.f3M)(xn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:O,previousValue:U}=I.name;if(O)return;this.isTrackedInParentContexts(U)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(U)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E.vHH(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,O){this.activated=I,this._activatedRoute=O,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,O){if(this.isActivated)throw new E.vHH(4013,!1);this._activatedRoute=I;const U=this.location,me=I.snapshot.component,Je=this.parentContexts.getOrCreateContext(this.name).children,Ze=new oa(I,Je,U.injector);this.activated=U.createComponent(me,{index:U.length,injector:Ze,environmentInjector:O??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275dir=E.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[E.TTD]})}return D})();class oa{constructor(M,I,O){this.route=M,this.childContexts=I,this.parent=O}get(M,I){return M===Er?this.route:M===Pr?this.childContexts:this.parent.get(M,I)}}const xn=new E.OlP("");let ma=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:O}=I,U=pt([O.queryParams,O.params,O.data]).pipe((0,er.w)(([re,me,Je],Ze)=>(Je={...re,...me,...Je},0===Ze?(0,he.of)(Je):Promise.resolve(Je)))).subscribe(re=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(I);const me=(0,E.qFp)(O.component);if(me)for(const{templateName:Je}of me.inputs)I.activatedComponentRef.setInput(Je,re[Je]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,U)}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac})}return D})();function Ts(D,M,I){if(I&&D.shouldReuseRoute(M.value,I.value.snapshot)){const O=I.value;O._futureSnapshot=M.value;const U=function Lr(D,M,I){return M.children.map(O=>{for(const U of I.children)if(D.shouldReuseRoute(O.value,U.value.snapshot))return Ts(D,O,U);return Ts(D,O)})}(D,M,I);return new Ri(O,U)}{if(D.shouldAttach(M.value)){const re=D.retrieve(M.value);if(null!==re){const me=re.route;return me.value._futureSnapshot=M.value,me.children=M.children.map(Je=>Ts(D,Je)),me}}const O=function Ao(D){return new Er(new Ae.X(D.url),new Ae.X(D.params),new Ae.X(D.queryParams),new Ae.X(D.fragment),new Ae.X(D.data),D.outlet,D.component,D)}(M.value),U=M.children.map(re=>Ts(D,re));return new Ri(O,U)}}const Ks="ngNavigationCancelingError";function $i(D,M){const{redirectTo:I,navigationBehaviorOptions:O}=pn(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,U=ns(!1,0,M);return U.url=I,U.navigationBehaviorOptions=O,U}function ns(D,M,I){const O=new Error("NavigationCancelingError: "+(D||""));return O[Ks]=!0,O.cancellationCode=M,I&&(O.url=I),O}function fo(D){return D&&D[Ks]}let ds=(()=>{class D{static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275cmp=E.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[E.jDz],decls:1,vars:0,template:function(O,U){1&O&&E._UZ(0,"router-outlet")},dependencies:[us],encapsulation:2})}return D})();function rs(D){const M=D.children&&D.children.map(rs),I=M?{...D,children:M}:{...D};return!I.component&&!I.loadComponent&&(M||I.loadChildren)&&I.outlet&&I.outlet!==Y&&(I.component=ds),I}function Zr(D){return D.outlet||Y}function Ki(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let M=D.parent;M;M=M.parent){const I=M.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class bi{constructor(M,I,O,U,re){this.routeReuseStrategy=M,this.futureState=I,this.currState=O,this.forwardEvent=U,this.inputBindingEnabled=re}activate(M){const I=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,O,M),no(this.futureState.root),this.activateChildRoutes(I,O,M)}deactivateChildRoutes(M,I,O){const U=Es(I);M.children.forEach(re=>{const me=re.value.outlet;this.deactivateRoutes(re,U[me],O),delete U[me]}),Object.values(U).forEach(re=>{this.deactivateRouteAndItsChildren(re,O)})}deactivateRoutes(M,I,O){const U=M.value,re=I?I.value:null;if(U===re)if(U.component){const me=O.getContext(U.outlet);me&&this.deactivateChildRoutes(M,I,me.children)}else this.deactivateChildRoutes(M,I,O);else re&&this.deactivateRouteAndItsChildren(I,O)}deactivateRouteAndItsChildren(M,I){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,I):this.deactivateRouteAndOutlet(M,I)}detachAndStoreRouteSubtree(M,I){const O=I.getContext(M.value.outlet),U=O&&M.value.component?O.children:I,re=Es(M);for(const me of Object.keys(re))this.deactivateRouteAndItsChildren(re[me],U);if(O&&O.outlet){const me=O.outlet.detach(),Je=O.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:me,route:M,contexts:Je})}}deactivateRouteAndOutlet(M,I){const O=I.getContext(M.value.outlet),U=O&&M.value.component?O.children:I,re=Es(M);for(const me of Object.keys(re))this.deactivateRouteAndItsChildren(re[me],U);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(M,I,O){const U=Es(I);M.children.forEach(re=>{this.activateRoutes(re,U[re.value.outlet],O),this.forwardEvent(new eo(re.value.snapshot))}),M.children.length&&this.forwardEvent(new ia(M.value.snapshot))}activateRoutes(M,I,O){const U=M.value,re=I?I.value:null;if(no(U),U===re)if(U.component){const me=O.getOrCreateContext(U.outlet);this.activateChildRoutes(M,I,me.children)}else this.activateChildRoutes(M,I,O);else if(U.component){const me=O.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Je=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),me.children.onOutletReAttached(Je.contexts),me.attachRef=Je.componentRef,me.route=Je.route.value,me.outlet&&me.outlet.attach(Je.componentRef,Je.route.value),no(Je.route.value),this.activateChildRoutes(M,null,me.children)}else{const Je=Ki(U.snapshot);me.attachRef=null,me.route=U,me.injector=Je,me.outlet&&me.outlet.activateWith(U,me.injector),this.activateChildRoutes(M,null,me.children)}}else this.activateChildRoutes(M,null,O)}}class go{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class ui{constructor(M,I){this.component=M,this.route=I}}function Yi(D,M,I){const O=D._root;return q(O,M?M._root:null,I,[O.value])}function z(D,M){const I=Symbol(),O=M.get(D,I);return O===I?"function"!=typeof D||(0,E.Z0I)(D)?M.get(D):D:O}function q(D,M,I,O,U={canDeactivateChecks:[],canActivateChecks:[]}){const re=Es(M);return D.children.forEach(me=>{(function ye(D,M,I,O,U={canDeactivateChecks:[],canActivateChecks:[]}){const re=D.value,me=M?M.value:null,Je=I?I.getContext(D.value.outlet):null;if(me&&re.routeConfig===me.routeConfig){const Ze=function Ee(D,M,I){if("function"==typeof I)return I(D,M);switch(I){case"pathParamsChange":return!Vi(D.url,M.url);case"pathParamsOrQueryParamsChange":return!Vi(D.url,M.url)||!en(D.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xr(D,M)||!en(D.queryParams,M.queryParams);default:return!xr(D,M)}}(me,re,re.routeConfig.runGuardsAndResolvers);Ze?U.canActivateChecks.push(new go(O)):(re.data=me.data,re._resolvedData=me._resolvedData),q(D,M,re.component?Je?Je.children:null:I,O,U),Ze&&Je&&Je.outlet&&Je.outlet.isActivated&&U.canDeactivateChecks.push(new ui(Je.outlet.component,me))}else me&&Ve(M,Je,U),U.canActivateChecks.push(new go(O)),q(D,null,re.component?Je?Je.children:null:I,O,U)})(me,re[me.value.outlet],I,O.concat([me.value]),U),delete re[me.value.outlet]}),Object.entries(re).forEach(([me,Je])=>Ve(Je,I.getContext(me),U)),U}function Ve(D,M,I){const O=Es(D),U=D.value;Object.entries(O).forEach(([re,me])=>{Ve(me,U.component?M?M.children.getContext(re):null:M,I)}),I.canDeactivateChecks.push(new ui(U.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,U))}function ct(D){return"function"==typeof D}function Qr(D){return D instanceof St.K||"EmptyError"===D?.name}const qr=Symbol("INITIAL_VALUE");function Dr(){return(0,er.w)(D=>pt(D.map(M=>M.pipe((0,xt.q)(1),(0,vn.O)(qr)))).pipe((0,wn.U)(M=>{for(const I of M)if(!0!==I){if(I===qr)return qr;if(!1===I||I instanceof Pn)return I}return!0}),(0,tn.h)(M=>M!==qr),(0,xt.q)(1)))}function Qi(D){return(0,xe.z)((0,Zt.b)(M=>{if(pn(M))throw $i(0,M)}),(0,wn.U)(M=>!0===M))}class za{constructor(M){this.segmentGroup=M||null}}class Ea{constructor(M){this.urlTree=M}}function Cl(D){return Qe(new za(D))}function mo(D){return Qe(new Ea(D))}class Yl{constructor(M,I){this.urlSerializer=M,this.urlTree=I}noMatchError(M){return new E.vHH(4002,!1)}lineralizeSegments(M,I){let O=[],U=I.root;for(;;){if(O=O.concat(U.segments),0===U.numberOfChildren)return(0,he.of)(O);if(U.numberOfChildren>1||!U.children[Y])return Qe(new E.vHH(4e3,!1));U=U.children[Y]}}applyRedirectCommands(M,I,O){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),M,O)}applyRedirectCreateUrlTree(M,I,O,U){const re=this.createSegmentGroup(M,I.root,O,U);return new Pn(re,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(M,I){const O={};return Object.entries(M).forEach(([U,re])=>{if("string"==typeof re&&re.startsWith(":")){const Je=re.substring(1);O[U]=I[Je]}else O[U]=re}),O}createSegmentGroup(M,I,O,U){const re=this.createSegments(M,I.segments,O,U);let me={};return Object.entries(I.children).forEach(([Je,Ze])=>{me[Je]=this.createSegmentGroup(M,Ze,O,U)}),new Gn(re,me)}createSegments(M,I,O,U){return I.map(re=>re.path.startsWith(":")?this.findPosParam(M,re,U):this.findOrReturn(re,O))}findPosParam(M,I,O){const U=O[I.path.substring(1)];if(!U)throw new E.vHH(4001,!1);return U}findOrReturn(M,I){let O=0;for(const U of I){if(U.path===M.path)return I.splice(O),U;O++}return M}}const ca={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fo(D,M,I,O,U){const re=Lo(D,M,I);return re.matched?(O=function xo(D,M){return D.providers&&!D._injector&&(D._injector=(0,E.MMx)(D.providers,M,`Route: ${D.path}`)),D._injector??M}(M,O),function Ps(D,M,I,O){const U=M.canMatch;if(!U||0===U.length)return(0,he.of)(!0);const re=U.map(me=>{const Je=z(me,D);return cr(function Nt(D){return D&&ct(D.canMatch)}(Je)?Je.canMatch(M,I):D.runInContext(()=>Je(M,I)))});return(0,he.of)(re).pipe(Dr(),Qi())}(O,M,I).pipe((0,wn.U)(me=>!0===me?re:{...ca}))):(0,he.of)(re)}function Lo(D,M,I){if(""===M.path)return"full"===M.pathMatch&&(D.hasChildren()||I.length>0)?{...ca}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const U=(M.matcher||Ot)(I,D,M);if(!U)return{...ca};const re={};Object.entries(U.posParams??{}).forEach(([Je,Ze])=>{re[Je]=Ze.path});const me=U.consumed.length>0?{...re,...U.consumed[U.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:U.consumed,remainingSegments:I.slice(U.consumed.length),parameters:me,positionalParamSegments:U.posParams??{}}}function Wa(D,M,I,O){return I.length>0&&function qo(D,M,I){return I.some(O=>No(D,M,O)&&Zr(O)!==Y)}(D,I,O)?{segmentGroup:new Gn(M,Ji(O,new Gn(I,D.children))),slicedSegments:[]}:0===I.length&&function Ro(D,M,I){return I.some(O=>No(D,M,O))}(D,I,O)?{segmentGroup:new Gn(D.segments,_o(D,0,I,O,D.children)),slicedSegments:I}:{segmentGroup:new Gn(D.segments,D.children),slicedSegments:I}}function _o(D,M,I,O,U){const re={};for(const me of O)if(No(D,I,me)&&!U[Zr(me)]){const Je=new Gn([],{});re[Zr(me)]=Je}return{...U,...re}}function Ji(D,M){const I={};I[Y]=M;for(const O of D)if(""===O.path&&Zr(O)!==Y){const U=new Gn([],{});I[Zr(O)]=U}return I}function No(D,M,I){return(!(D.hasChildren()||M.length>0)||"full"!==I.pathMatch)&&""===I.path}class qa{constructor(M,I,O,U,re,me,Je){this.injector=M,this.configLoader=I,this.rootComponentType=O,this.config=U,this.urlTree=re,this.paramsInheritanceStrategy=me,this.urlSerializer=Je,this.allowRedirects=!0,this.applyRedirects=new Yl(this.urlSerializer,this.urlTree)}noMatchError(M){return new E.vHH(4002,!1)}recognize(){const M=Wa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,Y).pipe(Qt(I=>{if(I instanceof Ea)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof za?this.noMatchError(I):I}),(0,wn.U)(I=>{const O=new Or([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Y,this.rootComponentType,null,{}),U=new Ri(O,I),re=new oi("",U),me=function Qn(D,M,I=null,O=null){return rr(Br(D),M,I,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return me.queryParams=this.urlTree.queryParams,re.url=this.urlSerializer.serialize(me),this.inheritParamsAndData(re._root),{state:re,tree:me}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,Y).pipe(Qt(O=>{throw O instanceof za?this.noMatchError(O):O}))}inheritParamsAndData(M){const I=M.value,O=zt(I,this.paramsInheritanceStrategy);I.params=Object.freeze(O.params),I.data=Object.freeze(O.data),M.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(M,I,O,U){return 0===O.segments.length&&O.hasChildren()?this.processChildren(M,I,O):this.processSegment(M,I,O,O.segments,U,!0)}processChildren(M,I,O){const U=[];for(const re of Object.keys(O.children))"primary"===re?U.unshift(re):U.push(re);return(0,ce.D)(U).pipe(It(re=>{const me=O.children[re],Je=function Ga(D,M){const I=D.filter(O=>Zr(O)===M);return I.push(...D.filter(O=>Zr(O)!==M)),I}(I,re);return this.processSegmentGroup(M,Je,me,re)}),function mn(D,M){return(0,je.e)(function An(D,M,I,O,U){return(re,me)=>{let Je=I,Ze=M,jt=0;re.subscribe((0,wt.x)(me,kn=>{const ai=jt++;Ze=Je?D(Ze,kn,ai):(Je=!0,kn),O&&me.next(Ze)},U&&(()=>{Je&&me.next(Ze),me.complete()})))}}(D,M,arguments.length>=2,!0))}((re,me)=>(re.push(...me),re)),Be(null),function Ft(D,M){const I=arguments.length>=2;return O=>O.pipe(D?(0,tn.h)((U,re)=>D(U,re,O)):Ye.y,Dn(1),I?Be(M):We(()=>new St.K))}(),(0,Me.z)(re=>{if(null===re)return Cl(O);const me=yo(re);return function du(D){D.sort((M,I)=>M.value.outlet===Y?-1:I.value.outlet===Y?1:M.value.outlet.localeCompare(I.value.outlet))}(me),(0,he.of)(me)}))}processSegment(M,I,O,U,re,me){return(0,ce.D)(I).pipe(It(Je=>this.processSegmentAgainstRoute(Je._injector??M,I,Je,O,U,re,me).pipe(Qt(Ze=>{if(Ze instanceof za)return(0,he.of)(null);throw Ze}))),yt(Je=>!!Je),Qt(Je=>{if(Qr(Je))return function Sl(D,M,I){return 0===M.length&&!D.children[I]}(O,U,re)?(0,he.of)([]):Cl(O);throw Je}))}processSegmentAgainstRoute(M,I,O,U,re,me,Je){return function is(D,M,I,O){return!!(Zr(D)===O||O!==Y&&No(M,I,D))&&("**"===D.path||Lo(M,D,I).matched)}(O,U,re,me)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(M,U,O,re,me,Je):Je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,U,I,O,re,me):Cl(U):Cl(U)}expandSegmentAgainstRouteUsingRedirect(M,I,O,U,re,me){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,O,U,me):this.expandRegularSegmentAgainstRouteUsingRedirect(M,I,O,U,re,me)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,I,O,U){const re=this.applyRedirects.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?mo(re):this.applyRedirects.lineralizeSegments(O,re).pipe((0,Me.z)(me=>{const Je=new Gn(me,{});return this.processSegment(M,I,Je,me,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,I,O,U,re,me){const{matched:Je,consumedSegments:Ze,remainingSegments:jt,positionalParamSegments:kn}=Lo(I,U,re);if(!Je)return Cl(I);const ai=this.applyRedirects.applyRedirectCommands(Ze,U.redirectTo,kn);return U.redirectTo.startsWith("/")?mo(ai):this.applyRedirects.lineralizeSegments(U,ai).pipe((0,Me.z)($r=>this.processSegment(M,O,I,$r.concat(jt),me,!1)))}matchSegmentAgainstRoute(M,I,O,U,re,me){let Je;if("**"===O.path){const Ze=U.length>0?fn(U).parameters:{},jt=new Or(U,Ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,R(O),Zr(O),O.component??O._loadedComponent??null,O,J(O));Je=(0,he.of)({snapshot:jt,consumedSegments:[],remainingSegments:[]}),I.children={}}else Je=Fo(I,O,U,M).pipe((0,wn.U)(({matched:Ze,consumedSegments:jt,remainingSegments:kn,parameters:ai})=>Ze?{snapshot:new Or(jt,ai,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,R(O),Zr(O),O.component??O._loadedComponent??null,O,J(O)),consumedSegments:jt,remainingSegments:kn}:null));return Je.pipe((0,er.w)(Ze=>null===Ze?Cl(I):this.getChildConfig(M=O._injector??M,O,U).pipe((0,er.w)(({routes:jt})=>{const kn=O._loadedInjector??M,{snapshot:ai,consumedSegments:$r,remainingSegments:os}=Ze,{segmentGroup:hi,slicedSegments:Ss}=Wa(I,$r,os,jt);if(0===Ss.length&&hi.hasChildren())return this.processChildren(kn,jt,hi).pipe((0,wn.U)(ua=>null===ua?null:[new Ri(ai,ua)]));if(0===jt.length&&0===Ss.length)return(0,he.of)([new Ri(ai,[])]);const Ar=Zr(O)===re;return this.processSegment(kn,jt,hi,Ss,Ar?Y:re,!0).pipe((0,wn.U)(ua=>[new Ri(ai,ua)]))}))))}getChildConfig(M,I,O){return I.children?(0,he.of)({routes:I.children,injector:M}):I.loadChildren?void 0!==I._loadedRoutes?(0,he.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function di(D,M,I,O){const U=M.canLoad;if(void 0===U||0===U.length)return(0,he.of)(!0);const re=U.map(me=>{const Je=z(me,D);return cr(function j(D){return D&&ct(D.canLoad)}(Je)?Je.canLoad(M,I):D.runInContext(()=>Je(M,I)))});return(0,he.of)(re).pipe(Dr(),Qi())}(M,I,O).pipe((0,Me.z)(U=>U?this.configLoader.loadChildren(M,I).pipe((0,Zt.b)(re=>{I._loadedRoutes=re.routes,I._loadedInjector=re.injector})):function Ur(D){return Qe(ns(!1,3))}())):(0,he.of)({routes:[],injector:M})}}function ss(D){const M=D.value.routeConfig;return M&&""===M.path}function yo(D){const M=[],I=new Set;for(const O of D){if(!ss(O)){M.push(O);continue}const U=M.find(re=>O.value.routeConfig===re.value.routeConfig);void 0!==U?(U.children.push(...O.children),I.add(U)):M.push(O)}for(const O of I){const U=yo(O.children);M.push(new Ri(O.value,U))}return M.filter(O=>!I.has(O))}function R(D){return D.data||{}}function J(D){return D.resolve||{}}function Vr(D){return"string"==typeof D.title||null===D.title}function gr(D){return(0,er.w)(M=>{const I=D(M);return I?(0,ce.D)(I).pipe((0,wn.U)(()=>M)):(0,he.of)(M)})}const br=new E.OlP("ROUTES");let bn=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,E.f3M)(E.Sil)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,he.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const O=cr(I.loadComponent()).pipe((0,wn.U)(Ti),(0,Zt.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=re}),tr(()=>{this.componentLoaders.delete(I)})),U=new _t(O,()=>new Xn.x).pipe(lt());return this.componentLoaders.set(I,U),U}loadChildren(I,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,he.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const re=function mi(D,M,I,O){return cr(D.loadChildren()).pipe((0,wn.U)(Ti),(0,Me.z)(U=>U instanceof E.YKP||Array.isArray(U)?(0,he.of)(U):(0,ce.D)(M.compileModuleAsync(U))),(0,wn.U)(U=>{O&&O(D);let re,me,Je=!1;return Array.isArray(U)?(me=U,!0):(re=U.create(I).injector,me=re.get(br,[],{optional:!0,self:!0}).flat()),{routes:me.map(rs),injector:re}}))}(O,this.compiler,I,this.onLoadEndListener).pipe(tr(()=>{this.childrenLoaders.delete(O)})),me=new _t(re,()=>new Xn.x).pipe(lt());return this.childrenLoaders.set(O,me),me}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function Ti(D){return function kr(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Mo=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xn.x,this.transitionAbortSubject=new Xn.x,this.configLoader=(0,E.f3M)(bn),this.environmentInjector=(0,E.f3M)(E.lqb),this.urlSerializer=(0,E.f3M)(yi),this.rootContexts=(0,E.f3M)(Pr),this.inputBindingEnabled=null!==(0,E.f3M)(xn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=U=>this.events.next(new Xs(U)),this.configLoader.onLoadStartListener=U=>this.events.next(new Co(U))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:O})}setupNavigations(I,O,U){return this.transitions=new Ae.X({id:0,currentUrlTree:O,currentRawUrl:O,currentBrowserUrl:O,extractedUrl:I.urlHandlingStrategy.extract(O),urlAfterRedirects:I.urlHandlingStrategy.extract(O),rawUrl:O,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ci,restoredState:null,currentSnapshot:U.snapshot,targetSnapshot:null,currentRouterState:U,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,tn.h)(re=>0!==re.id),(0,wn.U)(re=>({...re,extractedUrl:I.urlHandlingStrategy.extract(re.rawUrl)})),(0,er.w)(re=>{this.currentTransition=re;let me=!1,Je=!1;return(0,he.of)(re).pipe((0,Zt.b)(Ze=>{this.currentNavigation={id:Ze.id,initialUrl:Ze.rawUrl,extractedUrl:Ze.extractedUrl,trigger:Ze.source,extras:Ze.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,er.w)(Ze=>{const jt=Ze.currentBrowserUrl.toString(),kn=!I.navigated||Ze.extractedUrl.toString()!==jt||jt!==Ze.currentUrlTree.toString();if(!kn&&"reload"!==(Ze.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const $r="";return this.events.next(new Bs(Ze.id,this.urlSerializer.serialize(Ze.rawUrl),$r,0)),Ze.resolve(null),Le.E}if(I.urlHandlingStrategy.shouldProcessUrl(Ze.rawUrl))return(0,he.of)(Ze).pipe((0,er.w)($r=>{const os=this.transitions?.getValue();return this.events.next(new vr($r.id,this.urlSerializer.serialize($r.extractedUrl),$r.source,$r.restoredState)),os!==this.transitions?.getValue()?Le.E:Promise.resolve($r)}),function V(D,M,I,O,U,re){return(0,Me.z)(me=>function Zl(D,M,I,O,U,re,me="emptyOnly"){return new qa(D,M,I,O,U,me,re).recognize()}(D,M,I,O,me.extractedUrl,U,re).pipe((0,wn.U)(({state:Je,tree:Ze})=>({...me,targetSnapshot:Je,urlAfterRedirects:Ze}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,Zt.b)($r=>{re.targetSnapshot=$r.targetSnapshot,re.urlAfterRedirects=$r.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:$r.urlAfterRedirects};const os=new vs($r.id,this.urlSerializer.serialize($r.extractedUrl),this.urlSerializer.serialize($r.urlAfterRedirects),$r.targetSnapshot);this.events.next(os)}));if(kn&&I.urlHandlingStrategy.shouldProcessUrl(Ze.currentRawUrl)){const{id:$r,extractedUrl:os,source:hi,restoredState:Ss,extras:Ar}=Ze,ua=new vr($r,this.urlSerializer.serialize(os),hi,Ss);this.events.next(ua);const Rc=sa(0,this.rootComponentType).snapshot;return this.currentTransition=re={...Ze,targetSnapshot:Rc,urlAfterRedirects:os,extras:{...Ar,skipLocationChange:!1,replaceUrl:!1}},(0,he.of)(re)}{const $r="";return this.events.next(new Bs(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),$r,1)),Ze.resolve(null),Le.E}}),(0,Zt.b)(Ze=>{const jt=new Dl(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(jt)}),(0,wn.U)(Ze=>(this.currentTransition=re={...Ze,guards:Yi(Ze.targetSnapshot,Ze.currentSnapshot,this.rootContexts)},re)),function Zi(D,M){return(0,Me.z)(I=>{const{targetSnapshot:O,currentSnapshot:U,guards:{canActivateChecks:re,canDeactivateChecks:me}}=I;return 0===me.length&&0===re.length?(0,he.of)({...I,guardsResult:!0}):function js(D,M,I,O){return(0,ce.D)(D).pipe((0,Me.z)(U=>function va(D,M,I,O,U){const re=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,he.of)(!0);const me=re.map(Je=>{const Ze=Ki(M)??U,jt=z(Je,Ze);return cr(function be(D){return D&&ct(D.canDeactivate)}(jt)?jt.canDeactivate(D,M,I,O):Ze.runInContext(()=>jt(D,M,I,O))).pipe(yt())});return(0,he.of)(me).pipe(Dr())}(U.component,U.route,I,M,O)),yt(U=>!0!==U,!0))}(me,O,U,D).pipe((0,Me.z)(Je=>Je&&function L(D){return"boolean"==typeof D}(Je)?function Ni(D,M,I,O){return(0,ce.D)(M).pipe(It(U=>(0,$n.z)(function $s(D,M){return null!==D&&M&&M(new Us(D)),(0,he.of)(!0)}(U.route.parent,O),function Gi(D,M){return null!==D&&M&&M(new zo(D)),(0,he.of)(!0)}(U.route,O),function ya(D,M,I){const O=M[M.length-1],re=M.slice(0,M.length-1).reverse().map(me=>function la(D){const M=D.routeConfig?D.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:D,guards:M}:null}(me)).filter(me=>null!==me).map(me=>_e(()=>{const Je=me.guards.map(Ze=>{const jt=Ki(me.node)??I,kn=z(Ze,jt);return cr(function Q(D){return D&&ct(D.canActivateChild)}(kn)?kn.canActivateChild(O,D):jt.runInContext(()=>kn(O,D))).pipe(yt())});return(0,he.of)(Je).pipe(Dr())}));return(0,he.of)(re).pipe(Dr())}(D,U.path,I),function hs(D,M,I){const O=M.routeConfig?M.routeConfig.canActivate:null;if(!O||0===O.length)return(0,he.of)(!0);const U=O.map(re=>_e(()=>{const me=Ki(M)??I,Je=z(re,me);return cr(function x(D){return D&&ct(D.canActivate)}(Je)?Je.canActivate(M,D):me.runInContext(()=>Je(M,D))).pipe(yt())}));return(0,he.of)(U).pipe(Dr())}(D,U.route,I))),yt(U=>!0!==U,!0))}(O,re,D,M):(0,he.of)(Je)),(0,wn.U)(Je=>({...I,guardsResult:Je})))})}(this.environmentInjector,Ze=>this.events.next(Ze)),(0,Zt.b)(Ze=>{if(re.guardsResult=Ze.guardsResult,pn(Ze.guardsResult))throw $i(0,Ze.guardsResult);const jt=new ra(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot,!!Ze.guardsResult);this.events.next(jt)}),(0,tn.h)(Ze=>!!Ze.guardsResult||(this.cancelNavigationTransition(Ze,"",3),!1)),gr(Ze=>{if(Ze.guards.canActivateChecks.length)return(0,he.of)(Ze).pipe((0,Zt.b)(jt=>{const kn=new Aa(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(kn)}),(0,er.w)(jt=>{let kn=!1;return(0,he.of)(jt).pipe(function W(D,M){return(0,Me.z)(I=>{const{targetSnapshot:O,guards:{canActivateChecks:U}}=I;if(!U.length)return(0,he.of)(I);let re=0;return(0,ce.D)(U).pipe(It(me=>function Te(D,M,I,O){const U=D.routeConfig,re=D._resolve;return void 0!==U?.title&&!Vr(U)&&(re[ve]=U.title),function rt(D,M,I,O){const U=function Et(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===U.length)return(0,he.of)({});const re={};return(0,ce.D)(U).pipe((0,Me.z)(me=>function En(D,M,I,O){const U=Ki(M)??O,re=z(D,U);return cr(re.resolve?re.resolve(M,I):U.runInContext(()=>re(M,I)))}(D[me],M,I,O).pipe(yt(),(0,Zt.b)(Je=>{re[me]=Je}))),Dn(1),(0,Yn.h)(re),Qt(me=>Qr(me)?Le.E:Qe(me)))}(re,D,M,O).pipe((0,wn.U)(me=>(D._resolvedData=me,D.data=zt(D,I).resolve,U&&Vr(U)&&(D.data[ve]=U.title),null)))}(me.route,O,D,M)),(0,Zt.b)(()=>re++),Dn(1),(0,Me.z)(me=>re===U.length?(0,he.of)(I):Le.E))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,Zt.b)({next:()=>kn=!0,complete:()=>{kn||this.cancelNavigationTransition(jt,"",2)}}))}),(0,Zt.b)(jt=>{const kn=new Go(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(kn)}))}),gr(Ze=>{const jt=kn=>{const ai=[];kn.routeConfig?.loadComponent&&!kn.routeConfig._loadedComponent&&ai.push(this.configLoader.loadComponent(kn.routeConfig).pipe((0,Zt.b)($r=>{kn.component=$r}),(0,wn.U)(()=>{})));for(const $r of kn.children)ai.push(...jt($r));return ai};return pt(jt(Ze.targetSnapshot.root)).pipe(Be(),(0,xt.q)(1))}),gr(()=>this.afterPreactivation()),(0,wn.U)(Ze=>{const jt=function _a(D,M,I){const O=Ts(D,M._root,I?I._root:void 0);return new So(O,M)}(I.routeReuseStrategy,Ze.targetSnapshot,Ze.currentRouterState);return this.currentTransition=re={...Ze,targetRouterState:jt},re}),(0,Zt.b)(()=>{this.events.next(new Ra)}),((D,M,I,O)=>(0,wn.U)(U=>(new bi(M,U.targetRouterState,U.currentRouterState,I,O).activate(D),U)))(this.rootContexts,I.routeReuseStrategy,Ze=>this.events.next(Ze),this.inputBindingEnabled),(0,xt.q)(1),(0,Zt.b)({next:Ze=>{me=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qi(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects))),I.titleStrategy?.updateTitle(Ze.targetRouterState.snapshot),Ze.resolve(!0)},complete:()=>{me=!0}}),(0,ni.R)(this.transitionAbortSubject.pipe((0,Zt.b)(Ze=>{throw Ze}))),tr(()=>{me||Je||this.cancelNavigationTransition(re,"",1),this.currentNavigation?.id===re.id&&(this.currentNavigation=null)}),Qt(Ze=>{if(Je=!0,fo(Ze))this.events.next(new Ei(re.id,this.urlSerializer.serialize(re.extractedUrl),Ze.message,Ze.cancellationCode)),function ja(D){return fo(D)&&pn(D.url)}(Ze)?this.events.next(new Ns(Ze.url)):re.resolve(!1);else{this.events.next(new qs(re.id,this.urlSerializer.serialize(re.extractedUrl),Ze,re.targetSnapshot??void 0));try{re.resolve(I.errorHandler(Ze))}catch(jt){re.reject(jt)}}return Le.E}))}))}cancelNavigationTransition(I,O,U){const re=new Ei(I.id,this.urlSerializer.serialize(I.extractedUrl),O,U);this.events.next(re),I.resolve(!1)}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function at(D){return D!==ci}let Cr=(()=>{class D{buildTitle(I){let O,U=I.root;for(;void 0!==U;)O=this.getResolvedTitleForRoute(U)??O,U=U.children.find(re=>re.outlet===Y);return O}getResolvedTitleForRoute(I){return I.data[ve]}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=E.Yz7({token:D,factory:function(){return(0,E.f3M)(Hr)},providedIn:"root"})}return D})(),Hr=(()=>{class D extends Cr{constructor(I){super(),this.title=I}updateTitle(I){const O=this.buildTitle(I);void 0!==O&&this.title.setTitle(O)}static#e=this.\u0275fac=function(O){return new(O||D)(E.LFG(ue.Dx))};static#t=this.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),Ko=(()=>{class D{static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=E.Yz7({token:D,factory:function(){return(0,E.f3M)(cn)},providedIn:"root"})}return D})();class Wt{shouldDetach(M){return!1}store(M,I){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,I){return M.routeConfig===I.routeConfig}}let cn=(()=>{class D extends Wt{static#e=this.\u0275fac=function(){let I;return function(U){return(I||(I=E.n5z(D)))(U||D)}}();static#t=this.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const Ql=new E.OlP("",{providedIn:"root",factory:()=>({})});let Ht=(()=>{class D{static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=E.Yz7({token:D,factory:function(){return(0,E.f3M)(Xe)},providedIn:"root"})}return D})(),Xe=(()=>{class D{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,O){return I}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();var Dt=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Dt||{});function ws(D,M){D.events.pipe((0,tn.h)(I=>I instanceof qi||I instanceof Ei||I instanceof qs||I instanceof Bs),(0,wn.U)(I=>I instanceof qi||I instanceof Bs?Dt.COMPLETE:I instanceof Ei&&(0===I.code||1===I.code)?Dt.REDIRECTING:Dt.FAILED),(0,tn.h)(I=>I!==Dt.REDIRECTING),(0,xt.q)(1)).subscribe(()=>{M()})}function Ii(D){throw D}function hd(D,M,I){return M.parse("/")}const Al={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ds={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vo=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,E.f3M)(E.c2e),this.isNgZoneEnabled=!1,this._events=new Xn.x,this.options=(0,E.f3M)(Ql,{optional:!0})||{},this.pendingTasks=(0,E.f3M)(E.HDt),this.errorHandler=this.options.errorHandler||Ii,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hd,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,E.f3M)(Ht),this.routeReuseStrategy=(0,E.f3M)(Ko),this.titleStrategy=(0,E.f3M)(Cr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,E.f3M)(br,{optional:!0})?.flat()??[],this.navigationTransitions=(0,E.f3M)(Mo),this.urlSerializer=(0,E.f3M)(yi),this.location=(0,E.f3M)(ft.Ye),this.componentInputBindingEnabled=!!(0,E.f3M)(xn,{optional:!0}),this.eventsSubscription=new Ue.w0,this.isNgZoneEnabled=(0,E.f3M)(E.R0b)instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sa(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(O=>{try{const{currentTransition:U}=this.navigationTransitions;if(null===U)return void(ba(O)&&this._events.next(O));if(O instanceof vr)at(U.source)&&(this.browserUrlTree=U.extractedUrl);else if(O instanceof Bs)this.rawUrlTree=U.rawUrl;else if(O instanceof vs){if("eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const re=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(re,U)}this.browserUrlTree=U.urlAfterRedirects}}else if(O instanceof Ra)this.currentUrlTree=U.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl),this.routerState=U.targetRouterState,"deferred"===this.urlUpdateStrategy&&(U.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,U),this.browserUrlTree=U.urlAfterRedirects);else if(O instanceof Ei)0!==O.code&&1!==O.code&&(this.navigated=!0),(3===O.code||2===O.code)&&this.restoreHistory(U);else if(O instanceof Ns){const re=this.urlHandlingStrategy.merge(O.url,U.currentRawUrl),me={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||at(U.source)};this.scheduleNavigation(re,ci,null,me,{resolve:U.resolve,reject:U.reject,promise:U.promise})}O instanceof qs&&this.restoreHistory(U,!0),O instanceof qi&&(this.navigated=!0),ba(O)&&this._events.next(O)}catch(U){this.navigationTransitions.transitionAbortSubject.next(U)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ci,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const O="popstate"===I.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,O,I.state)},0)}))}navigateToSyncWithBrowser(I,O,U){const re={replaceUrl:!0},me=U?.navigationId?U:null;if(U){const Ze={...U};delete Ze.navigationId,delete Ze.\u0275routerPageId,0!==Object.keys(Ze).length&&(re.state=Ze)}const Je=this.parseUrl(I);this.scheduleNavigation(Je,O,me,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(rs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,O={}){const{relativeTo:U,queryParams:re,fragment:me,queryParamsHandling:Je,preserveFragment:Ze}=O,jt=Ze?this.currentUrlTree.fragment:me;let ai,kn=null;switch(Je){case"merge":kn={...this.currentUrlTree.queryParams,...re};break;case"preserve":kn=this.currentUrlTree.queryParams;break;default:kn=re||null}null!==kn&&(kn=this.removeEmptyProps(kn));try{ai=Br(U?U.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),ai=this.currentUrlTree.root}return rr(ai,I,kn,jt??null)}navigateByUrl(I,O={skipLocationChange:!1}){const U=pn(I)?I:this.parseUrl(I),re=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(re,ci,null,O)}navigate(I,O={skipLocationChange:!1}){return function sh(D){for(let M=0;M<D.length;M++)if(null==D[M])throw new E.vHH(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,O),O)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let O;try{O=this.urlSerializer.parse(I)}catch(U){O=this.malformedUriErrorHandler(U,this.urlSerializer,I)}return O}isActive(I,O){let U;if(U=!0===O?{...Al}:!1===O?{...Ds}:O,pn(I))return fr(this.currentUrlTree,I,U);const re=this.parseUrl(I);return fr(this.currentUrlTree,re,U)}removeEmptyProps(I){return Object.keys(I).reduce((O,U)=>{const re=I[U];return null!=re&&(O[U]=re),O},{})}scheduleNavigation(I,O,U,re,me){if(this.disposed)return Promise.resolve(!1);let Je,Ze,jt;me?(Je=me.resolve,Ze=me.reject,jt=me.promise):jt=new Promise((ai,$r)=>{Je=ai,Ze=$r});const kn=this.pendingTasks.add();return ws(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(kn))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:re,resolve:Je,reject:Ze,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(ai=>Promise.reject(ai))}setBrowserUrl(I,O){const U=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(U)||O.extras.replaceUrl){const me={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(U,"",me)}else{const re={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId+1)};this.location.go(U,"",re)}}restoreHistory(I,O=!1){if("computed"===this.canceledNavigationResolution){const re=this.currentPageId-this.browserPageId;0!==re?this.location.historyGo(re):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===re&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,O){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:O}:{navigationId:I}}static#e=this.\u0275fac=function(O){return new(O||D)};static#t=this.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function ba(D){return!(D instanceof Ra||D instanceof Ns)}let io=(()=>{class D{constructor(I,O,U,re,me,Je){this.router=I,this.route=O,this.tabIndexAttribute=U,this.renderer=re,this.el=me,this.locationStrategy=Je,this.href=null,this.commands=null,this.onChanges=new Xn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ze=me.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ze||"area"===Ze,this.isAnchorElement?this.subscription=I.events.subscribe(jt=>{jt instanceof qi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",I)}ngOnChanges(I){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(I,O,U,re,me){return!!(null===this.urlTree||this.isAnchorElement&&(0!==I||O||U||re||me||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const I=null===this.href?null:(0,E.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",I)}applyAttributeValue(I,O){const U=this.renderer,re=this.el.nativeElement;null!==O?U.setAttribute(re,I,O):U.removeAttribute(re,I)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(O){return new(O||D)(E.Y36(vo),E.Y36(Er),E.$8M("tabindex"),E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(ft.S$))};static#t=this.\u0275dir=E.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,U){1&O&&E.NdJ("click",function(me){return U.onClick(me.button,me.ctrlKey,me.shiftKey,me.altKey,me.metaKey)}),2&O&&E.uIk("target",U.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",E.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",E.VuI],replaceUrl:["replaceUrl","replaceUrl",E.VuI],routerLink:"routerLink"},standalone:!0,features:[E.Xq5,E.TTD]})}return D})(),Sp=(()=>{class D{get isActive(){return this._isActive}constructor(I,O,U,re,me){this.router=I,this.element=O,this.renderer=U,this.cdr=re,this.link=me,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new E.vpe,this.routerEventsSubscription=I.events.subscribe(Je=>{Je instanceof qi&&this.update()})}ngAfterContentInit(){(0,he.of)(this.links.changes,(0,he.of)(null)).pipe((0,ae.J)()).subscribe(I=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const I=[...this.links.toArray(),this.link].filter(O=>!!O).map(O=>O.onChanges);this.linkInputChangesSubscription=(0,ce.D)(I).pipe((0,ae.J)()).subscribe(O=>{this._isActive!==this.isLinkActive(this.router)(O)&&this.update()})}set routerLinkActive(I){const O=Array.isArray(I)?I:I.split(" ");this.classes=O.filter(U=>!!U)}ngOnChanges(I){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const I=this.hasActiveLinks();this._isActive!==I&&(this._isActive=I,this.cdr.markForCheck(),this.classes.forEach(O=>{I?this.renderer.addClass(this.element.nativeElement,O):this.renderer.removeClass(this.element.nativeElement,O)}),I&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(I))})}isLinkActive(I){const O=function gf(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return U=>!!U.urlTree&&I.isActive(U.urlTree,O)}hasActiveLinks(){const I=this.isLinkActive(this.router);return this.link&&I(this.link)||this.links.some(I)}static#e=this.\u0275fac=function(O){return new(O||D)(E.Y36(vo),E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(E.sBO),E.Y36(io,8))};static#t=this.\u0275dir=E.lG2({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(O,U,re){if(1&O&&E.Suo(re,io,5),2&O){let me;E.iGM(me=E.CRH())&&(U.links=me)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[E.TTD]})}return D})();class fu{}let mf=(()=>{class D{constructor(I,O,U,re,me){this.router=I,this.injector=U,this.preloadingStrategy=re,this.loader=me}setUpPreloading(){this.subscription=this.router.events.pipe((0,tn.h)(I=>I instanceof qi),It(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,O){const U=[];for(const re of O){re.providers&&!re._injector&&(re._injector=(0,E.MMx)(re.providers,I,`Route: ${re.path}`));const me=re._injector??I,Je=re._loadedInjector??me;(re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent)&&U.push(this.preloadConfig(me,re)),(re.children||re._loadedRoutes)&&U.push(this.processRoutes(Je,re.children??re._loadedRoutes))}return(0,ce.D)(U).pipe((0,ae.J)())}preloadConfig(I,O){return this.preloadingStrategy.preload(O,()=>{let U;U=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(I,O):(0,he.of)(null);const re=U.pipe((0,Me.z)(me=>null===me?(0,he.of)(void 0):(O._loadedRoutes=me.routes,O._loadedInjector=me.injector,this.processRoutes(me.injector??I,me.routes))));if(O.loadComponent&&!O._loadedComponent){const me=this.loader.loadComponent(O);return(0,ce.D)([re,me]).pipe((0,ae.J)())}return re})}static#e=this.\u0275fac=function(O){return new(O||D)(E.LFG(vo),E.LFG(E.Sil),E.LFG(E.lqb),E.LFG(fu),E.LFG(bn))};static#t=this.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const _i=new E.OlP("");let Tn=(()=>{class D{constructor(I,O,U,re,me={}){this.urlSerializer=I,this.transitions=O,this.viewportScroller=U,this.zone=re,this.options=me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},me.scrollPositionRestoration=me.scrollPositionRestoration||"disabled",me.anchorScrolling=me.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof qi?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof Bs&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof Wo&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wo(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(O){E.$Z()};static#t=this.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac})}return D})();function sn(D,M){return{\u0275kind:D,\u0275providers:M}}function Ma(){const D=(0,E.f3M)(E.zs3);return M=>{const I=D.get(E.z2F);if(M!==I.components[0])return;const O=D.get(vo),U=D.get(Cc);1===D.get(Gs)&&O.initialNavigation(),D.get(Rl,null,E.XFs.Optional)?.setUpPreloading(),D.get(_i,null,E.XFs.Optional)?.init(),O.resetRootComponentType(I.componentTypes[0]),U.closed||(U.next(),U.complete(),U.unsubscribe())}}const Cc=new E.OlP("",{factory:()=>new Xn.x}),Gs=new E.OlP("",{providedIn:"root",factory:()=>1}),Rl=new E.OlP("");function Yo(D){return sn(0,[{provide:Rl,useExisting:mf},{provide:fu,useExisting:D}])}const qe=new E.OlP("ROUTER_FORROOT_GUARD"),Ka=[ft.Ye,{provide:yi,useClass:Wi},vo,Pr,{provide:Er,useFactory:function jr(D){return D.routerState.root},deps:[vo]},bn,[]];function Xi(){return new E.PXZ("Router",vo)}let Nl=(()=>{class D{constructor(I){}static forRoot(I,O){return{ngModule:D,providers:[Ka,[],{provide:br,multi:!0,useValue:I},{provide:qe,useFactory:Zo,deps:[[vo,new E.FiY,new E.tp0]]},{provide:Ql,useValue:O||{}},O?.useHash?{provide:ft.S$,useClass:ft.Do}:{provide:ft.S$,useClass:ft.b0},{provide:_i,useFactory:()=>{const D=(0,E.f3M)(ft.EM),M=(0,E.f3M)(E.R0b),I=(0,E.f3M)(Ql),O=(0,E.f3M)(Mo),U=(0,E.f3M)(yi);return I.scrollOffset&&D.setOffset(I.scrollOffset),new Tn(U,O,D,M,I)}},O?.preloadingStrategy?Yo(O.preloadingStrategy).\u0275providers:[],{provide:E.PXZ,multi:!0,useFactory:Xi},O?.initialNavigation?To(O):[],O?.bindToComponentInputs?sn(8,[ma,{provide:xn,useExisting:ma}]).\u0275providers:[],[{provide:so,useFactory:Ma},{provide:E.tb,multi:!0,useExisting:so}]]}}static forChild(I){return{ngModule:D,providers:[{provide:br,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(O){return new(O||D)(E.LFG(qe,8))};static#t=this.\u0275mod=E.oAB({type:D});static#n=this.\u0275inj=E.cJS({})}return D})();function Zo(D){return"guarded"}function To(D){return["disabled"===D.initialNavigation?sn(3,[{provide:E.ip1,multi:!0,useFactory:()=>{const M=(0,E.f3M)(vo);return()=>{M.setUpLocationChangeListener()}}},{provide:Gs,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?sn(2,[{provide:Gs,useValue:0},{provide:E.ip1,multi:!0,deps:[E.zs3],useFactory:M=>{const I=M.get(ft.V_,Promise.resolve());return()=>I.then(()=>new Promise(O=>{const U=M.get(vo),re=M.get(Cc);ws(U,()=>{O(!0)}),M.get(Mo).afterPreactivation=()=>(O(!0),re.closed?(0,he.of)(void 0):re),U.initialNavigation()}))}}]).\u0275providers:[]]}const so=new E.OlP("")},534:(Lt,Ke,$)=>{$.d(Ke,{Jn:()=>Pn,qX:()=>zn,Xd:()=>fr,Mq:()=>On,C6:()=>Ir,ZF:()=>Gn,KN:()=>yi});var E=$(5861),B=$(4537),Fe=$(7879),y=$(9058);const ce=(tt,He)=>He.some(bt=>tt instanceof bt);let he,Ae;const de=new WeakMap,Ie=new WeakMap,ze=new WeakMap,wt=new WeakMap,it=new WeakMap;let Yt={get(tt,He,bt){if(tt instanceof IDBTransaction){if("done"===He)return Ie.get(tt);if("objectStoreNames"===He)return tt.objectStoreNames||ze.get(tt);if("store"===He)return bt.objectStoreNames[1]?void 0:bt.objectStore(bt.objectStoreNames[0])}return _e(tt[He])},set:(tt,He,bt)=>(tt[He]=bt,!0),has:(tt,He)=>tt instanceof IDBTransaction&&("done"===He||"store"===He)||He in tt};function Re(tt){return"function"==typeof tt?function $n(tt){return tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(tt)?function(...He){return tt.apply(xe(this),He),_e(de.get(this))}:function(...He){return _e(tt.apply(xe(this),He))}:function(He,...bt){const Jt=tt.call(xe(this),He,...bt);return ze.set(Jt,He.sort?He.sort():[He]),_e(Jt)}}(tt):(tt instanceof IDBTransaction&&function Rt(tt){if(Ie.has(tt))return;const He=new Promise((bt,Jt)=>{const Rn=()=>{tt.removeEventListener("complete",pn),tt.removeEventListener("error",Qn),tt.removeEventListener("abort",Qn)},pn=()=>{bt(),Rn()},Qn=()=>{Jt(tt.error||new DOMException("AbortError","AbortError")),Rn()};tt.addEventListener("complete",pn),tt.addEventListener("error",Qn),tt.addEventListener("abort",Qn)});Ie.set(tt,He)}(tt),ce(tt,function Ce(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(tt,Yt):tt)}function _e(tt){if(tt instanceof IDBRequest)return function pt(tt){const He=new Promise((bt,Jt)=>{const Rn=()=>{tt.removeEventListener("success",pn),tt.removeEventListener("error",Qn)},pn=()=>{bt(_e(tt.result)),Rn()},Qn=()=>{Jt(tt.error),Rn()};tt.addEventListener("success",pn),tt.addEventListener("error",Qn)});return He.then(bt=>{bt instanceof IDBCursor&&de.set(bt,tt)}).catch(()=>{}),it.set(He,tt),He}(tt);if(wt.has(tt))return wt.get(tt);const He=Re(tt);return He!==tt&&(wt.set(tt,He),it.set(He,tt)),He}const xe=tt=>it.get(tt),Ue=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],lt=new Map;function _t(tt,He){if(!(tt instanceof IDBDatabase)||He in tt||"string"!=typeof He)return;if(lt.get(He))return lt.get(He);const bt=He.replace(/FromIndex$/,""),Jt=He!==bt,Rn=je.includes(bt);if(!(bt in(Jt?IDBIndex:IDBObjectStore).prototype)||!Rn&&!Ue.includes(bt))return;const pn=function(){var Qn=(0,E.Z)(function*(Br,...rr){const Vn=this.transaction(Br,Rn?"readwrite":"readonly");let gi=Vn.store;return Jt&&(gi=gi.index(rr.shift())),(yield Promise.all([gi[bt](...rr),Rn&&Vn.done]))[0]});return function(rr){return Qn.apply(this,arguments)}}();return lt.set(He,pn),pn}!function St(tt){Yt=tt(Yt)}(tt=>({...tt,get:(He,bt,Jt)=>_t(He,bt)||tt.get(He,bt,Jt),has:(He,bt)=>!!_t(He,bt)||tt.has(He,bt)}));class Xn{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function ft(tt){const He=tt.getComponent();return"VERSION"===He?.type}(bt)){const Jt=bt.getImmediate();return`${Jt.library}/${Jt.version}`}return null}).filter(bt=>bt).join(" ")}}const wn="@firebase/app",xt=new Fe.Yd("@firebase/app"),en="[DEFAULT]",rn={[wn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fn=new Map,cr=new Map;function ln(tt,He){try{tt.container.addComponent(He)}catch(bt){xt.debug(`Component ${He.name} failed to register with FirebaseApp ${tt.name}`,bt)}}function fr(tt){const He=tt.name;if(cr.has(He))return xt.debug(`There were multiple attempts to register component ${He}.`),!1;cr.set(He,tt);for(const bt of fn.values())ln(bt,tt);return!0}function zn(tt,He){const bt=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return bt&&bt.triggerHeartbeat(),tt.container.getProvider(He)}const qn=new y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cs{constructor(He,bt,Jt){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=Jt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}const Pn="10.5.2";function Gn(tt,He={}){let bt=tt;"object"!=typeof He&&(He={name:He});const Jt=Object.assign({name:en,automaticDataCollectionEnabled:!1},He),Rn=Jt.name;if("string"!=typeof Rn||!Rn)throw qn.create("bad-app-name",{appName:String(Rn)});if(bt||(bt=(0,y.aH)()),!bt)throw qn.create("no-options");const pn=fn.get(Rn);if(pn){if((0,y.vZ)(bt,pn.options)&&(0,y.vZ)(Jt,pn.config))return pn;throw qn.create("duplicate-app",{appName:Rn})}const Qn=new B.H0(Rn);for(const rr of cr.values())Qn.addComponent(rr);const Br=new cs(bt,Jt,Qn);return fn.set(Rn,Br),Br}function On(tt=en){const He=fn.get(tt);if(!He&&tt===en&&(0,y.aH)())return Gn();if(!He)throw qn.create("no-app",{appName:tt});return He}function Ir(){return Array.from(fn.values())}function yi(tt,He,bt){var Jt;let Rn=null!==(Jt=rn[tt])&&void 0!==Jt?Jt:tt;bt&&(Rn+=`-${bt}`);const pn=Rn.match(/\s|\//),Qn=He.match(/\s|\//);if(pn||Qn){const Br=[`Unable to register library "${Rn}" with version "${He}":`];return pn&&Br.push(`library name "${Rn}" contains illegal characters (whitespace or "/")`),pn&&Qn&&Br.push("and"),Qn&&Br.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void xt.warn(Br.join(" "))}fr(new B.wA(`${Rn}-version`,()=>({library:Rn,version:He}),"VERSION"))}const Si="firebase-heartbeat-database",Bi=1,we="firebase-heartbeat-store";let ne=null;function se(){return ne||(ne=function Qe(tt,He,{blocked:bt,upgrade:Jt,blocking:Rn,terminated:pn}={}){const Qn=indexedDB.open(tt,He),Br=_e(Qn);return Jt&&Qn.addEventListener("upgradeneeded",rr=>{Jt(_e(Qn.result),rr.oldVersion,rr.newVersion,_e(Qn.transaction),rr)}),bt&&Qn.addEventListener("blocked",rr=>bt(rr.oldVersion,rr.newVersion,rr)),Br.then(rr=>{pn&&rr.addEventListener("close",()=>pn()),Rn&&rr.addEventListener("versionchange",Vn=>Rn(Vn.oldVersion,Vn.newVersion,Vn))}).catch(()=>{}),Br}(Si,Bi,{upgrade:(tt,He)=>{0===He&&tt.createObjectStore(we)}}).catch(tt=>{throw qn.create("idb-open",{originalErrorMessage:tt.message})})),ne}function ie(){return(ie=(0,E.Z)(function*(tt){try{return yield(yield se()).transaction(we).objectStore(we).get(kt(tt))}catch(He){if(He instanceof y.ZR)xt.warn(He.message);else{const bt=qn.create("idb-get",{originalErrorMessage:He?.message});xt.warn(bt.message)}}})).apply(this,arguments)}function Oe(tt,He){return gt.apply(this,arguments)}function gt(){return(gt=(0,E.Z)(function*(tt,He){try{const Jt=(yield se()).transaction(we,"readwrite");yield Jt.objectStore(we).put(He,kt(tt)),yield Jt.done}catch(bt){if(bt instanceof y.ZR)xt.warn(bt.message);else{const Jt=qn.create("idb-set",{originalErrorMessage:bt?.message});xt.warn(Jt.message)}}})).apply(this,arguments)}function kt(tt){return`${tt.name}!${tt.options.appId}`}class Nn{constructor(He){this.container=He,this._heartbeatsCache=null;const bt=this.container.getProvider("app").getImmediate();this._storage=new ri(bt),this._heartbeatsCachePromise=this._storage.read().then(Jt=>(this._heartbeatsCache=Jt,Jt))}triggerHeartbeat(){var He=this;return(0,E.Z)(function*(){const Jt=He.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rn=_n();if(null===He._heartbeatsCache&&(He._heartbeatsCache=yield He._heartbeatsCachePromise),He._heartbeatsCache.lastSentHeartbeatDate!==Rn&&!He._heartbeatsCache.heartbeats.some(pn=>pn.date===Rn))return He._heartbeatsCache.heartbeats.push({date:Rn,agent:Jt}),He._heartbeatsCache.heartbeats=He._heartbeatsCache.heartbeats.filter(pn=>{const Qn=new Date(pn.date).valueOf();return Date.now()-Qn<=2592e6}),He._storage.overwrite(He._heartbeatsCache)})()}getHeartbeatsHeader(){var He=this;return(0,E.Z)(function*(){if(null===He._heartbeatsCache&&(yield He._heartbeatsCachePromise),null===He._heartbeatsCache||0===He._heartbeatsCache.heartbeats.length)return"";const bt=_n(),{heartbeatsToSend:Jt,unsentEntries:Rn}=function Ln(tt,He=1024){const bt=[];let Jt=tt.slice();for(const Rn of tt){const pn=bt.find(Qn=>Qn.agent===Rn.agent);if(pn){if(pn.dates.push(Rn.date),nr(bt)>He){pn.dates.pop();break}}else if(bt.push({agent:Rn.agent,dates:[Rn.date]}),nr(bt)>He){bt.pop();break}Jt=Jt.slice(1)}return{heartbeatsToSend:bt,unsentEntries:Jt}}(He._heartbeatsCache.heartbeats),pn=(0,y.L)(JSON.stringify({version:2,heartbeats:Jt}));return He._heartbeatsCache.lastSentHeartbeatDate=bt,Rn.length>0?(He._heartbeatsCache.heartbeats=Rn,yield He._storage.overwrite(He._heartbeatsCache)):(He._heartbeatsCache.heartbeats=[],He._storage.overwrite(He._heartbeatsCache)),pn})()}}function _n(){return(new Date).toISOString().substring(0,10)}class ri{constructor(He){this.app=He,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,y.hl)()&&(0,y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var He=this;return(0,E.Z)(function*(){return(yield He._canUseIndexedDBPromise)&&(yield function te(tt){return ie.apply(this,arguments)}(He.app))||{heartbeats:[]}})()}overwrite(He){var bt=this;return(0,E.Z)(function*(){var Jt;if(yield bt._canUseIndexedDBPromise){const pn=yield bt.read();return Oe(bt.app,{lastSentHeartbeatDate:null!==(Jt=He.lastSentHeartbeatDate)&&void 0!==Jt?Jt:pn.lastSentHeartbeatDate,heartbeats:He.heartbeats})}})()}add(He){var bt=this;return(0,E.Z)(function*(){var Jt;if(yield bt._canUseIndexedDBPromise){const pn=yield bt.read();return Oe(bt.app,{lastSentHeartbeatDate:null!==(Jt=He.lastSentHeartbeatDate)&&void 0!==Jt?Jt:pn.lastSentHeartbeatDate,heartbeats:[...pn.heartbeats,...He.heartbeats]})}})()}}function nr(tt){return(0,y.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Ui(tt){fr(new B.wA("platform-logger",He=>new Xn(He),"PRIVATE")),fr(new B.wA("heartbeat",He=>new Nn(He),"PRIVATE")),yi(wn,"0.9.22",tt),yi(wn,"0.9.22","esm2017"),yi("fire-js","")}("")},4537:(Lt,Ke,$)=>{$.d(Ke,{H0:()=>Ce,wA:()=>Fe});var E=$(5861),B=$(9058);class Fe{constructor(de,Ie,ze){this.name=de,this.instanceFactory=Ie,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const y="[DEFAULT]";class ce{constructor(de,Ie){this.name=de,this.container=Ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const Ie=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(Ie)){const ze=new B.BH;if(this.instancesDeferred.set(Ie,ze),this.isInitialized(Ie)||this.shouldAutoInitialize())try{const wt=this.getOrInitializeService({instanceIdentifier:Ie});wt&&ze.resolve(wt)}catch{}}return this.instancesDeferred.get(Ie).promise}getImmediate(de){var Ie;const ze=this.normalizeInstanceIdentifier(de?.identifier),wt=null!==(Ie=de?.optional)&&void 0!==Ie&&Ie;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(wt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(it){if(wt)return null;throw it}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function Ae(Ye){return"EAGER"===Ye.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:y})}catch{}for(const[Ie,ze]of this.instancesDeferred.entries()){const wt=this.normalizeInstanceIdentifier(Ie);try{const it=this.getOrInitializeService({instanceIdentifier:wt});ze.resolve(it)}catch{}}}}clearInstance(de=y){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,E.Z)(function*(){const Ie=Array.from(de.instances.values());yield Promise.all([...Ie.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...Ie.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=y){return this.instances.has(de)}getOptions(de=y){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:Ie={}}=de,ze=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const wt=this.getOrInitializeService({instanceIdentifier:ze,options:Ie});for(const[it,pt]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(it)&&pt.resolve(wt);return wt}onInit(de,Ie){var ze;const wt=this.normalizeInstanceIdentifier(Ie),it=null!==(ze=this.onInitCallbacks.get(wt))&&void 0!==ze?ze:new Set;it.add(de),this.onInitCallbacks.set(wt,it);const pt=this.instances.get(wt);return pt&&de(pt,wt),()=>{it.delete(de)}}invokeOnInitCallbacks(de,Ie){const ze=this.onInitCallbacks.get(Ie);if(ze)for(const wt of ze)try{wt(de,Ie)}catch{}}getOrInitializeService({instanceIdentifier:de,options:Ie={}}){let ze=this.instances.get(de);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(Ye=de,Ye===y?void 0:Ye),options:Ie}),this.instances.set(de,ze),this.instancesOptions.set(de,Ie),this.invokeOnInitCallbacks(ze,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,ze)}catch{}var Ye;return ze||null}normalizeInstanceIdentifier(de=y){return this.component?this.component.multipleInstances?de:y:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const Ie=this.getProvider(de.name);if(Ie.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);Ie.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const Ie=new ce(de,this);return this.providers.set(de,Ie),Ie}getProviders(){return Array.from(this.providers.values())}}},7879:(Lt,Ke,$)=>{$.d(Ke,{Yd:()=>Ae,in:()=>B});const E=[];var B=function(de){return de[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de}(B||{});const Fe={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},y=B.INFO,ce={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},he=(de,Ie,...ze)=>{if(Ie<de.logLevel)return;const wt=(new Date).toISOString(),it=ce[Ie];if(!it)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ie})`);console[it](`[${wt}]  ${de.name}:`,...ze)};class Ae{constructor(Ie){this.name=Ie,this._logLevel=y,this._logHandler=he,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(Ie){if(!(Ie in B))throw new TypeError(`Invalid value "${Ie}" assigned to \`logLevel\``);this._logLevel=Ie}setLogLevel(Ie){this._logLevel="string"==typeof Ie?Fe[Ie]:Ie}get logHandler(){return this._logHandler}set logHandler(Ie){if("function"!=typeof Ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ie){this._userLogHandler=Ie}debug(...Ie){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...Ie),this._logHandler(this,B.DEBUG,...Ie)}log(...Ie){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...Ie),this._logHandler(this,B.VERBOSE,...Ie)}info(...Ie){this._userLogHandler&&this._userLogHandler(this,B.INFO,...Ie),this._logHandler(this,B.INFO,...Ie)}warn(...Ie){this._userLogHandler&&this._userLogHandler(this,B.WARN,...Ie),this._logHandler(this,B.WARN,...Ie)}error(...Ie){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...Ie),this._logHandler(this,B.ERROR,...Ie)}}},3182:(Lt,Ke,$)=>{$.d(Ke,{C6:()=>E.C6,KN:()=>E.KN,Mq:()=>E.Mq,ZF:()=>E.ZF});var E=$(534);(0,E.KN)("firebase","10.5.2","app")},15:(Lt,Ke,$)=>{$.d(Ke,{hJ:()=>hr,JU:()=>zr,ad:()=>In,cf:()=>Nv,IO:()=>wp,pl:()=>z0});var Ce,E=$(5861),B=$(534),Fe=$(4537),y=$(7879),ce=$(9058),he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={},Ye=Ye||{},de=he||self;function Ie(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ze(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var it="closure_uid_"+(1e9*Math.random()>>>0),pt=0;function Rt(i,e,n){return i.call.apply(i.bind,arguments)}function Yt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function St(i,e,n){return(St=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rt:Yt).apply(null,arguments)}function $n(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Re(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,p){for(var v=Array(arguments.length-2),N=2;N<arguments.length;N++)v[N-2]=arguments[N];return e.prototype[u].apply(o,v)}}function _e(){this.s=this.s,this.o=this.o}_e.prototype.s=!1,_e.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function wt(i){Object.prototype.hasOwnProperty.call(i,it)&&i[it]||(i[it]=++pt)}(this)},_e.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Le(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Ue(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Ie(o)){const u=i.length||0,p=o.length||0;i.length=u+p;for(let v=0;v<p;v++)i[u+v]=o[v]}else i.push(o)}}function je(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{de.addEventListener("test",()=>{},e),de.removeEventListener("test",()=>{},e)}catch{}return i}();function _t(i){return/^[\s\xa0]*$/.test(i)}function Xn(){var i=de.navigator;return i&&(i=i.userAgent)?i:""}function ft(i){return-1!=Xn().indexOf(i)}function wn(i){return wn[" "](i),i}wn[" "]=function(){};var yt,i,xt=ft("Opera"),vn=ft("Trident")||ft("MSIE"),tn=ft("Edge"),Me=tn||vn,Be=ft("Gecko")&&!(-1!=Xn().toLowerCase().indexOf("webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),We=-1!=Xn().toLowerCase().indexOf("webkit")&&!ft("Edge");function st(){var i=de.document;return i?i.documentMode:void 0}e:{var It="",Zt=(i=Xn(),Be?/rv:([^\);]+)(\)|;)/.exec(i):tn?/Edge\/([\d\.]+)/.exec(i):vn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):We?/WebKit\/(\S+)/.exec(i):xt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Zt&&(It=Zt?Zt[1]:""),vn){var Qt=st();if(null!=Qt&&Qt>parseFloat(It)){yt=String(Qt);break e}}yt=It}var Dn=de.document&&vn&&(st()||parseInt(yt,10))||void 0;function Ft(i,e){if(je.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Be){e:{try{wn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Yn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ft.$.h.call(this)}}Re(Ft,je);var Yn={2:"touch",3:"pen",4:"mouse"};Ft.prototype.h=function(){Ft.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var tr="closure_listenable_"+(1e6*Math.random()|0),ni=0;function ae(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++ni,this.fa=this.ia=!1}function ue(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Y(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Se(i){const e={};for(const n in i)e[n]=i[n];return e}const $e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ot(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let p=0;p<$e.length;p++)n=$e[p],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Xt(i){this.src=i,this.g={},this.h=0}function en(i,e){var n=e.type;if(n in i.g){var p,o=i.g[n],u=Qe(o,e);(p=0<=u)&&Array.prototype.splice.call(o,u,1),p&&(ue(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function rn(i,e,n,o){for(var u=0;u<i.length;++u){var p=i[u];if(!p.fa&&p.listener==e&&p.capture==!!n&&p.la==o)return u}return-1}Xt.prototype.add=function(i,e,n,o,u){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var v=rn(i,e,o,u);return-1<v?(e=i[v],n||(e.ia=!1)):((e=new ae(e,this.src,p,!!o,u)).ia=n,i.push(e)),e};var fn="closure_lm_"+(1e6*Math.random()|0),cr={};function ln(i,e,n,o,u){if(o&&o.once)return zn(i,e,n,o,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)ln(i,e[p],n,o,u);return null}return n=Gn(n),i&&i[tr]?i.O(e,n,ze(o)?!!o.capture:!!o,u):dr(i,e,n,!1,o,u)}function dr(i,e,n,o,u,p){if(!e)throw Error("Invalid event type");var v=ze(u)?!!u.capture:!!u,N=cs(i);if(N||(i[fn]=N=new Xt(i)),(n=N.add(e,n,o,v,p)).proxy)return n;if(o=function fr(){const e=qn;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)lt||(u=v),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Mr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function zn(i,e,n,o,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)zn(i,e[p],n,o,u);return null}return n=Gn(n),i&&i[tr]?i.P(e,n,ze(o)?!!o.capture:!!o,u):dr(i,e,n,!0,o,u)}function pr(i,e,n,o,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)pr(i,e[p],n,o,u);else o=ze(o)?!!o.capture:!!o,n=Gn(n),i&&i[tr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=rn(p=i.g[e],n,o,u))&&(ue(p[n]),Array.prototype.splice.call(p,n,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=cs(i))&&(e=i.g[e.toString()],i=-1,e&&(i=rn(e,n,o,u)),(n=-1<i?e[i]:null)&&Wn(n))}function Wn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[tr])en(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Mr(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=cs(e))?(en(n,i),0==n.h&&(n.src=null,e[fn]=null)):ue(i)}}}function Mr(i){return i in cr?cr[i]:cr[i]="on"+i}function qn(i,e){if(i.fa)i=!0;else{e=new Ft(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Wn(i),i=n.call(o,e)}return i}function cs(i){return(i=i[fn])instanceof Xt?i:null}var Pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gn(i){return"function"==typeof i?i:(i[Pn]||(i[Pn]=function(e){return i.handleEvent(e)}),i[Pn])}function On(){_e.call(this),this.i=new Xt(this),this.S=this,this.J=null}function Ir(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new je(e,i);else if(e instanceof je)e.target=e.target||i;else{var u=e;Ot(e=new je(o,i),u)}if(u=!0,n)for(var p=n.length-1;0<=p;p--){var v=e.g=n[p];u=Vi(v,o,!0,e)&&u}if(u=Vi(v=e.g=i,o,!0,e)&&u,u=Vi(v,o,!1,e)&&u,n)for(p=0;p<n.length;p++)u=Vi(v=e.g=n[p],o,!1,e)&&u}function Vi(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var v=e[p];if(v&&!v.fa&&v.capture==n){var N=v.listener,F=v.la||v.src;v.ia&&en(i.i,v),u=!1!==N.call(F,o)&&u}}return u&&!o.defaultPrevented}Re(On,_e),On.prototype[tr]=!0,On.prototype.removeEventListener=function(i,e,n,o){pr(this,i,e,n,o)},On.prototype.N=function(){if(On.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)ue(n[o]);delete i.g[e],i.h--}}this.J=null},On.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},On.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Vs=de.JSON.stringify;function Wi(){var i=ie;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Si=new class yi{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Bi,i=>i.reset());class Bi{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function we(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function ne(i){de.setTimeout(()=>{throw i},0)}let se,te=!1,ie=new class pi{constructor(){this.h=this.g=null}add(e,n){const o=Si.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Oe=()=>{const i=de.Promise.resolve(void 0);se=()=>{i.then(gt)}};var gt=()=>{for(var i;i=Wi();){try{i.h.call(i.g)}catch(n){ne(n)}var e=Si;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}te=!1};function kt(i,e){On.call(this),this.h=i||1,this.g=e||de,this.j=St(this.qb,this),this.l=Date.now()}function dn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Sn(i,e,n){if("function"==typeof i)n&&(i=St(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=St(i.handleEvent,i)}return 2147483647<Number(e)?-1:de.setTimeout(i,e||0)}function Nn(i){i.g=Sn(()=>{i.g=null,i.i&&(i.i=!1,Nn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Re(kt,On),(Ce=kt.prototype).ga=!1,Ce.T=null,Ce.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ir(this,"tick"),this.ga&&(dn(this),this.start()))}},Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.N=function(){kt.$.N.call(this),dn(this),delete this.g};class _n extends _e{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Nn(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(i){_e.call(this),this.h=i,this.g={}}Re(Ln,_e);var ri=[];function nr(i,e,n,o){Array.isArray(n)||(n&&(ri[0]=n.toString()),n=ri);for(var u=0;u<n.length;u++){var p=ln(e,n[u],o||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function Ui(i){Y(i.g,function(e,n){this.g.hasOwnProperty(n)&&Wn(e)},i),i.g={}}function tt(){this.g=!0}function Jt(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var v=1;v<u.length;v++)u[v]=""}}}return Vs(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Ln.prototype.N=function(){Ln.$.N.call(this),Ui(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tt.prototype.Ea=function(){this.g=!1},tt.prototype.info=function(){};var Qn={},Br=null;function rr(){return Br=Br||new On}function Vn(i){je.call(this,Qn.Ta,i)}function gi(i){const e=rr();Ir(e,new Vn(e))}function ys(i,e){je.call(this,Qn.STAT_EVENT,i),this.stat=e}function Hi(i){const e=rr();Ir(e,new ys(e,i))}function $o(i,e){je.call(this,Qn.Ua,i),this.size=e}function Pi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){i()},e)}Qn.Ta="serverreachability",Re(Vn,je),Qn.STAT_EVENT="statevent",Re(ys,je),Qn.Ua="timingevent",Re($o,je);var ii={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Sa={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vi(){}function na(){}vi.prototype.h=null;var At,ji={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Js(){je.call(this,"d")}function Bt(){je.call(this,"c")}function $t(){}function yn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Ln(this),this.P=yr,this.V=new kt(i=Me?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}Re(Js,je),Re(Bt,je),Re($t,vi),$t.prototype.g=function(){return new XMLHttpRequest},$t.prototype.i=function(){return{}},At=new $t;var yr=45e3,vr={},qi={};function Ei(i,e,n){i.L=1,i.v=si(to(e)),i.s=n,i.S=!0,Bs(i,null)}function Bs(i,e){i.G=Date.now(),ra(i),i.A=to(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),no(n.i,"t",o),i.C=0,n=i.l.J,i.h=new ci,i.g=ya(i.l,n?e:null,!i.s),0<i.O&&(i.M=new _n(St(i.Pa,i,i.g),i.O)),nr(i.U,i.g,"readystatechange",i.nb),e=i.I?Se(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),gi(),function He(i,e,n,o,u,p){i.info(function(){if(i.g)if(p)for(var v="",N=p.split("&"),F=0;F<N.length;F++){var G=N[F].split("=");if(1<G.length){var X=G[0];G=G[1];var fe=X.split("_");v=2<=fe.length&&"type"==fe[1]?v+(X+"=")+G+"&":v+(X+"=redacted&")}}else v=null;else v=p;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+v})}(i.j,i.u,i.A,i.m,i.W,i.s)}function qs(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function vs(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=Dl(i,n),u==qi){4==e&&(i.o=4,Hi(14),o=!1),Jt(i.j,i.m,null,"[Incomplete Response]");break}if(u==vr){i.o=4,Hi(15),Jt(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Jt(i.j,i.m,u,null),Us(i,u)}qs(i)&&u!=qi&&u!=vr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Hi(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qr(e),e.M=!0,Hi(11))):(Jt(i.j,i.m,n,"[Invalid Chunked Response]"),Xs(i),Co(i))}function Dl(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?qi:(n=Number(e.substring(n,o)),isNaN(n)?vr:(o+=1)+n>e.length?qi:(e=e.slice(o,o+n),i.C=o+n,e))}function ra(i){i.Y=Date.now()+i.P,Aa(i,i.P)}function Aa(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Pi(St(i.lb,i),e)}function Go(i){i.B&&(de.clearTimeout(i.B),i.B=null)}function Co(i){0==i.l.H||i.J||js(i.l,i)}function Xs(i){Go(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,dn(i.V),Ui(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Us(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Lr(n.i,i)))if(!i.K&&Lr(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Zi(n),L(n)}Qr(n),Hi(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Pi(St(n.ib,n),6e3));if(1>=Ts(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gi(n,11)}else if((i.K||n.g==i)&&Zi(n),!_t(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let G=u[e];if(n.V=G[0],G=G[1],2==n.H)if("c"==G[0]){n.K=G[1],n.pa=G[2];const X=G[3];null!=X&&(n.ra=X,n.l.info("VER="+n.ra));const fe=G[4];null!=fe&&(n.Ga=fe,n.l.info("SVER="+n.Ga));const Ne=G[5];null!=Ne&&"number"==typeof Ne&&0<Ne&&(n.L=o=1.5*Ne,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const nt=i.g;if(nt){const Pt=nt.g?nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pt){var p=o.i;p.g||-1==Pt.indexOf("spdy")&&-1==Pt.indexOf("quic")&&-1==Pt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Ao(p,p.h),p.h=null))}if(o.F){const Ut=nt.g?nt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ut&&(o.Da=Ut,ir(o.I,o.F,Ut))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var v=i;if((o=n).wa=hs(o,o.J?o.pa:null,o.Y),v.K){Ks(o.i,v);var N=v,F=o.L;F&&N.setTimeout(F),N.B&&(Go(N),ra(N)),o.g=v}else wr(o);0<n.j.length&&x(n)}else"stop"!=G[0]&&"close"!=G[0]||Gi(n,7);else 3==n.H&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?Gi(n,7):ct(n):"noop"!=G[0]&&n.h&&n.h.Aa(G),n.A=0)}gi()}catch{}}function eo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ie(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function zo(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ie(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function ia(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ie(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,p=0;p<u;p++)e.call(void 0,o[p],n&&n[p],i)}(Ce=yn.prototype).setTimeout=function(i){this.P=i},Ce.nb=function(i){i=i.target;const e=this.M;e&&3==Yi(i)?e.l():this.Pa(i)},Ce.Pa=function(i){try{if(i==this.g)e:{const X=Yi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||Me||this.g&&(this.h.h||this.g.ja()||la(this.g)))){this.J||4!=X||7==e||gi(),Go(this);var n=this.g.da();this.ca=n;t:if(qs(this)){var o=la(this.g);i="";var u=o.length,p=4==Yi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),Co(this);var v="";break t}this.h.i=new de.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:p&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==n,function bt(i,e,n,o,u,p,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+p+" "+v})}(this.j,this.u,this.A,this.m,this.W,X,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var N,F=this.g;if((N=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(N)){var G=N;break t}}G=null}if(!(n=G)){this.i=!1,this.o=3,Hi(12),Xs(this),Co(this);break e}Jt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Us(this,n)}this.S?(vs(this,X,v),Me&&this.i&&3==X&&(nr(this.U,this.V,"tick",this.mb),this.V.start())):(Jt(this.j,this.m,v,null),Us(this,v)),4==X&&Xs(this),this.i&&!this.J&&(4==X?js(this.l,this):(this.i=!1,ra(this)))}else(function z(i){const e={};i=(i.g&&2<=Yi(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(_t(i[o]))continue;var n=we(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const p=e[u]||[];e[u]=p,p.push(n)}!function ve(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),Xs(this),Co(this)}}}catch{}},Ce.mb=function(){if(this.g){var i=Yi(this.g),e=this.g.ja();this.C<e.length&&(Go(this),vs(this,i,e),this.i&&4!=i&&ra(this))}},Ce.cancel=function(){this.J=!0,Xs(this)},Ce.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Rn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(gi(),Hi(17)),Xs(this),this.o=2,Co(this)):Aa(this,this.Y-i)};var Wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ns(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ns){this.h=i.h,Jn(this,i.j),this.s=i.s,this.g=i.g,Pr(this,i.m),this.l=i.l;var e=i.i,n=new Or;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ai(this,n),this.o=i.o}else i&&(e=String(i).match(Wo))?(this.h=!1,Jn(this,e[1]||"",!0),this.s=Ri(e[2]||""),this.g=Ri(e[3]||"",!0),Pr(this,e[4]),this.l=Ri(e[5]||"",!0),Ai(this,e[6]||"",!0),this.o=Ri(e[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}function to(i){return new Ns(i)}function Jn(i,e,n){i.j=n?Ri(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Pr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ai(i,e,n){e instanceof Or?(i.i=e,function us(i,e){e&&!i.j&&(oi(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(bs(this,o),no(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Es(e,zt)),i.i=new Or(e,i.h))}function ir(i,e,n){i.i.set(e,n)}function si(i){return ir(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ri(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Es(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,So),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function So(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ns.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Es(e,sa,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Es(e,sa,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Es(n,"/"==n.charAt(0)?Er:Na,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Es(n,Kn)),i.join("")};var sa=/[#\/\?@]/g,Na=/[#\?:]/g,Er=/[#\?]/g,zt=/[#\?@]/g,Kn=/#/g;function Or(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function oi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ra(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var p=i[n].substring(0,o);u=i[n].substring(o+1)}else p=i[n];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function bs(i,e){oi(i),e=xr(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Wr(i,e){return oi(i),e=xr(i,e),i.g.has(e)}function no(i,e,n){bs(i,e),0<n.length&&(i.i=null,i.g.set(xr(i,e),Le(n)),i.h+=n.length)}function xr(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function xn(i){this.l=i||ma,i=de.PerformanceNavigationTiming?0<(i=de.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=Or.prototype).add=function(i,e){oi(this),this.i=null,i=xr(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ce.forEach=function(i,e){oi(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ce.ta=function(){oi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let p=0;p<u.length;p++)n.push(e[o])}return n},Ce.Z=function(i){oi(this);let e=[];if("string"==typeof i)Wr(this,i)&&(e=e.concat(this.g.get(xr(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ce.set=function(i,e){return oi(this),this.i=null,Wr(this,i=xr(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ce.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const p=encodeURIComponent(String(o)),v=this.Z(o);for(o=0;o<v.length;o++){var u=p;""!==v[o]&&(u+="="+encodeURIComponent(String(v[o]))),i.push(u)}}return this.i=i.join("&")};var ma=10;function _a(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ts(i){return i.h?1:i.g?i.g.size:0}function Lr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ao(i,e){i.g?i.g.add(e):i.h=e}function Ks(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function $i(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Le(i.i)}xn.prototype.cancel=function(){if(this.i=$i(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ns=class{stringify(i){return de.JSON.stringify(i,void 0)}parse(i){return de.JSON.parse(i,void 0)}};function ja(){this.g=new ns}function fo(i,e,n){const o=n||"";try{eo(i,function(u,p){let v=u;ze(u)&&(v=Vs(u)),e.push(o+p+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function xo(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ms(i){this.l=i.ec||null,this.j=i.ob||!1}function Bn(i,e){On.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ro,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Re(Ms,vi),Ms.prototype.g=function(){return new Bn(this.l,this.j)},Ms.prototype.i=function(i){return function(){return i}}({}),Re(Bn,On);var ro=0;function ko(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function po(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Hs(i)}function Hs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ce=Bn.prototype).open=function(i,e){if(this.readyState!=ro)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Hs(this)},Ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,po(this)),this.readyState=ro},Ce.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ko(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ce.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?po(this):Hs(this),3==this.readyState&&ko(this)}},Ce.Za=function(i){this.g&&(this.response=this.responseText=i,po(this))},Ce.Ya=function(i){this.g&&(this.response=i,po(this))},Ce.ka=function(){this.g&&po(this)},Ce.setRequestHeader=function(i,e){this.v.append(i,e)},Ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Bn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var $a=de.JSON.parse;function Yr(i){On.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rs,this.L=this.M=!1}Re(Yr,On);var rs="",Zr=/^https?$/i,Ga=["POST","PUT"];function Is(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,aa(i),go(i)}function aa(i){i.F||(i.F=!0,Ir(i,"complete"),Ir(i,"error"))}function bi(i){if(i.h&&typeof Ye<"u"&&(!i.C[1]||4!=Yi(i)||2!=i.da()))if(i.v&&4==Yi(i))Sn(i.La,0,i);else if(Ir(i,"readystatechange"),4==Yi(i)){i.h=!1;try{const v=i.da();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===v){var u=String(i.I).match(Wo)[1]||null;!u&&de.self&&de.self.location&&(u=de.self.location.protocol.slice(0,-1)),o=!Zr.test(u?u.toLowerCase():"")}n=o}if(n)Ir(i,"complete"),Ir(i,"success");else{i.m=6;try{var p=2<Yi(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.da()+"]",aa(i)}}finally{go(i)}}}function go(i,e){if(i.g){ui(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Ir(i,"ready");try{n.onreadystatechange=o}catch{}}}function ui(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(de.clearTimeout(i.A),i.A=null)}function Yi(i){return i.g?i.g.readyState:0}function la(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case rs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function q(i){let e="";return Y(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function ye(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=q(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):ir(i,e,n))}function Ee(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Ve(i){this.Ga=0,this.j=[],this.l=new tt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ee("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ee("baseRetryDelayMs",5e3,i),this.hb=Ee("retryDelaySeedMs",1e4,i),this.eb=Ee("forwardChannelMaxRetries",2,i),this.xa=Ee("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new xn(i&&i.concurrentRequestLimit),this.Ja=new ja,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ct(i){if(j(i),3==i.H){var e=i.W++,n=to(i.I);if(ir(n,"SID",i.K),ir(n,"RID",e),ir(n,"TYPE","terminate"),Nt(i,n),(e=new yn(i,i.l,e)).L=2,e.v=si(to(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&de.Image&&((new Image).src=e.v,n=!0),n||(e.g=ya(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ra(e)}$s(i)}function L(i){i.g&&(qr(i),i.g.cancel(),i.g=null)}function j(i){L(i),i.u&&(de.clearTimeout(i.u),i.u=null),Zi(i),i.i.cancel(),i.m&&("number"==typeof i.m&&de.clearTimeout(i.m),i.m=null)}function x(i){if(!_a(i.i)&&!i.m){i.m=!0;var e=i.Na;se||Oe(),te||(se(),te=!0),ie.add(e,i),i.C=0}}function be(i,e){var n;n=e?e.m:i.W++;const o=to(i.I);ir(o,"SID",i.K),ir(o,"RID",n),ir(o,"AID",i.V),Nt(i,o),i.o&&i.s&&ye(o,i.o,i.s),n=new yn(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=hn(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Ao(i.i,n),Ei(n,o,e)}function Nt(i,e){i.na&&Y(i.na,function(n,o){ir(e,o,n)}),i.h&&eo({},function(n,o){ir(e,o,n)})}function hn(i,e,n){n=Math.min(i.j.length,n);var o=i.h?St(i.h.Va,i.h,i):null;e:{var u=i.j;let p=-1;for(;;){const v=["count="+n];-1==p?0<n?(p=u[0].g,v.push("ofs="+p)):p=0:v.push("ofs="+p);let N=!0;for(let F=0;F<n;F++){let G=u[F].g;const X=u[F].map;if(G-=p,0>G)p=Math.max(0,u[F].g-100),N=!1;else try{fo(X,v,"req"+G+"_")}catch{o&&o(X)}}if(N){o=v.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function wr(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;se||Oe(),te||(se(),te=!0),ie.add(e,i),i.A=0}}function Qr(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Pi(St(i.Ma,i),Ni(i,i.A)),i.A++,0))}function qr(i){null!=i.B&&(de.clearTimeout(i.B),i.B=null)}function Dr(i){i.g=new yn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=to(i.wa);ir(e,"RID","rpc"),ir(e,"SID",i.K),ir(e,"AID",i.V),ir(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&ir(e,"TO",i.qa),ir(e,"TYPE","xmlhttp"),Nt(i,e),i.o&&i.s&&ye(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=si(to(e)),n.s=null,n.S=!0,Bs(n,i)}function Zi(i){null!=i.v&&(de.clearTimeout(i.v),i.v=null)}function js(i,e){var n=null;if(i.g==e){Zi(i),qr(i),i.g=null;var o=2}else{if(!Lr(i.i,e))return;n=e.F,Ks(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Ir(o=rr(),new $o(o,n)),x(i)}else wr(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Q(i,e){return!(Ts(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Pi(St(i.Na,i,e),Ni(i,i.C)),i.C++,0)))}(i,e)||2==o&&Qr(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Gi(i,5);break;case 4:Gi(i,10);break;case 3:Gi(i,6);break;default:Gi(i,2)}}function Ni(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Gi(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=St(i.pb,i);n||(n=new Ns("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||Jn(n,"https"),si(n)),function ds(i,e){const n=new tt;if(de.Image){const o=new Image;o.onload=$n(xo,n,o,"TestLoadImage: loaded",!0,e),o.onerror=$n(xo,n,o,"TestLoadImage: error",!1,e),o.onabort=$n(xo,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=$n(xo,n,o,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Hi(2);i.H=0,i.h&&i.h.za(e),$s(i),j(i)}function $s(i){if(i.H=0,i.ma=[],i.h){const e=$i(i.i);(0!=e.length||0!=i.j.length)&&(Ue(i.ma,e),Ue(i.ma,i.j),i.i.i.length=0,Le(i.j),i.j.length=0),i.h.ya()}}function hs(i,e,n){var o=n instanceof Ns?to(n):new Ns(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Pr(o,o.m);else{var u=de.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var p=new Ns(null);o&&Jn(p,o),e&&(p.g=e),u&&Pr(p,u),n&&(p.l=n),o=p}return e=i.Da,(n=i.F)&&e&&ir(o,n,e),ir(o,"VER",i.ra),Nt(i,o),o}function ya(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yr(n&&i.Ha&&!i.va?new Ms({ob:!0}):i.va)).Oa(i.J),e}function va(){}function di(){if(vn&&!(10<=Number(Dn)))throw Error("Environmental error: no available transport.")}function Qi(i,e){On.call(this),this.g=new Ve(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!_t(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_t(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ea(this)}function Ps(i){Js.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function za(){Bt.call(this),this.status=1}function Ea(i){this.g=i}function mo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Kl(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var p=i.g[3],v=(e=i.g[0])+(p^(n=i.g[1])&((u=i.g[2])^p))+o[0]+3614090360&4294967295;v=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=n+(v<<7&4294967295|v>>>25))+((v=p+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=u+(n^p&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^u&(p^e))+o[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=e+(p^n&(u^p))+o[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=p+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=u+(n^p&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^u&(p^e))+o[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=e+(p^n&(u^p))+o[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=p+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=u+(n^p&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^u&(p^e))+o[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=e+(p^n&(u^p))+o[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=p+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=u+(n^p&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^u&(p^e))+o[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=e+(u^p&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=p+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^n&(p^e))+o[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=n+(p^e&(u^p))+o[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=e+(u^p&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=p+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^n&(p^e))+o[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=n+(p^e&(u^p))+o[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=e+(u^p&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=p+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^n&(p^e))+o[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=n+(p^e&(u^p))+o[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=e+(u^p&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=p+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^n&(p^e))+o[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=n+(p^e&(u^p))+o[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=e+(n^u^p)+o[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=p+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=u+(p^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=n+(u^p^e)+o[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^u^p)+o[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=p+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=u+(p^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=n+(u^p^e)+o[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^u^p)+o[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=p+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=u+(p^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=n+(u^p^e)+o[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^u^p)+o[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=p+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=u+(p^e^n)+o[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=n+(u^p^e)+o[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=e+(u^(n|~p))+o[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=p+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=u+(e^(p|~n))+o[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=n+(p^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=e+(u^(n|~p))+o[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=p+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=u+(e^(p|~n))+o[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=n+(p^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=e+(u^(n|~p))+o[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=p+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=u+(e^(p|~n))+o[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=n+(p^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((p=(e=n+((v=e+(u^(n|~p))+o[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=p+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((u=p+((v=u+(e^(p|~n))+o[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(v<<21&4294967295|v>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+p&4294967295}function Ur(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var p=0|i[u];o&&p==e||(n[u]=p,o=!1)}this.g=n}(Ce=Yr.prototype).Oa=function(i){this.M=i},Ce.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():At.g(),this.C=function Kr(i){return i.h||(i.h=i.i())}(this.u?this.u:At),this.g.onreadystatechange=St(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(p){return void Is(this,p)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const p of o.keys())n.set(p,o.get(p))}o=Array.from(n.keys()).find(p=>"content-type"==p.toLowerCase()),u=de.FormData&&i instanceof de.FormData,!(0<=Qe(Ga,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,v]of n)this.g.setRequestHeader(p,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ui(this),0<this.B&&((this.L=function Ki(i){return vn&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.ua,this)):this.A=Sn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){Is(this,p)}},Ce.ua=function(){typeof Ye<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ir(this,"timeout"),this.abort(8))},Ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ir(this,"complete"),Ir(this,"abort"),go(this))},Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),go(this,!0)),Yr.$.N.call(this)},Ce.La=function(){this.s||(this.G||this.v||this.l?bi(this):this.kb())},Ce.kb=function(){bi(this)},Ce.isActive=function(){return!!this.g},Ce.da=function(){try{return 2<Yi(this)?this.g.status:-1}catch{return-1}},Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),$a(e)}},Ce.Ia=function(){return this.m},Ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=Ve.prototype).ra=8,Ce.H=1,Ce.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new yn(this,this.l,i);let p=this.s;if(this.U&&(p?(p=Se(p),Ot(p,this.U)):p=this.U),null!==this.o||this.O||(u.I=p,p=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hn(this,u,e),ir(n=to(this.I),"RID",i),ir(n,"CVER",22),this.F&&ir(n,"X-HTTP-Session-Id",this.F),Nt(this,n),p&&(this.O?e="headers="+encodeURIComponent(String(q(p)))+"&"+e:this.o&&ye(n,this.o,p)),Ao(this.i,u),this.bb&&ir(n,"TYPE","init"),this.P?(ir(n,"$req",e),ir(n,"SID","null"),u.aa=!0,Ei(u,n,null)):Ei(u,n,e),this.H=2}}else 3==this.H&&(i?be(this,i):0==this.j.length||_a(this.i)||be(this))},Ce.Ma=function(){if(this.u=null,Dr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Pi(St(this.jb,this),i)}},Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hi(10),L(this),Dr(this))},Ce.ib=function(){null!=this.v&&(this.v=null,L(this),Qr(this),Hi(19))},Ce.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Hi(2)):(this.l.info("Failed to ping google.com"),Hi(1))},Ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ce=va.prototype).Ba=function(){},Ce.Aa=function(){},Ce.za=function(){},Ce.ya=function(){},Ce.isActive=function(){return!0},Ce.Va=function(){},di.prototype.g=function(i,e){return new Qi(i,e)},Re(Qi,On),Qi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Hi(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=hs(i,null,i.Y),x(i)},Qi.prototype.close=function(){ct(this.g)},Qi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Vs(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&x(e)},Qi.prototype.N=function(){this.g.h=null,delete this.j,ct(this.g),delete this.g,Qi.$.N.call(this)},Re(Ps,Js),Re(za,Bt),Re(Ea,va),Ea.prototype.Ba=function(){Ir(this.g,"a")},Ea.prototype.Aa=function(i){Ir(this.g,new Ps(i))},Ea.prototype.za=function(i){Ir(this.g,new za)},Ea.prototype.ya=function(){Ir(this.g,"b")},Re(mo,function Cl(){this.blockSize=-1}),mo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mo.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,p=0;p<e;){if(0==u)for(;p<=n;)Kl(this,i,p),p+=this.blockSize;if("string"==typeof i){for(;p<e;)if(o[u++]=i.charCodeAt(p++),u==this.blockSize){Kl(this,o),u=0;break}}else for(;p<e;)if(o[u++]=i[p++],u==this.blockSize){Kl(this,o),u=0;break}}this.h=u,this.i+=e},mo.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Yl={};function ca(i){return-128<=i&&128>i?function er(i,e){var n=Yl;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Ur([0|e],0>e?-1:0)}):new Ur([0|i],0>i?-1:0)}function Fo(i){if(isNaN(i)||!isFinite(i))return _o;if(0>i)return is(Fo(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=Wa;return new Ur(e,0)}var Wa=4294967296,_o=ca(0),Ji=ca(1),qo=ca(16777216);function Ro(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function No(i){return-1==i.h}function is(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Ur(n,~i.h).add(Ji)}function Sl(i,e){return i.add(is(e))}function Zl(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function qa(i,e){this.g=i,this.h=e}function du(i,e){if(Ro(e))throw Error("division by zero");if(Ro(i))return new qa(_o,_o);if(No(i))return e=du(is(i),e),new qa(is(e.g),is(e.h));if(No(e))return e=du(i,is(e)),new qa(is(e.g),e.h);if(30<i.g.length){if(No(i)||No(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ji,o=e;0>=o.X(i);)n=ss(n),o=ss(o);var u=yo(n,1),p=yo(o,1);for(o=yo(o,2),n=yo(n,2);!Ro(o);){var v=p.add(o);0>=v.X(i)&&(u=u.add(n),p=v),o=yo(o,1),n=yo(n,1)}return e=Sl(i,u.R(e)),new qa(u,e)}for(u=_o;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),v=(p=Fo(n)).R(e);No(v)||0<v.X(i);)v=(p=Fo(n-=o)).R(e);Ro(p)&&(p=Ji),u=u.add(p),i=Sl(i,v)}return new qa(u,i)}function ss(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Ur(n,i.h)}function yo(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],p=0;p<o;p++)u[p]=0<e?i.D(p+n)>>>e|i.D(p+n+1)<<32-e:i.D(p+n);return new Ur(u,i.h)}(Ce=Ur.prototype).ea=function(){if(No(this))return-is(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:Wa+o)*e,e*=Wa}return i},Ce.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Ro(this))return"0";if(No(this))return"-"+is(this).toString(i);for(var e=Fo(Math.pow(i,6)),n=this,o="";;){var u=du(n,e).g,p=((0<(n=Sl(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Ro(n=u))return p+o;for(;6>p.length;)p="0"+p;o=p+o}},Ce.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ce.X=function(i){return No(i=Sl(this,i))?-1:Ro(i)?0:1},Ce.abs=function(){return No(this)?is(this):this},Ce.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var p=o+(65535&this.D(u))+(65535&i.D(u)),v=(p>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=v>>>16,n[u]=(v&=65535)<<16|(p&=65535)}return new Ur(n,-2147483648&n[n.length-1]?-1:0)},Ce.R=function(i){if(Ro(this)||Ro(i))return _o;if(No(this))return No(i)?is(this).R(is(i)):is(is(this).R(i));if(No(i))return is(this.R(is(i)));if(0>this.X(qo)&&0>i.X(qo))return Fo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var p=this.D(o)>>>16,v=65535&this.D(o),N=i.D(u)>>>16,F=65535&i.D(u);n[2*o+2*u]+=v*F,Zl(n,2*o+2*u),n[2*o+2*u+1]+=p*F,Zl(n,2*o+2*u+1),n[2*o+2*u+1]+=v*N,Zl(n,2*o+2*u+1),n[2*o+2*u+2]+=p*N,Zl(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Ur(n,0)},Ce.gb=function(i){return du(this,i).h},Ce.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Ur(n,this.h&i.h)},Ce.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Ur(n,this.h|i.h)},Ce.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Ur(n,this.h^i.h)},di.prototype.createWebChannel=di.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,ii.NO_ERROR=0,ii.TIMEOUT=8,ii.HTTP_ERROR=6,Sa.COMPLETE="complete",na.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",On.prototype.listen=On.prototype.O,Yr.prototype.listenOnce=Yr.prototype.P,Yr.prototype.getLastError=Yr.prototype.Sa,Yr.prototype.getLastErrorCode=Yr.prototype.Ia,Yr.prototype.getStatus=Yr.prototype.da,Yr.prototype.getResponseJson=Yr.prototype.Wa,Yr.prototype.getResponseText=Yr.prototype.ja,Yr.prototype.send=Yr.prototype.ha,Yr.prototype.setWithCredentials=Yr.prototype.Oa,mo.prototype.digest=mo.prototype.l,mo.prototype.reset=mo.prototype.reset,mo.prototype.update=mo.prototype.j,Ur.prototype.add=Ur.prototype.add,Ur.prototype.multiply=Ur.prototype.R,Ur.prototype.modulo=Ur.prototype.gb,Ur.prototype.compare=Ur.prototype.X,Ur.prototype.toNumber=Ur.prototype.ea,Ur.prototype.toString=Ur.prototype.toString,Ur.prototype.getBits=Ur.prototype.D,Ur.fromNumber=Fo,Ur.fromString=function Lo(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return is(Lo(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fo(Math.pow(e,8)),o=_o,u=0;u<i.length;u+=8){var p=Math.min(8,i.length-u),v=parseInt(i.substring(u,u+p),e);8>p?(p=Fo(Math.pow(e,p)),o=o.R(p).add(Fo(v))):o=(o=o.R(n)).add(Fo(v))}return o};var hu=Ae.createWebChannelTransport=function(){return new di},R=Ae.getStatEventTarget=function(){return rr()},J=Ae.ErrorCode=ii,V=Ae.EventType=Sa,W=Ae.Event=Qn,Te=Ae.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rt=Ae.FetchXmlHttpFactory=Ms,Et=Ae.WebChannel=na,En=Ae.XhrIo=Yr,Vr=Ae.Md5=mo,gr=Ae.Integer=Ur;const br="@firebase/firestore";class bn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let mi="10.5.2";const kr=new y.Yd("@firebase/firestore");function Ti(){return kr.logLevel}function at(i,...e){if(kr.logLevel<=y.in.DEBUG){const n=e.map(Ko);kr.debug(`Firestore (${mi}): ${i}`,...n)}}function Cr(i,...e){if(kr.logLevel<=y.in.ERROR){const n=e.map(Ko);kr.error(`Firestore (${mi}): ${i}`,...n)}}function Hr(i,...e){if(kr.logLevel<=y.in.WARN){const n=e.map(Ko);kr.warn(`Firestore (${mi}): ${i}`,...n)}}function Ko(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Wt(i="Unexpected state"){const e=`FIRESTORE (${mi}) INTERNAL ASSERTION FAILED: `+i;throw Cr(e),new Error(e)}function cn(i,e){i||Wt()}function Ht(i,e){return i}const Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends ce.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ii{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class Al{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ds{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const p=G=>this.i!==u?(u=this.i,n(G)):Promise.resolve();let v=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new ws,e.enqueueRetryable(()=>p(this.currentUser))};const N=()=>{const G=v;e.enqueueRetryable((0,E.Z)(function*(){yield G.promise,yield p(o.currentUser)}))},F=G=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(G=>F(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?F(G):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new ws)}},0),N()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(cn("string"==typeof o.accessToken),new Ii(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return cn(null===e||"string"==typeof e),new bn(e)}}class vo{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sh{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new vo(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ba{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class io{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=p=>{null!=p.error&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.R;return this.R=p.token,at("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const u=p=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(cn("string"==typeof n.token),this.R=n.token,new ba(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gf(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class fu{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=gf(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return o}}function Un(i,e){return i<e?-1:i>e?1:0}function Eo(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class _i{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Dt(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Dt(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Dt(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dt(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _i.fromMillis(Date.now())}static fromDate(e){return _i.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new _i(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Un(this.nanoseconds,e.nanoseconds):Un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tn(e)}static min(){return new Tn(new _i(0,0))}static max(){return new Tn(new _i(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wc{constructor(e,n,o){void 0===n?n=0:n>e.length&&Wt(),void 0===o?o=e.length-n:o>e.length-n&&Wt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===wc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wc?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const p=e.get(u),v=n.get(u);if(p<v)return-1;if(p>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class jr extends wc{construct(e,n,o){return new jr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Dt(Xe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new jr(n)}static emptyPath(){return new jr([])}}const sn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends wc{construct(e,n,o){return new wi(e,n,o)}static isValidIdentifier(e){return sn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wi(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const p=()=>{if(0===o.length)throw new Dt(Xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let v=!1;for(;u<e.length;){const N=e[u];if("\\"===N){if(u+1===e.length)throw new Dt(Xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[u+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Dt(Xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=F,u+=2}else"`"===N?(v=!v,u++):"."!==N||v?(o+=N,u++):(p(),u++)}if(p(),v)throw new Dt(Xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wi(n)}static emptyPath(){return new wi([])}}class qt{constructor(e){this.path=e}static fromPath(e){return new qt(jr.fromString(e))}static fromName(e){return new qt(jr.fromString(e).popFirst(5))}static empty(){return new qt(jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return jr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new jr(e.slice()))}}function Rl(i){return new Yo(i.readTime,i.key,-1)}class Yo{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Yo(Tn.min(),qt.empty(),-1)}static max(){return new Yo(Tn.max(),qt.empty(),-1)}}function Tt(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=qt.comparator(i.documentKey,e.documentKey),0!==n?n:Un(i.largestBatchId,e.largestBatchId))}const Sr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function bo(i){return Os.apply(this,arguments)}function Os(){return Os=(0,E.Z)(function*(i){if(i.code!==Xe.FAILED_PRECONDITION||i.message!==Sr)throw i;at("LocalStore","Unexpectedly lost primary lease")}),Os.apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new qe((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(n,p).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof qe?n:qe.resolve(n)}catch(n){return qe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):qe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):qe.reject(n)}static resolve(e){return new qe((n,o)=>{n(e)})}static reject(e){return new qe((n,o)=>{o(e)})}static waitFor(e){return new qe((n,o)=>{let u=0,p=0,v=!1;e.forEach(N=>{++u,N.next(()=>{++p,v&&p===u&&n()},F=>o(F))}),v=!0,p===u&&n()})}static or(e){let n=qe.resolve(!1);for(const o of e)n=n.next(u=>u?qe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,p)=>{o.push(n.call(this,u,p))}),this.waitFor(o)}static mapArray(e,n){return new qe((o,u)=>{const p=e.length,v=new Array(p);let N=0;for(let F=0;F<p;F++){const G=F;n(e[G]).next(X=>{v[G]=X,++N,N===p&&o(v)},X=>u(X))}})}static doWhile(e,n){return new qe((o,u)=>{const p=()=>{!0===e()?n().next(()=>{p()},u):o()};p()})}}function Pa(i){return"IndexedDbTransactionError"===i.name}let Cs=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function Ac(i){return null==i}function Ml(i){return 0===i&&1/i==-1/0}function yd(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Po(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function mu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class xi{constructor(e,n){this.comparator=e,this.root=n||As.EMPTY}insert(e,n){return new xi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,As.BLACK,null,null))}remove(e){return new xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,As.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=n?o(e.key,n):1,n&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class As{constructor(e,n,o,u,p){this.key=e,this.value=n,this.color=o??As.RED,this.left=u??As.EMPTY,this.right=p??As.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,p){return new As(e??this.key,n??this.value,o??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===p?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return As.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return As.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,As.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,As.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wt();const e=this.left.check();if(e!==this.right.check())throw Wt();return e+(this.isRed()?0:1)}}As.EMPTY=null,As.RED=!0,As.BLACK=!1,As.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt()}get value(){throw Wt()}get color(){throw Wt()}get left(){throw Wt()}get right(){throw Wt()}copy(e,n,o,u,p){return this}insert(e,n,o){return new As(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(e){this.comparator=e,this.data=new xi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yf(this.data.getIterator())}getIteratorFrom(e){return new yf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jr(this.comparator);return n.data=e,n}}class yf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ki{constructor(e){this.fields=e,e.sort(wi.comparator)}static empty(){return new ki([])}unionWith(e){let n=new Jr(wi.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ki(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class al extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ps{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new al("Invalid base64 string: "+p):p}}(e);return new ps(n)}static fromUint8Array(e){const n=function(u){let p="";for(let v=0;v<u.length;++v)p+=String.fromCharCode(u[v]);return p}(e);return new ps(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ps.EMPTY_BYTE_STRING=new ps("");const Mc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(i){if(cn(!!i),"string"==typeof i){let e=0;const n=Mc.exec(i);if(cn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Di(i.seconds),nanos:Di(i.nanos)}}function Di(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function oo(i){return"string"==typeof i?ps.fromBase64String(i):ps.fromUint8Array(i)}function Za(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ll(i){const e=i.mapValue.fields.__previous_value__;return Za(e)?ll(e):e}function Ta(i){const e=Vo(i.mapValue.fields.__local_write_time__.timestampValue);return new _i(e.seconds,e.nanos)}class Ol{constructor(e,n,o,u,p,v,N,F,G){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=N,this.longPollingOptions=F,this.useFetchStreams=G}}class Qa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}const ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Za(i)?4:Ja(i)?9007199254740991:10:Wt()}function Ci(i,e){if(i===e)return!0;const n=xl(i);if(n!==xl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ta(i).isEqual(Ta(e));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const v=Vo(u.timestampValue),N=Vo(p.timestampValue);return v.seconds===N.seconds&&v.nanos===N.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return p=e,oo(i.bytesValue).isEqual(oo(p.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,p){return Di(u.geoPointValue.latitude)===Di(p.geoPointValue.latitude)&&Di(u.geoPointValue.longitude)===Di(p.geoPointValue.longitude)}(i,e);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return Di(u.integerValue)===Di(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const v=Di(u.doubleValue),N=Di(p.doubleValue);return v===N?Ml(v)===Ml(N):isNaN(v)&&isNaN(N)}return!1}(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:return function(u,p){const v=u.mapValue.fields||{},N=p.mapValue.fields||{};if(yd(v)!==yd(N))return!1;for(const F in v)if(v.hasOwnProperty(F)&&(void 0===N[F]||!Ci(v[F],N[F])))return!1;return!0}(i,e);default:return Wt()}var p}function cl(i,e){return void 0!==(i.values||[]).find(n=>Ci(n,e))}function wa(i,e){if(i===e)return 0;const n=xl(i),o=xl(e);if(n!==o)return Un(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Un(i.booleanValue,e.booleanValue);case 2:return function(p,v){const N=Di(p.integerValue||p.doubleValue),F=Di(v.integerValue||v.doubleValue);return N<F?-1:N>F?1:N===F?0:isNaN(N)?isNaN(F)?0:-1:1}(i,e);case 3:return _u(i.timestampValue,e.timestampValue);case 4:return _u(Ta(i),Ta(e));case 5:return Un(i.stringValue,e.stringValue);case 6:return function(p,v){const N=oo(p),F=oo(v);return N.compareTo(F)}(i.bytesValue,e.bytesValue);case 7:return function(p,v){const N=p.split("/"),F=v.split("/");for(let G=0;G<N.length&&G<F.length;G++){const X=Un(N[G],F[G]);if(0!==X)return X}return Un(N.length,F.length)}(i.referenceValue,e.referenceValue);case 8:return function(p,v){const N=Un(Di(p.latitude),Di(v.latitude));return 0!==N?N:Un(Di(p.longitude),Di(v.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(p,v){const N=p.values||[],F=v.values||[];for(let G=0;G<N.length&&G<F.length;++G){const X=wa(N[G],F[G]);if(X)return X}return Un(N.length,F.length)}(i.arrayValue,e.arrayValue);case 10:return function(p,v){if(p===ka.mapValue&&v===ka.mapValue)return 0;if(p===ka.mapValue)return 1;if(v===ka.mapValue)return-1;const N=p.fields||{},F=Object.keys(N),G=v.fields||{},X=Object.keys(G);F.sort(),X.sort();for(let fe=0;fe<F.length&&fe<X.length;++fe){const Ne=Un(F[fe],X[fe]);if(0!==Ne)return Ne;const nt=wa(N[F[fe]],G[X[fe]]);if(0!==nt)return nt}return Un(F.length,X.length)}(i.mapValue,e.mapValue);default:throw Wt()}}function _u(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Un(i,e);const n=Vo(i),o=Vo(e),u=Un(n.seconds,o.seconds);return 0!==u?u:Un(n.nanos,o.nanos)}function da(i){return yu(i)}function yu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=Vo(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?oo(i.bytesValue).toBase64():"referenceValue"in i?qt.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",u=!0;for(const p of n.values||[])u?u=!1:o+=",",o+=yu(p);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",p=!0;for(const v of o)p?p=!1:u+=",",u+=`${v}:${yu(n.fields[v])}`;return u+"}"}(i.mapValue):Wt()}function ul(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ec(i){return!!i&&"integerValue"in i}function tc(i){return!!i&&"arrayValue"in i}function nc(i){return!!i&&"nullValue"in i}function vf(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function rc(i){return!!i&&"mapValue"in i}function dl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Po(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=dl(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ja(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ys{constructor(e){this.value=e}static empty(){return new Ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!rc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(n)}setAll(e){let n=wi.emptyPath(),o={},u=[];e.forEach((v,N)=>{if(!n.isImmediateParentOf(N)){const F=this.getFieldsMap(n);this.applyChanges(F,o,u),o={},u=[],n=N.popLast()}v?o[N.lastSegment()]=dl(v):u.push(N.lastSegment())});const p=this.getFieldsMap(n);this.applyChanges(p,o,u)}delete(e){const n=this.field(e.popLast());rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];rc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Po(n,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new Ys(dl(this.value))}}function ao(i){const e=[];return Po(i.fields,(n,o)=>{const u=new wi([n]);if(rc(o)){const p=ao(o.mapValue).fields;if(0===p.length)e.push(u);else for(const v of p)e.push(u.child(v))}else e.push(u)}),new ki(e)}class Fi{constructor(e,n,o,u,p,v,N){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=p,this.data=v,this.documentState=N}static newInvalidDocument(e){return new Fi(e,0,Tn.min(),Tn.min(),Tn.min(),Ys.empty(),0)}static newFoundDocument(e,n,o,u){return new Fi(e,1,n,Tn.min(),o,u,0)}static newNoDocument(e,n){return new Fi(e,2,n,Tn.min(),Tn.min(),Ys.empty(),0)}static newUnknownDocument(e,n){return new Fi(e,3,n,Tn.min(),Tn.min(),Ys.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Tn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hl{constructor(e,n){this.position=e,this.inclusive=n}}function Oc(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const p=e[u],v=i.position[u];if(o=p.field.isKeyField()?qt.comparator(qt.fromName(v.referenceValue),n.key):wa(v,n.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Ef(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ci(i.position[n],e.position[n]))return!1;return!0}class xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function lh(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ha{}class mr extends ha{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Zg(e,n,o):"array-contains"===n?new Pp(e,o):"in"===n?new bf(e,o):"not-in"===n?new zs(e,o):"array-contains-any"===n?new Tf(e,o):new mr(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Qg(e,o):new Jg(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(wa(n,this.value)):null!==n&&xl(this.value)===xl(n)&&this.matchesComparison(wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends ha{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Gr(e,n)}matches(e){return kl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function kl(i){return"and"===i.op}function Fa(i){return function Ap(i){for(const e of i.filters)if(e instanceof Gr)return!1;return!0}(i)&&kl(i)}function ch(i){if(i instanceof mr)return i.field.canonicalString()+i.op.toString()+da(i.value);if(Fa(i))return i.filters.map(e=>ch(e)).join(",");{const e=i.filters.map(n=>ch(n)).join(",");return`${i.op}(${e})`}}function Rp(i,e){return i instanceof mr?(o=i,(u=e)instanceof mr&&o.op===u.op&&o.field.isEqual(u.field)&&Ci(o.value,u.value)):i instanceof Gr?function(o,u){return u instanceof Gr&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((p,v,N)=>p&&Rp(v,u.filters[N]),!0)}(i,e):void Wt();var o,u}function Mp(i){return i instanceof mr?`${(n=i).field.canonicalString()} ${n.op} ${da(n.value)}`:i instanceof Gr?function(n){return n.op.toString()+" {"+n.getFilters().map(Mp).join(" ,")+"}"}(i):"Filter";var n}class Zg extends mr{constructor(e,n,o){super(e,n,o),this.key=qt.fromName(o.referenceValue)}matches(e){const n=qt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Qg extends mr{constructor(e,n){super(e,"in",n),this.keys=fl(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Jg extends mr{constructor(e,n){super(e,"not-in",n),this.keys=fl(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fl(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>qt.fromName(o.referenceValue))}class Pp extends mr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tc(n)&&cl(n.arrayValue,this.value)}}class bf extends mr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&cl(this.value.arrayValue,n)}}class zs extends mr{constructor(e,n){super(e,"not-in",n)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!cl(this.value.arrayValue,n)}}class Tf extends mr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>cl(this.value.arrayValue,o))}}class Eu{constructor(e,n=null,o=[],u=[],p=null,v=null,N=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=v,this.endAt=N,this.ce=null}}function uh(i,e=null,n=[],o=[],u=null,p=null,v=null){return new Eu(i,e,n,o,u,p,v)}function xs(i){const e=Ht(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>ch(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(p=o).field.canonicalString()+p.dir;var p}).join(","),Ac(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>da(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>da(o)).join(",")),e.ce=n}return e.ce}function Xa(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!lh(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Rp(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ef(i.startAt,e.startAt)&&Ef(i.endAt,e.endAt)}function bu(i){return qt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class el{constructor(e,n=null,o=[],u=[],p=null,v="F",N=null,F=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=v,this.startAt=N,this.endAt=F,this.le=null,this.he=null,this.Pe=null}}function ac(i){return new el(i)}function Qo(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Tu(i){return null!==i.collectionGroup}function tl(i){const e=Ht(i);if(null===e.le){e.le=[];const n=new Set;for(const p of e.explicitOrderBy)e.le.push(p),n.add(p.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(v){let N=new Jr(wi.comparator);return v.filters.forEach(F=>{F.getFlattenedFilters().forEach(G=>{G.isInequality()&&(N=N.add(G.field))})}),N})(e).forEach(p=>{n.has(p.canonicalString())||p.isKeyField()||e.le.push(new xc(p,o))}),n.has(wi.keyField().canonicalString())||e.le.push(new xc(wi.keyField(),o))}return e.le}function Jo(i){const e=Ht(i);return e.he||(e.he=function If(i,e){if("F"===i.limitType)return uh(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new xc(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new hl(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new hl(i.startAt.position,i.startAt.inclusive):null;return uh(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,tl(i))),e.he}function wf(i,e){const n=i.filters.concat([e]);return new el(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Fc(i,e,n){return new el(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Lc(i,e){return Xa(Jo(i),Jo(e))&&i.limitType===e.limitType}function Iu(i){return`${xs(Jo(i))}|lt:${i.limitType}`}function lc(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>Mp(u)).join(", ")}]`),Ac(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(v=u).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>da(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>da(u)).join(",")),`Target(${o})`}(Jo(i))}; limitType=${i.limitType})`}function Vc(i,e){return e.isFoundDocument()&&function(o,u){const p=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):qt.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p)}(i,e)&&function(o,u){for(const p of tl(o))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(i,e)&&function(o,u){for(const p of o.filters)if(!p.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(v,N,F){const G=Oc(v,N,F);return v.inclusive?G<=0:G<0}(o.startAt,tl(o),u)||o.endAt&&!function(v,N,F){const G=Oc(v,N,F);return v.inclusive?G>=0:G>0}(o.endAt,tl(o),u)));var o,u}function wu(i){return(e,n)=>{let o=!1;for(const u of tl(i)){const p=Op(u,e,n);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function Op(i,e,n){const o=i.field.isKeyField()?qt.comparator(e.key,n.key):function(p,v,N){const F=v.data.field(p),G=N.data.field(p);return null!==F&&null!==G?wa(F,G):Wt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Wt()}}class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(n,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return mu(this.inner)}size(){return this.innerSize}}const xp=new xi(qt.comparator);function wo(){return xp}const Df=new xi(qt.comparator);function Du(...i){let e=Df;for(const n of i)e=e.insert(n.key,n);return e}function Cu(i){let e=Df;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Bo(){return ph()}function fh(){return ph()}function ph(){return new Da(i=>i.toString(),(i,e)=>i.isEqual(e))}const gh=new xi(qt.comparator),Bc=new Jr(qt.comparator);function or(...i){let e=Bc;for(const n of i)e=e.add(n);return e}const kp=new Jr(Un);function mh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(e)?"-0":e}}function Sf(i){return{integerValue:""+i}}function Xg(i,e){return function ah(i){return"number"==typeof i&&Number.isInteger(i)&&!Ml(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Sf(e):mh(i,e)}class _h{constructor(){this._=void 0}}function em(i,e,n){return i instanceof Uc?function(u,p){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&Za(p)&&(p=ll(p)),p&&(v.fields.__previous_value__=p),{mapValue:v}}(n,e):i instanceof Hc?Af(i,e):i instanceof jc?Rf(i,e):function(u,p){const v=Id(u,p),N=Fp(v)+Fp(u.Ie);return ec(v)&&ec(u.Ie)?Sf(N):mh(u.serializer,N)}(i,e)}function tm(i,e,n){return i instanceof Hc?Af(i,e):i instanceof jc?Rf(i,e):n}function Id(i,e){return i instanceof wd?ec(o=e)||(p=o)&&"doubleValue"in p?e:{integerValue:0}:null;var o,p}class Uc extends _h{}class Hc extends _h{constructor(e){super(),this.elements=e}}function Af(i,e){const n=Nf(e);for(const o of i.elements)n.some(u=>Ci(u,o))||n.push(o);return{arrayValue:{values:n}}}class jc extends _h{constructor(e){super(),this.elements=e}}function Rf(i,e){let n=Nf(e);for(const o of i.elements)n=n.filter(u=>!Ci(u,o));return{arrayValue:{values:n}}}class wd extends _h{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Fp(i){return Di(i.integerValue||i.doubleValue)}function Nf(i){return tc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class __{constructor(e,n){this.version=e,this.transformResults=n}}class es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Pf{}function nm(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new zc(i.key,es.none()):new Fl(i.key,i.data,es.none());{const n=i.data,o=Ys.empty();let u=new Jr(wi.comparator);for(let p of e.fields)if(!u.has(p)){let v=n.field(p);null===v&&p.length>1&&(p=p.popLast(),v=n.field(p)),null===v?o.delete(p):o.set(p,v),u=u.add(p)}return new pl(i.key,o,new ki(u.toArray()),es.none())}}function y_(i,e,n){i instanceof Fl?function(u,p,v){const N=u.value.clone(),F=xf(u.fieldTransforms,p,v.transformResults);N.setAll(F),p.convertToFoundDocument(v.version,N).setHasCommittedMutations()}(i,e,n):i instanceof pl?function(u,p,v){if(!Mf(u.precondition,p))return void p.convertToUnknownDocument(v.version);const N=xf(u.fieldTransforms,p,v.transformResults),F=p.data;F.setAll(Of(u)),F.setAll(N),p.convertToFoundDocument(v.version,F).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Dd(i,e,n,o){return i instanceof Fl?function(p,v,N,F){if(!Mf(p.precondition,v))return N;const G=p.value.clone(),X=Gc(p.fieldTransforms,F,v);return G.setAll(X),v.convertToFoundDocument(v.version,G).setHasLocalMutations(),null}(i,e,n,o):i instanceof pl?function(p,v,N,F){if(!Mf(p.precondition,v))return N;const G=Gc(p.fieldTransforms,F,v),X=v.data;return X.setAll(Of(p)),X.setAll(G),v.convertToFoundDocument(v.version,X).setHasLocalMutations(),null===N?null:N.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(fe=>fe.field))}(i,e,n,o):(N=n,Mf(i.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):N);var v,N}function rm(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),p=Id(o.transform,u||null);null!=p&&(null===n&&(n=Ys.empty()),n.set(o.field,p))}return n||null}function Cd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&Eo(o,u,(p,v)=>function m_(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof Hc&&u instanceof Hc||o instanceof jc&&u instanceof jc?Eo(o.elements,u.elements,Ci):o instanceof wd&&u instanceof wd?Ci(o.Ie,u.Ie):o instanceof Uc&&u instanceof Uc);var o,u}(p,v))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class Fl extends Pf{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class pl extends Pf{constructor(e,n,o,u,p=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Of(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function xf(i,e,n){const o=new Map;cn(i.length===n.length);for(let u=0;u<n.length;u++){const p=i[u],v=p.transform,N=e.data.field(p.field);o.set(p.field,tm(v,N,n[u]))}return o}function Gc(i,e,n){const o=new Map;for(const u of i){const p=u.transform,v=n.data.field(u.field);o.set(u.field,em(p,v,e))}return o}class zc extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yh extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Su{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&y_(p,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Dd(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Dd(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=fh();return this.mutations.forEach(u=>{const p=e.get(u.key),v=p.overlayedDocument;let N=this.applyToLocalView(v,p.mutatedFields);N=n.has(u.key)?null:N;const F=nm(v,N);null!==F&&o.set(u.key,F),v.isValidDocument()||v.convertToNoDocument(Tn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),or())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,o)=>Cd(n,o))&&Eo(this.baseMutations,e.baseMutations,(n,o)=>Cd(n,o))}}class Au{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){cn(e.mutations.length===o.length);let u=gh;const p=e.mutations;for(let v=0;v<p.length;v++)u=u.insert(p[v].key,o[v].version);return new Au(e,n,o,u)}}class Wc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sm{constructor(e,n){this.count=e,this.unchangedNames=n}}var Zs,Xr;function Lp(i){if(void 0===i)return Cr("GRPC error has no .code"),Xe.UNKNOWN;switch(i){case Zs.OK:return Xe.OK;case Zs.CANCELLED:return Xe.CANCELLED;case Zs.UNKNOWN:return Xe.UNKNOWN;case Zs.DEADLINE_EXCEEDED:return Xe.DEADLINE_EXCEEDED;case Zs.RESOURCE_EXHAUSTED:return Xe.RESOURCE_EXHAUSTED;case Zs.INTERNAL:return Xe.INTERNAL;case Zs.UNAVAILABLE:return Xe.UNAVAILABLE;case Zs.UNAUTHENTICATED:return Xe.UNAUTHENTICATED;case Zs.INVALID_ARGUMENT:return Xe.INVALID_ARGUMENT;case Zs.NOT_FOUND:return Xe.NOT_FOUND;case Zs.ALREADY_EXISTS:return Xe.ALREADY_EXISTS;case Zs.PERMISSION_DENIED:return Xe.PERMISSION_DENIED;case Zs.FAILED_PRECONDITION:return Xe.FAILED_PRECONDITION;case Zs.ABORTED:return Xe.ABORTED;case Zs.OUT_OF_RANGE:return Xe.OUT_OF_RANGE;case Zs.UNIMPLEMENTED:return Xe.UNIMPLEMENTED;case Zs.DATA_LOSS:return Xe.DATA_LOSS;default:return Wt()}}(Xr=Zs||(Zs={}))[Xr.OK=0]="OK",Xr[Xr.CANCELLED=1]="CANCELLED",Xr[Xr.UNKNOWN=2]="UNKNOWN",Xr[Xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xr[Xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xr[Xr.NOT_FOUND=5]="NOT_FOUND",Xr[Xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xr[Xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xr[Xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xr[Xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xr[Xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xr[Xr.ABORTED=10]="ABORTED",Xr[Xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xr[Xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xr[Xr.INTERNAL=13]="INTERNAL",Xr[Xr.UNAVAILABLE=14]="UNAVAILABLE",Xr[Xr.DATA_LOSS=15]="DATA_LOSS";const Eh=new gr([4294967295,4294967295],0);function Bp(i){const e=function Vp(){return new TextEncoder}().encode(i),n=new Vr;return n.update(e),new Uint8Array(n.digest())}function Up(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new gr([n,o],0),new gr([u,p],0)]}class Uo{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new qc(`Invalid padding: ${n}`);if(o<0)throw new qc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new qc(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new qc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=gr.fromNumber(this.Te)}de(e,n,o){let u=e.add(n.multiply(gr.fromNumber(o)));return 1===u.compare(Eh)&&(u=new gr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Bp(e),[o,u]=Up(n);for(let p=0;p<this.hashCount;p++){const v=this.de(o,u,p);if(!this.Ae(v))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),v=new Uo(p,u,n);return o.forEach(N=>v.insert(N)),v}insert(e){if(0===this.Te)return;const n=Bp(e),[o,u]=Up(n);for(let p=0;p<this.hashCount;p++){const v=this.de(o,u,p);this.Re(v)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ru{constructor(e,n,o,u,p){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Ru(Tn.min(),u,new xi(Un),wo(),or())}}class Kc{constructor(e,n,o,u,p){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Kc(o,n,or(),or(),or())}}class lo{constructor(e,n,o,u){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=u}}class Nu{constructor(e,n){this.targetId=e,this.fe=n}}class kf{constructor(e,n,o=ps.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Ff{constructor(){this.ge=0,this.pe=am(),this.ye=ps.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=or(),n=or(),o=or();return this.pe.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Wt()}}),new Kc(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=am()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class om{constructor(e){this.Le=e,this.ke=new Map,this.qe=wo(),this.Qe=Lf(),this.Ke=new xi(Un)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:Wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,o=e.fe.count,u=this.Ye(n);if(u){const p=u.target;if(bu(p))if(0===o){const v=new qt(p.path);this.We(n,v,Fi.newNoDocument(v,Tn.min()))}else cn(1===o);else{const v=this.Ze(n);if(v!==o){const N=this.Xe(e),F=N?this.et(N,e,v):1;0!==F&&(this.He(n),this.Ke=this.Ke.insert(n,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:p=0}=n;let v,N;try{v=oo(o).toUint8Array()}catch(F){if(F instanceof al)return Hr("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{N=new Uo(v,u,p)}catch(F){return Hr(F instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===N.Te?null:N}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let u=0;return o.forEach(p=>{const v=this.Le.nt(),N=`projects/${v.projectId}/databases/${v.database}/documents/${p.path.canonicalString()}`;e.mightContain(N)||(this.We(n,p,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((p,v)=>{const N=this.Ye(v);if(N){if(p.current&&bu(N.target)){const F=new qt(N.target.path);null!==this.qe.get(F)||this.st(v,F)||this.We(v,F,Fi.newNoDocument(F,e))}p.De&&(n.set(v,p.ve()),p.Fe())}});let o=or();this.Qe.forEach((p,v)=>{let N=!0;v.forEachWhile(F=>{const G=this.Ye(F);return!G||"TargetPurposeLimboResolution"===G.purpose||(N=!1,!1)}),N&&(o=o.add(p))}),this.qe.forEach((p,v)=>v.setReadTime(e));const u=new Ru(e,n,this.Ke,this.qe,o);return this.qe=wo(),this.Qe=Lf(),this.Ke=new xi(Un),u}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ff,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Jr(Un),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||at("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ff),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Lf(){return new xi(qt.comparator)}function am(){return new xi(qt.comparator)}const S={asc:"ASCENDING",desc:"DESCENDING"},_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b={and:"AND",or:"OR"};class A{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Z(i,e){return i.useProto3Json||Ac(e)?e:{value:e}}function le(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ke(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ot(i,e){return le(i,e.toTimestamp())}function mt(i){return cn(!!i),Tn.fromTimestamp(function(n){const o=Vo(n);return new _i(o.seconds,o.nanos)}(i))}function gn(i,e){return(o=i,new jr(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function Hn(i){const e=jr.fromString(i);return cn(cm(e)),e}function Rr(i,e){return gn(i.databaseId,e.path)}function gs(i,e){const n=Hn(e);if(n.get(1)!==i.databaseId.projectId)throw new Dt(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Dt(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new qt(Ad(n))}function La(i,e){return gn(i.databaseId,e)}function Ll(i){return new jr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ad(i){return cn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Mu(i,e,n){return{name:Rr(i,e),fields:n.value.mapValue.fields}}function Uf(i,e){return{documents:[La(i,e.path)]}}function xu(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=La(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=La(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(F){if(0!==F.length)return jf(Gr.create(F,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const p=function(F){if(0!==F.length)return F.map(G=>{return{field:fa((fe=G).field),direction:ku(fe.dir)};var fe})}(e.orderBy);p&&(n.structuredQuery.orderBy=p);const v=Z(i,e.limit);return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(F=e.startAt).inclusive,values:F.position}),e.endAt&&(n.structuredQuery.endAt=function(F){return{before:!F.inclusive,values:F.position}}(e.endAt)),n;var F}function co(i){let e=function nl(i){const e=Hn(i);return 4===e.length?jr.emptyPath():Ad(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){cn(1===o);const X=n.from[0];X.allDescendants?u=X.collectionId:e=e.child(X.collectionId)}let p=[];n.where&&(p=function(fe){const Ne=Hf(fe);return Ne instanceof Gr&&Fa(Ne)?Ne.getFilters():[Ne]}(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(Ne=>{return new xc(Va((Pt=Ne).field),function(Kt){switch(Kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Pt.direction));var Pt}));let N=null;n.limit&&(N=function(fe){let Ne;return Ne="object"==typeof fe?fe.value:fe,Ac(Ne)?null:Ne}(n.limit));let F=null;var fe;n.startAt&&(F=new hl((fe=n.startAt).values||[],!!fe.before));let G=null;return n.endAt&&(G=function(fe){return new hl(fe.values||[],!fe.before)}(n.endAt)),function hh(i,e,n,o,u,p,v,N){return new el(i,e,n,o,u,p,v,N)}(e,u,v,p,N,"F",F,G)}function Hf(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Va(n.unaryFilter.field);return mr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Va(n.unaryFilter.field);return mr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Va(n.unaryFilter.field);return mr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Va(n.unaryFilter.field);return mr.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Wt()}}(i):void 0!==i.fieldFilter?mr.create(Va((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Gr.create(n.compositeFilter.filters.map(o=>Hf(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Wt()}}(n.compositeFilter.op))}(i):Wt();var n}function ku(i){return S[i]}function Ho(i){return _[i]}function Xo(i){return b[i]}function fa(i){return{fieldPath:i.canonicalString()}}function Va(i){return wi.fromServerFormat(i.fieldPath)}function jf(i){return i instanceof mr?function(n){if("=="===n.op){if(vf(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NAN"}};if(nc(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(vf(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NOT_NAN"}};if(nc(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(n.field),op:Ho(n.op),value:n.value}}}(i):i instanceof Gr?function(n){const o=n.getFilters().map(u=>jf(u));return 1===o.length?o[0]:{compositeFilter:{op:Xo(n.op),filters:o}}}(i):Wt()}function v_(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cm(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Ba{constructor(e,n,o,u,p=Tn.min(),v=Tn.min(),N=ps.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=N,this.expectedCount=F}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Th{constructor(e){this.ut=e}}function Hp(i){const e=co({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Fc(e,e.limit,"L"):e}class dc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Di(e.integerValue));else if("doubleValue"in e){const o=Di(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),Ml(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(oo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?Ja(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Wt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const u of Object.keys(o))this.At(u,n),this.Pt(o[u],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const u of o)this.Pt(u,n)}ft(e,n){this.Tt(n,37),qt.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}dc.St=new dc;class fm{constructor(){this.on=new Zf}addToCollectionParentIndex(e,n){return this.on.add(n),qe.resolve()}getCollectionParents(e,n){return qe.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return qe.resolve()}deleteFieldIndex(e,n){return qe.resolve()}deleteAllFieldIndexes(e){return qe.resolve()}createTargetIndexes(e,n){return qe.resolve()}getDocumentsMatchingTarget(e,n){return qe.resolve(null)}getIndexType(e,n){return qe.resolve(0)}getFieldIndexes(e,n){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,n){return qe.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,n){return qe.resolve(Yo.min())}updateCollectionGroup(e,n,o){return qe.resolve()}updateIndexEntries(e,n){return qe.resolve()}}class Zf{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Jr(jr.comparator),p=!u.has(o);return this.index[n]=u.add(o),p}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Jr(jr.comparator)).toArray()}}new Uint8Array(0);class ea{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ea(e,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ea.DEFAULT_COLLECTION_PERCENTILE=10,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ea.DEFAULT=new ea(41943040,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ea.DISABLED=new ea(-1,0,0);class Ha{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ha(0)}static Nn(){return new Ha(-1)}}class Yp{constructor(){this.changes=new Da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?qe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qp{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class zi{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Dd(o.mutation,u,ki.empty(),_i.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,or()).next(()=>o))}getLocalViewOfDocuments(e,n,o=or()){const u=Bo();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(p=>{let v=Du();return p.forEach((N,F)=>{v=v.insert(N,F.overlayedDocument)}),v}))}getOverlayedDocuments(e,n){const o=Bo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,or()))}populateOverlays(e,n,o){const u=[];return o.forEach(p=>{n.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((v,N)=>{n.set(v,N)})})}computeViews(e,n,o,u){let p=wo();const v=ph(),N=ph();return n.forEach((F,G)=>{const X=o.get(G.key);u.has(G.key)&&(void 0===X||X.mutation instanceof pl)?p=p.insert(G.key,G):void 0!==X?(v.set(G.key,X.mutation.getFieldMask()),Dd(X.mutation,G,X.mutation.getFieldMask(),_i.now())):v.set(G.key,ki.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((G,X)=>v.set(G,X)),n.forEach((G,X)=>{var fe;return N.set(G,new Qp(X,null!==(fe=v.get(G))&&void 0!==fe?fe:null))}),N))}recalculateAndSaveOverlays(e,n){const o=ph();let u=new xi((v,N)=>v-N),p=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(v=>{for(const N of v)N.keys().forEach(F=>{const G=n.get(F);if(null===G)return;let X=o.get(F)||ki.empty();X=N.applyToLocalView(G,X),o.set(F,X);const fe=(u.get(N.batchId)||or()).add(F);u=u.insert(N.batchId,fe)})}).next(()=>{const v=[],N=u.getReverseIterator();for(;N.hasNext();){const F=N.getNext(),G=F.key,X=F.value,fe=fh();X.forEach(Ne=>{if(!p.has(Ne)){const nt=nm(n.get(Ne),o.get(Ne));null!==nt&&fe.set(Ne,nt),p=p.add(Ne)}}),v.push(this.documentOverlayCache.saveOverlays(e,G,fe))}return qe.waitFor(v)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return qt.isDocumentKey((v=n).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Tu(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var v}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(p=>{const v=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-p.size):qe.resolve(Bo());let N=-1,F=p;return v.next(G=>qe.forEach(G,(X,fe)=>(N<fe.largestBatchId&&(N=fe.largestBatchId),p.get(X)?qe.resolve():this.remoteDocumentCache.getEntry(e,X).next(Ne=>{F=F.insert(X,Ne)}))).next(()=>this.populateOverlays(e,G,p)).next(()=>this.computeViews(e,F,G,or())).next(X=>({batchId:N,changes:Cu(X)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qt(n)).next(o=>{let u=Du();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const p=n.collectionGroup;let v=Du();return this.indexManager.getCollectionParents(e,p).next(N=>qe.forEach(N,F=>{const G=(fe=n,Ne=F.child(p),new el(Ne,null,fe.explicitOrderBy.slice(),fe.filters.slice(),fe.limit,fe.limitType,fe.startAt,fe.endAt));var fe,Ne;return this.getDocumentsMatchingCollectionQuery(e,G,o,u).next(X=>{X.forEach((fe,Ne)=>{v=v.insert(fe,Ne)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,n,o,u){let p;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(v=>(p=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,p,u))).next(v=>{p.forEach((F,G)=>{const X=G.getKey();null===v.get(X)&&(v=v.insert(X,Fi.newInvalidDocument(X)))});let N=Du();return v.forEach((F,G)=>{const X=p.get(F);void 0!==X&&Dd(X.mutation,G,ki.empty(),_i.now()),Vc(n,G)&&(N=N.insert(F,G))}),N})}}class Hu{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return qe.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:mt(u.createTime)}),qe.resolve();var u}getNamedQuery(e,n){return qe.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:Hp(u.bundledQuery),readTime:mt(u.readTime)}),qe.resolve();var u}}class Jf{constructor(){this.overlays=new xi(qt.comparator),this.lr=new Map}getOverlay(e,n){return qe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Bo();return qe.forEach(n,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,p)=>{this.lt(e,n,p)}),qe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.lr.delete(o)),qe.resolve()}getOverlaysForCollection(e,n,o){const u=Bo(),p=n.length+1,v=new qt(n.child("")),N=this.overlays.getIteratorFrom(v);for(;N.hasNext();){const F=N.getNext().value,G=F.getKey();if(!n.isPrefixOf(G.path))break;G.path.length===p&&F.largestBatchId>o&&u.set(F.getKey(),F)}return qe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let p=new xi((G,X)=>G-X);const v=this.overlays.getIterator();for(;v.hasNext();){const G=v.getNext().value;if(G.getKey().getCollectionGroup()===n&&G.largestBatchId>o){let X=p.get(G.largestBatchId);null===X&&(X=Bo(),p=p.insert(G.largestBatchId,X)),X.set(G.getKey(),G)}}const N=Bo(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((G,X)=>N.set(G,X)),!(N.size()>=u)););return qe.resolve(N)}lt(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const v=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new Wc(n,o));let p=this.lr.get(n);void 0===p&&(p=or(),this.lr.set(n,p)),this.lr.set(n,p.add(o.key))}}class Jp{constructor(){this.hr=new Jr(Ws.Pr),this.Ir=new Jr(Ws.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new Ws(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new Ws(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new qt(new jr([])),o=new Ws(n,e),u=new Ws(n,e+1),p=[];return this.Ir.forEachInRange([o,u],v=>{this.dr(v),p.push(v.key)}),p}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new qt(new jr([])),o=new Ws(n,e),u=new Ws(n,e+1);let p=or();return this.Ir.forEachInRange([o,u],v=>{p=p.add(v.key)}),p}containsKey(e){const n=new Ws(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ws{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return qt.comparator(e.key,n.key)||Un(e.gr,n.gr)}static Tr(e,n){return Un(e.gr,n.gr)||qt.comparator(e.key,n.key)}}class ym{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Jr(Ws.Pr)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const p=this.pr;this.pr++;const v=new Su(p,n,o,u);this.mutationQueue.push(v);for(const N of u)this.yr=this.yr.add(new Ws(N.key,p)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return qe.resolve(v)}lookupMutationBatch(e,n){return qe.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),p=u<0?0:u;return qe.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ws(n,0),u=new Ws(n,Number.POSITIVE_INFINITY),p=[];return this.yr.forEachInRange([o,u],v=>{const N=this.wr(v.gr);p.push(N)}),qe.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Jr(Un);return n.forEach(u=>{const p=new Ws(u,0),v=new Ws(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([p,v],N=>{o=o.add(N.gr)})}),qe.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let p=o;qt.isDocumentKey(p)||(p=p.child(""));const v=new Ws(new qt(p),0);let N=new Jr(Un);return this.yr.forEachWhile(F=>{const G=F.key.path;return!!o.isPrefixOf(G)&&(G.length===u&&(N=N.add(F.gr)),!0)},v),qe.resolve(this.br(N))}br(e){const n=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){cn(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return qe.forEach(n.mutations,u=>{const p=new Ws(u.key,n.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new Ws(n,0),u=this.yr.firstAfterOrEqual(o);return qe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return qe.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vm{constructor(e){this.Cr=e,this.docs=new xi(qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),p=u?u.size:0,v=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:v}),this.size+=v-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return qe.resolve(o?o.document.mutableCopy():Fi.newInvalidDocument(n))}getEntries(e,n){let o=wo();return n.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():Fi.newInvalidDocument(u))}),qe.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let p=wo();const v=n.path,N=new qt(v.child("")),F=this.docs.getIteratorFrom(N);for(;F.hasNext();){const{key:G,value:{document:X}}=F.getNext();if(!v.isPrefixOf(G.path))break;G.path.length>v.length+1||Tt(Rl(X),o)<=0||(u.has(X.key)||Vc(n,X))&&(p=p.insert(X.key,X.mutableCopy()))}return qe.resolve(p)}getAllFromCollectionGroup(e,n,o,u){Wt()}vr(e,n){return qe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Em(this)}getSize(e){return qe.resolve(this.size)}}class Em extends Yp{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),qe.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Xp{constructor(e){this.persistence=e,this.Fr=new Da(n=>xs(n),Xa),this.lastRemoteSnapshotVersion=Tn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Jp,this.targetCount=0,this.Nr=Ha.On()}forEachTarget(e,n){return this.Fr.forEach((o,u)=>n(u)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),qe.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,qe.resolve()}updateTargetData(e,n){return this.kn(n),qe.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,n,o){let u=0;const p=[];return this.Fr.forEach((v,N)=>{N.sequenceNumber<=n&&null===o.get(N.targetId)&&(this.Fr.delete(v),p.push(this.removeMatchingKeysForTargetId(e,N.targetId)),u++)}),qe.waitFor(p).next(()=>u)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return qe.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),qe.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const u=this.persistence.referenceDelegate,p=[];return u&&n.forEach(v=>{p.push(u.markPotentiallyOrphaned(e,v))}),qe.waitFor(p)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),qe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return qe.resolve(o)}containsKey(e,n){return qe.resolve(this.Or.containsKey(n))}}class Fd{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Cs(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Xp(this),this.indexManager=new fm,this.remoteDocumentCache=new vm(o=>this.referenceDelegate.Qr(o)),this.serializer=new Th(n),this.Kr=new Hu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Jf,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new ym(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){at("MemoryPersistence","Starting transaction:",e);const u=new eg(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(p=>this.referenceDelegate.Ur(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Wr(e,n){return qe.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class eg extends Jl{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Gr=new Jp,this.zr=null}static jr(e){return new tg(e)}get Hr(){if(this.zr)return this.zr;throw Wt()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),qe.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),qe.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),qe.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(p=>this.Hr.add(p.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Hr,o=>{const u=qt.fromPath(o);return this.Jr(e,u).next(p=>{p||n.removeEntry(u,Tn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return qe.or([()=>qe.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Xf{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=u}static Qi(e,n){let o=or(),u=or();for(const p of n.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Xf(e,n.fromCache,o,u)}}class bm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xh{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,u){const p={result:null};return this.zi(e,n).next(v=>{p.result=v}).next(()=>{if(!p.result)return this.ji(e,n,u,o).next(v=>{p.result=v})}).next(()=>{if(p.result)return;const v=new bm;return this.Hi(e,n,v).next(N=>{if(p.result=N,this.$i)return this.Ji(e,n,v,N.size)})}).next(()=>p.result)}Ji(e,n,o,u){return o.documentReadCount<this.Ui?(Ti()<=y.in.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",lc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),qe.resolve()):(Ti()<=y.in.DEBUG&&at("QueryEngine","Query:",lc(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(Ti()<=y.in.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",lc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jo(n))):qe.resolve())}zi(e,n){if(Qo(n))return qe.resolve(null);let o=Jo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Fc(n,null,"F"),o=Jo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const v=or(...p);return this.Gi.getDocuments(e,v).next(N=>this.indexManager.getMinOffset(e,o).next(F=>{const G=this.Yi(n,N);return this.Zi(n,G,v,F.readTime)?this.zi(e,Fc(n,null,"F")):this.Xi(e,G,n,F)}))})))}ji(e,n,o,u){return Qo(n)||u.isEqual(Tn.min())?qe.resolve(null):this.Gi.getDocuments(e,o).next(p=>{const v=this.Yi(n,p);return this.Zi(n,v,o,u)?qe.resolve(null):(Ti()<=y.in.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),lc(n)),this.Xi(e,v,n,function oh(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Tn.fromTimestamp(1e9===o?new _i(n+1,0):new _i(n,o));return new Yo(u,qt.empty(),e)}(u,-1)).next(N=>N))})}Yi(e,n){let o=new Jr(wu(e));return n.forEach((u,p)=>{Vc(e,p)&&(o=o.add(p))}),o}Zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const p="F"===e.limitType?n.last():n.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Hi(e,n,o){return Ti()<=y.in.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",lc(n)),this.Gi.getDocumentsMatchingQuery(e,n,Yo.min(),o)}Xi(e,n,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(p=>(n.forEach(v=>{p=p.insert(v.key,v)}),p))}}class Ey{constructor(e,n,o,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new xi(Un),this.ns=new Da(p=>xs(p),Xa),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zi(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Tm(i,e){return kh.apply(this,arguments)}function kh(){return kh=(0,E.Z)(function*(i,e){const n=Ht(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(p=>{const v=[],N=[];let F=or();for(const G of u){v.push(G.batchId);for(const X of G.mutations)F=F.add(X.key)}for(const G of p){N.push(G.batchId);for(const X of G.mutations)F=F.add(X.key)}return n.localDocuments.getDocuments(o,F).next(G=>({_s:G,removedBatchIds:v,addedBatchIds:N}))})})}),kh.apply(this,arguments)}function tp(i){const e=Ht(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function np(i,e){const n=Ht(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Gu(i,e,n){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,E.Z)(function*(i,e,n){const o=Ht(i),u=o.ts.get(e),p=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",p,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Pa(v))throw v;at("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),Fh.apply(this,arguments)}function zu(i,e,n){const o=Ht(i);let u=Tn.min(),p=or();return o.persistence.runTransaction("Execute query","readwrite",v=>function(F,G,X){const fe=Ht(F),Ne=fe.ns.get(X);return void 0!==Ne?qe.resolve(fe.ts.get(Ne)):fe.qr.getTargetData(G,X)}(o,v,Jo(e)).next(N=>{if(N)return u=N.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(v,N.targetId).next(F=>{p=F})}).next(()=>o.es.getDocumentsMatchingQuery(v,e,n?u:Tn.min(),n?p:or())).next(N=>(function og(i,e,n){let o=i.rs.get(e)||Tn.min();n.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),i.rs.set(e,o)}(o,function Td(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),N),{documents:N,ls:p})))}class ip{constructor(){this.activeTargetIds=function Cf(){return kp}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R_{constructor(){this.eo=new ip,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ip,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ty{ro(e){}shutdown(){}}class N_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Dm=null;function lg(){return null===Dm?Dm=268435456+Math.round(2147483648*Math.random()):Dm++,"0x"+Dm.toString(16)}const cg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _l{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Nr="WebChannelConnection";class Bh extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${u}/databases/${p}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get yo(){return!1}wo(n,o,u,p,v){const N=lg(),F=this.So(n,o);at("RestConnection",`Sending RPC '${n}' ${N}:`,F,u);const G={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(G,p,v),this.Do(n,F,G,u).then(X=>(at("RestConnection",`Received RPC '${n}' ${N}: `,X),X),X=>{throw Hr("RestConnection",`RPC '${n}' ${N} failed with error: `,X,"url: ",F,"request:",u),X})}Co(n,o,u,p,v,N){return this.wo(n,o,u,p,v)}bo(n,o,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+mi,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((p,v)=>n[v]=p),u&&u.headers.forEach((p,v)=>n[v]=p)}So(n,o){return`${this.mo}/v1/${o}:${cg[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,u){const p=lg();return new Promise((v,N)=>{const F=new En;F.setWithCredentials(!0),F.listenOnce(V.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case J.NO_ERROR:const X=F.getResponseJson();at(Nr,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(X)),v(X);break;case J.TIMEOUT:at(Nr,`RPC '${e}' ${p} timed out`),N(new Dt(Xe.DEADLINE_EXCEEDED,"Request time out"));break;case J.HTTP_ERROR:const fe=F.getStatus();if(at(Nr,`RPC '${e}' ${p} failed with status:`,fe,"response text:",F.getResponseText()),fe>0){let Ne=F.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const nt=Ne?.error;if(nt&&nt.status&&nt.message){const Pt=function(Kt){const Zn=Kt.toLowerCase().replace(/_/g,"-");return Object.values(Xe).indexOf(Zn)>=0?Zn:Xe.UNKNOWN}(nt.status);N(new Dt(Pt,nt.message))}else N(new Dt(Xe.UNKNOWN,"Server responded with status "+F.getStatus()))}else N(new Dt(Xe.UNAVAILABLE,"Connection failed."));break;default:Wt()}}finally{at(Nr,`RPC '${e}' ${p} completed.`)}});const G=JSON.stringify(u);at(Nr,`RPC '${e}' ${p} sending request:`,u),F.send(n,"POST",G,o,15)})}vo(e,n,o){const u=lg(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=hu(),N=R(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},G=this.longPollingOptions.timeoutSeconds;void 0!==G&&(F.longPollingTimeout=Math.round(1e3*G)),this.useFetchStreams&&(F.xmlHttpFactory=new rt({})),this.bo(F.initMessageHeaders,n,o),F.encodeInitMessageHeaders=!0;const X=p.join("");at(Nr,`Creating RPC '${e}' stream ${u}: ${X}`,F);const fe=v.createWebChannel(X,F);let Ne=!1,nt=!1;const Pt=new _l({co:Kt=>{nt?at(Nr,`Not sending because RPC '${e}' stream ${u} is closed:`,Kt):(Ne||(at(Nr,`Opening RPC '${e}' stream ${u} transport.`),fe.open(),Ne=!0),at(Nr,`RPC '${e}' stream ${u} sending:`,Kt),fe.send(Kt))},lo:()=>fe.close()}),Ut=(Kt,Zn,lr)=>{Kt.listen(Zn,ar=>{try{lr(ar)}catch(li){setTimeout(()=>{throw li},0)}})};return Ut(fe,Et.EventType.OPEN,()=>{nt||at(Nr,`RPC '${e}' stream ${u} transport opened.`)}),Ut(fe,Et.EventType.CLOSE,()=>{nt||(nt=!0,at(Nr,`RPC '${e}' stream ${u} transport closed`),Pt.Ro())}),Ut(fe,Et.EventType.ERROR,Kt=>{nt||(nt=!0,Hr(Nr,`RPC '${e}' stream ${u} transport errored:`,Kt),Pt.Ro(new Dt(Xe.UNAVAILABLE,"The operation could not be completed")))}),Ut(fe,Et.EventType.MESSAGE,Kt=>{var Zn;if(!nt){const lr=Kt.data[0];cn(!!lr);const li=lr.error||(null===(Zn=lr[0])||void 0===Zn?void 0:Zn.error);if(li){at(Nr,`RPC '${e}' stream ${u} received error:`,li);const ms=li.status;let Li=function(Jy){const Xy=Zs[Jy];if(void 0!==Xy)return Lp(Xy)}(ms),ta=li.message;void 0===Li&&(Li=Xe.INTERNAL,ta="Unknown error status: "+ms+" with message "+li.message),nt=!0,Pt.Ro(new Dt(Li,ta)),fe.close()}else at(Nr,`RPC '${e}' stream ${u} received:`,lr),Pt.Vo(lr)}}),Ut(N,W.STAT_EVENT,Kt=>{Kt.stat===Te.PROXY?at(Nr,`RPC '${e}' stream ${u} detected buffering proxy`):Kt.stat===Te.NOPROXY&&at(Nr,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Pt.Ao()},0),Pt}}function Xc(){return typeof document<"u"?document:null}function qu(i){return new A(i,!0)}class Ku{constructor(e,n,o=1e3,u=1.5,p=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=u,this.xo=p,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-o);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Yu{constructor(e,n,o,u,p,v,N,F){this.si=e,this.Ko=o,this.$o=u,this.connection=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=N,this.listener=F,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ku(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,E.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,E.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,E.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===Xe.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===Xe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===n&&this.s_(o,u)},o=>{e(()=>{const u=new Dt(Xe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,E.Z)(function*(){e.state=0,e.start()}))}o_(e){return at("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uh extends Yu{constructor(e,n,o,u,p,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,v),this.serializer=p}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Vf(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:Wt(),u=e.targetChange.targetIds||[],p=function(G,X){return G.useProto3Json?(cn(void 0===X||"string"==typeof X),ps.fromBase64String(X||"")):(cn(void 0===X||X instanceof Uint8Array),ps.fromUint8Array(X||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,N=v&&function(G){const X=void 0===G.code?Xe.UNKNOWN:Lp(G.code);return new Dt(X,G.message||"")}(v);n=new kf(o,u,p,N||null)}else if("documentChange"in e){const o=e.documentChange,u=gs(i,o.document.name),p=mt(o.document.updateTime),v=o.document.createTime?mt(o.document.createTime):Tn.min(),N=new Ys({mapValue:{fields:o.document.fields}}),F=Fi.newFoundDocument(u,p,v,N);n=new lo(o.targetIds||[],o.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const o=e.documentDelete,u=gs(i,o.document),p=o.readTime?mt(o.readTime):Tn.min(),v=Fi.newNoDocument(u,p);n=new lo([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=gs(i,o.document);n=new lo([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Wt();{const o=e.filter,{count:u=0,unchangedNames:p}=o,v=new sm(u,p);n=new Nu(o.targetId,v)}}var G;return n}(this.serializer,e),o=function(p){if(!("targetChange"in p))return Tn.min();const v=p.targetChange;return v.targetIds&&v.targetIds.length?Tn.min():v.readTime?mt(v.readTime):Tn.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=Ll(this.serializer),n.addTarget=function(p,v){let N;const F=v.target;if(N=bu(F)?{documents:Uf(p,F)}:{query:xu(p,F)},N.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){N.resumeToken=ke(p,v.resumeToken);const G=Z(p,v.expectedCount);null!==G&&(N.expectedCount=G)}else if(v.snapshotVersion.compareTo(Tn.min())>0){N.readTime=le(p,v.snapshotVersion.toTimestamp());const G=Z(p,v.expectedCount);null!==G&&(N.expectedCount=G)}return N}(this.serializer,e);const o=function lm(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=Ll(this.serializer),n.removeTarget=e,this.e_(n)}}class Zu extends Yu{constructor(e,n,o,u,p,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,v),this.serializer=p,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Bf(i,e){return i&&i.length>0?(cn(void 0!==e),i.map(n=>function(u,p){let v=mt(u.updateTime?u.updateTime:p);return v.isEqual(Tn.min())&&(v=mt(p)),new __(v,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=mt(e.commitTime);return this.listener.I_(o,n)}return cn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ll(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Ou(i,e){let n;if(e instanceof Fl)n={update:Mu(i,e.key,e.value)};else if(e instanceof zc)n={delete:Rr(i,e.key)};else if(e instanceof pl)n={update:Mu(i,e.key,e.data),updateMask:v_(e.fieldMask)};else{if(!(e instanceof yh))return Wt();n={verify:Rr(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(p,v){const N=v.transform;if(N instanceof Uc)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(N instanceof Hc)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:N.elements}};if(N instanceof jc)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:N.elements}};if(N instanceof wd)return{fieldPath:v.field.canonicalString(),increment:N.Ie};throw Wt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:ot(i,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Wt()),n;var p}(this.serializer,o))};this.e_(n)}}class Bd extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new Dt(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.wo(e,n,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Dt(Xe.UNKNOWN,u.toString())})}Co(e,n,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,v])=>this.connection.Co(e,n,o,p,v,u)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Dt(Xe.UNKNOWN,p.toString())})}terminate(){this.d_=!0}}class ug{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Cr(n),this.f_=!1):at("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class jh{constructor(e,n,o,u,p){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=p,this.F_.ro(N=>{o.enqueueAndForget((0,E.Z)(function*(){var F;jl(v)&&(at("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,E.Z)(function*(X){const fe=Ht(X);fe.C_.add(4),yield il(fe),fe.M_.set("Unknown"),fe.C_.delete(4),yield $h(fe)}),function G(X){return F.apply(this,arguments)})(v))}))}),this.M_=new ug(o,u)}}function $h(i){return vc.apply(this,arguments)}function vc(){return vc=(0,E.Z)(function*(i){if(jl(i))for(const e of i.v_)yield e(!0)}),vc.apply(this,arguments)}function il(i){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,E.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Qu.apply(this,arguments)}function Ec(i,e){const n=Ht(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Sm(n)?dg(n):td(n).Ho()&&Ud(n,e))}function Ju(i,e){const n=Ht(i),o=td(n);n.D_.delete(e),o.Ho()&&eu(n,e),0===n.D_.size&&(o.Ho()?o.Zo():jl(n)&&n.M_.set("Unknown"))}function Ud(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}td(i).u_(e)}function eu(i,e){i.x_.Oe(e),td(i).c_(e)}function dg(i){i.x_=new om({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),td(i).start(),i.M_.g_()}function Sm(i){return jl(i)&&!td(i).jo()&&i.D_.size>0}function jl(i){return 0===Ht(i).C_.size}function hg(i){i.x_=void 0}function Iy(i){return fg.apply(this,arguments)}function fg(){return fg=(0,E.Z)(function*(i){i.D_.forEach((e,n)=>{Ud(i,e)})}),fg.apply(this,arguments)}function Am(i,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,E.Z)(function*(i,e){hg(i),Sm(i)?(i.M_.w_(e),dg(i)):i.M_.set("Unknown")}),Gh.apply(this,arguments)}function wy(i,e,n){return pg.apply(this,arguments)}function pg(){return pg=(0,E.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof kf&&2===e.state&&e.cause)try{yield(o=(0,E.Z)(function*(p,v){const N=v.cause;for(const F of v.targetIds)p.D_.has(F)&&(yield p.remoteSyncer.rejectListen(F,N),p.D_.delete(F),p.x_.removeTarget(F))}),function u(p,v){return o.apply(this,arguments)})(i,e)}catch(o){at("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield gg(i,o)}else if(e instanceof lo?i.x_.$e(e):e instanceof Nu?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(Tn.min()))try{const o=yield tp(i.localStore);n.compareTo(o)>=0&&(yield function(p,v){const N=p.x_.it(v);return N.targetChanges.forEach((F,G)=>{if(F.resumeToken.approximateByteSize()>0){const X=p.D_.get(G);X&&p.D_.set(G,X.withResumeToken(F.resumeToken,v))}}),N.targetMismatches.forEach((F,G)=>{const X=p.D_.get(F);if(!X)return;p.D_.set(F,X.withResumeToken(ps.EMPTY_BYTE_STRING,X.snapshotVersion)),eu(p,F);const fe=new Ba(X.target,F,G,X.sequenceNumber);Ud(p,fe)}),p.remoteSyncer.applyRemoteEvent(N)}(i,n))}catch(o){at("RemoteStore","Failed to raise snapshot:",o),yield gg(i,o)}var o}),pg.apply(this,arguments)}function gg(i,e,n){return mg.apply(this,arguments)}function mg(){return mg=(0,E.Z)(function*(i,e,n){if(!Pa(e))throw e;i.C_.add(1),yield il(i),i.M_.set("Offline"),n||(n=()=>tp(i.localStore)),i.asyncQueue.enqueueRetryable((0,E.Z)(function*(){at("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield $h(i)}))}),mg.apply(this,arguments)}function Dy(i,e){return e().catch(n=>gg(i,n,e))}function zh(i){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,E.Z)(function*(i){const e=Ht(i),n=tu(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Cy(e);)try{const u=yield np(e.localStore,o);if(null===u){0===e.b_.length&&n.Zo();break}o=u.batchId,qh(e,u)}catch(u){yield gg(e,u)}Xu(e)&&Rm(e)}),Wh.apply(this,arguments)}function Cy(i){return jl(i)&&i.b_.length<10}function qh(i,e){i.b_.push(e);const n=tu(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function Xu(i){return jl(i)&&!tu(i).jo()&&i.b_.length>0}function Rm(i){tu(i).start()}function M_(i){return sp.apply(this,arguments)}function sp(){return sp=(0,E.Z)(function*(i){tu(i).E_()}),sp.apply(this,arguments)}function Nm(i){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,E.Z)(function*(i){const e=tu(i);for(const n of i.b_)e.P_(n.mutations)}),Hd.apply(this,arguments)}function Mm(i,e,n){return ed.apply(this,arguments)}function ed(){return ed=(0,E.Z)(function*(i,e,n){const o=i.b_.shift(),u=Au.from(o,e,n);yield Dy(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield zh(i)}),ed.apply(this,arguments)}function Pm(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,E.Z)(function*(i,e){var n;e&&tu(i).h_&&(yield(n=(0,E.Z)(function*(u,p){if(function vh(i){switch(i){default:return Wt();case Xe.CANCELLED:case Xe.UNKNOWN:case Xe.DEADLINE_EXCEEDED:case Xe.RESOURCE_EXHAUSTED:case Xe.INTERNAL:case Xe.UNAVAILABLE:case Xe.UNAUTHENTICATED:return!1;case Xe.INVALID_ARGUMENT:case Xe.NOT_FOUND:case Xe.ALREADY_EXISTS:case Xe.PERMISSION_DENIED:case Xe.FAILED_PRECONDITION:case Xe.ABORTED:case Xe.OUT_OF_RANGE:case Xe.UNIMPLEMENTED:case Xe.DATA_LOSS:return!0}}(N=p.code)&&N!==Xe.ABORTED){const v=u.b_.shift();tu(u).Yo(),yield Dy(u,()=>u.remoteSyncer.rejectFailedWrite(v.batchId,p)),yield zh(u)}var N}),function o(u,p){return n.apply(this,arguments)})(i,e)),Xu(i)&&Rm(i)}),_g.apply(this,arguments)}function yl(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,E.Z)(function*(i,e){const n=Ht(i);n.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const o=jl(n);n.C_.add(3),yield il(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield $h(n)}),yg.apply(this,arguments)}function op(){return op=(0,E.Z)(function*(i,e){const n=Ht(i);e?(n.C_.delete(2),yield $h(n)):e||(n.C_.add(2),yield il(n),n.M_.set("Unknown"))}),op.apply(this,arguments)}function td(i){return i.O_||(i.O_=function(n,o,u){const p=Ht(n);return p.A_(),new Uh(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(i.datastore,i.asyncQueue,{ho:Iy.bind(null,i),Io:Am.bind(null,i),a_:wy.bind(null,i)}),i.v_.push(function(){var e=(0,E.Z)(function*(n){n?(i.O_.Yo(),Sm(i)?dg(i):i.M_.set("Unknown")):(yield i.O_.stop(),hg(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function tu(i){return i.N_||(i.N_=function(n,o,u){const p=Ht(n);return p.A_(),new Zu(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(i.datastore,i.asyncQueue,{ho:M_.bind(null,i),Io:Pm.bind(null,i),T_:Nm.bind(null,i),I_:Mm.bind(null,i)}),i.v_.push(function(){var e=(0,E.Z)(function*(n){n?(i.N_.Yo(),yield zh(i)):(yield i.N_.stop(),i.b_.length>0&&(at("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class ap{constructor(e,n,o,u,p){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,p){const v=Date.now()+o,N=new ap(e,n,v,u,p);return N.start(o),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(Xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nu(i,e){if(Cr("AsyncQueue",`${e}: ${i}`),Pa(i))return new Dt(Xe.UNAVAILABLE,`${e}: ${i}`);throw i}class jd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||qt.comparator(n.key,o.key):(n,o)=>qt.comparator(n.key,o.key),this.keyedMap=Du(),this.sortedSet=new xi(this.comparator)}static emptySet(e){return new jd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new jd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class P_{constructor(){this.B_=new xi(qt.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Wt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class nd{constructor(e,n,o,u,p,v,N,F,G){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=N,this.excludesMetadataChanges=F,this.hasCachedResults=G}static fromInitialDocuments(e,n,o,u,p){const v=[];return n.forEach(N=>{v.push({type:0,doc:N})}),new nd(e,n,jd.emptySet(n),v,o,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Om{constructor(){this.k_=void 0,this.listeners=[]}}class vl{constructor(){this.queries=new Da(e=>Iu(e),Lc),this.onlineState="Unknown",this.q_=new Set}}function xm(){return xm=(0,E.Z)(function*(i,e){const n=Ht(i),o=e.query;let u=!1,p=n.queries.get(o);if(p||(u=!0,p=new Om),u)try{p.k_=yield n.onListen(o)}catch(v){const N=nu(v,`Initialization of query '${lc(e.query)}' failed`);return void e.onError(N)}n.queries.set(o,p),p.listeners.push(e),e.Q_(n.onlineState),p.k_&&e.K_(p.k_)&&rd(n)}),xm.apply(this,arguments)}function $l(){return $l=(0,E.Z)(function*(i,e){const n=Ht(i),o=e.query;let u=!1;const p=n.queries.get(o);if(p){const v=p.listeners.indexOf(e);v>=0&&(p.listeners.splice(v,1),u=0===p.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),$l.apply(this,arguments)}function Gd(i,e){const n=Ht(i);let o=!1;for(const u of e){const v=n.queries.get(u.query);if(v){for(const N of v.listeners)N.K_(u)&&(o=!0);v.k_=u}}o&&rd(n)}function O_(i,e,n){const o=Ht(i),u=o.queries.get(e);if(u)for(const p of u.listeners)p.onError(n);o.queries.delete(e)}function rd(i){i.q_.forEach(e=>{e.next()})}class ru{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new nd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=nd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class x_{constructor(e){this.key=e}}class Qs{constructor(e){this.key=e}}class k_{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=or(),this.mutatedKeys=or(),this._a=wu(e),this.aa=new jd(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new P_,u=n?n.aa:this.aa;let p=n?n.mutatedKeys:this.mutatedKeys,v=u,N=!1;const F="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,G="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((X,fe)=>{const Ne=u.get(X),nt=Vc(this.query,fe)?fe:null,Pt=!!Ne&&this.mutatedKeys.has(Ne.key),Ut=!!nt&&(nt.hasLocalMutations||this.mutatedKeys.has(nt.key)&&nt.hasCommittedMutations);let Kt=!1;Ne&&nt?Ne.data.isEqual(nt.data)?Pt!==Ut&&(o.track({type:3,doc:nt}),Kt=!0):this.ha(Ne,nt)||(o.track({type:2,doc:nt}),Kt=!0,(F&&this._a(nt,F)>0||G&&this._a(nt,G)<0)&&(N=!0)):!Ne&&nt?(o.track({type:0,doc:nt}),Kt=!0):Ne&&!nt&&(o.track({type:1,doc:Ne}),Kt=!0,(F||G)&&(N=!0)),Kt&&(nt?(v=v.add(nt),p=Ut?p.add(X):p.delete(X)):(v=v.delete(X),p=p.delete(X)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const X="F"===this.query.limitType?v.last():v.first();v=v.delete(X.key),p=p.delete(X.key),o.track({type:1,doc:X})}return{aa:v,la:o,Zi:N,mutatedKeys:p}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const p=e.la.L_();p.sort((G,X)=>function(Ne,nt){const Pt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt()}};return Pt(Ne)-Pt(nt)}(G.type,X.type)||this._a(G.doc,X.doc)),this.Pa(o);const v=n?this.Ia():[],N=0===this.oa.size&&this.current?1:0,F=N!==this.sa;return this.sa=N,0!==p.length||F?{snapshot:new nd(this.query,e.aa,u,p,e.mutatedKeys,0===N,F,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:v}:{Ta:v}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new P_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=or(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new Qs(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new x_(o))}),n}da(e){this.ia=e.ls,this.oa=or();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return nd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Lm{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Vm{constructor(e){this.key=e,this.Ra=!1}}class F_{constructor(e,n,o,u,p,v){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.Va={},this.ma=new Da(N=>Iu(N),Lc),this.fa=new Map,this.ga=new Set,this.pa=new xi(qt.comparator),this.ya=new Map,this.wa=new Jp,this.Sa={},this.ba=new Map,this.Da=Ha.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function lp(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,E.Z)(function*(i,e){const n=function ad(i){const e=Ht(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=L_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bc.bind(null,e),e.Va.a_=Gd.bind(null,e.eventManager),e.Va.Fa=O_.bind(null,e.eventManager),e}(i);let o,u;const p=n.ma.get(e);if(p)o=p.targetId,n.sharedClientState.addLocalQueryTarget(o),u=p.view.Aa();else{const v=yield function yc(i,e){const n=Ht(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.qr.getTargetData(o,e).next(p=>p?(u=p,qe.resolve(u)):n.qr.allocateTargetId(o).next(v=>(u=new Ba(e,v,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}(n.localStore,Jo(e)),N=n.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield function Zh(i,e,n,o,u){return cp.apply(this,arguments)}(n,e,o,"current"===N,v.resumeToken),n.isPrimaryClient&&Ec(n.remoteStore,v)}return u}),Yh.apply(this,arguments)}function cp(){return cp=(0,E.Z)(function*(i,e,n,o,u){i.va=(fe,Ne,nt)=>{return(Pt=(0,E.Z)(function*(Kt,Zn,lr,ar){let li=Zn.view.ca(lr);li.Zi&&(li=yield zu(Kt.localStore,Zn.query,!1).then(({documents:ta})=>Zn.view.ca(ta,li)));const ms=ar&&ar.targetChanges.get(Zn.targetId),Li=Zn.view.applyChanges(li,Kt.isPrimaryClient,ms);return dp(Kt,Zn.targetId,Li.Ta),Li.snapshot}),function Ut(Kt,Zn,lr,ar){return Pt.apply(this,arguments)})(i,fe,Ne,nt);var Pt};const p=yield zu(i.localStore,e,!0),v=new k_(e,p.ls),N=v.ca(p.documents),F=Kc.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),G=v.applyChanges(N,i.isPrimaryClient,F);dp(i,n,G.Ta);const X=new Lm(e,n,v);return i.ma.set(e,X),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),G.snapshot}),cp.apply(this,arguments)}function Eg(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,E.Z)(function*(i,e){const n=Ht(i),o=n.ma.get(e),u=n.fa.get(o.targetId);if(u.length>1)return n.fa.set(o.targetId,u.filter(p=>!Lc(p,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Gu(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Ju(n.remoteStore,o.targetId),qd(n,o.targetId)}).catch(bo))):(qd(n,o.targetId),yield Gu(n.localStore,o.targetId,!0))}),Qh.apply(this,arguments)}function Um(){return Um=(0,E.Z)(function*(i,e,n){const o=function hp(i){const e=Ht(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V_.bind(null,e),e}(i);try{const u=yield function(v,N){const F=Ht(v),G=_i.now(),X=N.reduce((nt,Pt)=>nt.add(Pt.key),or());let fe,Ne;return F.persistence.runTransaction("Locally write mutations","readwrite",nt=>{let Pt=wo(),Ut=or();return F.ss.getEntries(nt,X).next(Kt=>{Pt=Kt,Pt.forEach((Zn,lr)=>{lr.isValidDocument()||(Ut=Ut.add(Zn))})}).next(()=>F.localDocuments.getOverlayedDocuments(nt,Pt)).next(Kt=>{fe=Kt;const Zn=[];for(const lr of N){const ar=rm(lr,fe.get(lr.key).overlayedDocument);null!=ar&&Zn.push(new pl(lr.key,ar,ao(ar.value.mapValue),es.exists(!0)))}return F.mutationQueue.addMutationBatch(nt,G,Zn,N)}).next(Kt=>{Ne=Kt;const Zn=Kt.applyToLocalDocumentSet(fe,Ut);return F.documentOverlayCache.saveOverlays(nt,Kt.batchId,Zn)})}).then(()=>({batchId:Ne.batchId,changes:Cu(fe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(v,N,F){let G=v.Sa[v.currentUser.toKey()];G||(G=new xi(Un)),G=G.insert(N,F),v.Sa[v.currentUser.toKey()]=G}(o,u.batchId,n),yield Tc(o,u.changes),yield zh(o.remoteStore)}catch(u){const p=nu(u,"Failed to persist write");n.reject(p)}}),Um.apply(this,arguments)}function L_(i,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,E.Z)(function*(i,e){const n=Ht(i);try{const o=yield function Qc(i,e){const n=Ht(i),o=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const N=[];e.targetChanges.forEach((X,fe)=>{const Ne=u.get(fe);if(!Ne)return;N.push(n.qr.removeMatchingKeys(p,X.removedDocuments,fe).next(()=>n.qr.addMatchingKeys(p,X.addedDocuments,fe)));let nt=Ne.withSequenceNumber(p.currentSequenceNumber);var Ut,Kt,Zn;null!==e.targetMismatches.get(fe)?nt=nt.withResumeToken(ps.EMPTY_BYTE_STRING,Tn.min()).withLastLimboFreeSnapshotVersion(Tn.min()):X.resumeToken.approximateByteSize()>0&&(nt=nt.withResumeToken(X.resumeToken,o)),u=u.insert(fe,nt),Kt=nt,Zn=X,(0===(Ut=Ne).resumeToken.approximateByteSize()||Kt.snapshotVersion.toMicroseconds()-Ut.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&N.push(n.qr.updateTargetData(p,nt))});let F=wo(),G=or();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&N.push(n.persistence.referenceDelegate.updateLimboDocument(p,X))}),N.push(function sg(i,e,n){let o=or(),u=or();return n.forEach(p=>o=o.add(p)),e.getEntries(i,o).next(p=>{let v=wo();return n.forEach((N,F)=>{const G=p.get(N);F.isFoundDocument()!==G.isFoundDocument()&&(u=u.add(N)),F.isNoDocument()&&F.version.isEqual(Tn.min())?(e.removeEntry(N,F.readTime),v=v.insert(N,F)):!G.isValidDocument()||F.version.compareTo(G.version)>0||0===F.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(F),v=v.insert(N,F)):at("LocalStore","Ignoring outdated watch update for ",N,". Current version:",G.version," Watch version:",F.version)}),{us:v,cs:u}})}(p,v,e.documentUpdates).next(X=>{F=X.us,G=X.cs})),!o.isEqual(Tn.min())){const X=n.qr.getLastRemoteSnapshotVersion(p).next(fe=>n.qr.setTargetsMetadata(p,p.currentSequenceNumber,o));N.push(X)}return qe.waitFor(N).next(()=>v.apply(p)).next(()=>n.localDocuments.getLocalViewOfDocuments(p,F,G)).next(()=>F)}).then(p=>(n.ts=u,p))}(n.localStore,e);e.targetChanges.forEach((u,p)=>{const v=n.ya.get(p);v&&(cn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.Ra=!0:u.modifiedDocuments.size>0?cn(v.Ra):u.removedDocuments.size>0&&(cn(v.Ra),v.Ra=!1))}),yield Tc(n,o,e)}catch(o){yield bo(o)}}),Jh.apply(this,arguments)}function id(i,e,n){const o=Ht(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ma.forEach((p,v)=>{const N=v.view.Q_(e);N.snapshot&&u.push(N.snapshot)}),function(v,N){const F=Ht(v);F.onlineState=N;let G=!1;F.queries.forEach((X,fe)=>{for(const Ne of fe.listeners)Ne.Q_(N)&&(G=!0)}),G&&rd(F)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function bc(i,e,n){return sd.apply(this,arguments)}function sd(){return sd=(0,E.Z)(function*(i,e,n){const o=Ht(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ya.get(e),p=u&&u.key;if(p){let v=new xi(qt.comparator);v=v.insert(p,Fi.newNoDocument(p,Tn.min()));const N=or().add(p),F=new Ru(Tn.min(),new Map,new xi(Un),v,N);yield L_(o,F),o.pa=o.pa.remove(p),o.ya.delete(e),Tg(o)}else yield Gu(o.localStore,e,!1).then(()=>qd(o,e,n)).catch(bo)}),sd.apply(this,arguments)}function Sy(i,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,E.Z)(function*(i,e){const n=Ht(i),o=e.batch.batchId;try{const u=yield function ig(i,e){const n=Ht(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=n.ss.newChangeBuffer({trackRemovals:!0});return function(N,F,G,X){const fe=G.batch,Ne=fe.keys();let nt=qe.resolve();return Ne.forEach(Pt=>{nt=nt.next(()=>X.getEntry(F,Pt)).next(Ut=>{const Kt=G.docVersions.get(Pt);cn(null!==Kt),Ut.version.compareTo(Kt)<0&&(fe.applyToRemoteDocument(Ut,G),Ut.isValidDocument()&&(Ut.setReadTime(G.commitVersion),X.addEntry(Ut)))})}),nt.next(()=>N.mutationQueue.removeMutationBatch(F,fe))}(n,o,e,p).next(()=>p.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(N){let F=or();for(let G=0;G<N.mutationResults.length;++G)N.mutationResults[G].transformResults.length>0&&(F=F.add(N.batch.mutations[G].key));return F}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);ef(n,o,null),Xh(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Tc(n,u)}catch(u){yield bo(u)}}),Hm.apply(this,arguments)}function V_(i,e,n){return bg.apply(this,arguments)}function bg(){return bg=(0,E.Z)(function*(i,e,n){const o=Ht(i);try{const u=yield function(v,N){const F=Ht(v);return F.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let X;return F.mutationQueue.lookupMutationBatch(G,N).next(fe=>(cn(null!==fe),X=fe.keys(),F.mutationQueue.removeMutationBatch(G,fe))).next(()=>F.mutationQueue.performConsistencyCheck(G)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(G,X,N)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,X)).next(()=>F.localDocuments.getDocuments(G,X))})}(o.localStore,e);ef(o,e,n),Xh(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Tc(o,u)}catch(u){yield bo(u)}}),bg.apply(this,arguments)}function Xh(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function ef(i,e,n){const o=Ht(i);let u=o.Sa[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(n?p.reject(n):p.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function qd(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||B_(i,o)})}function B_(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Ju(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),Tg(i))}function dp(i,e,n){for(const o of n)o instanceof x_?(i.wa.addReference(o.key,e),U_(i,o)):o instanceof Qs?(at("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||B_(i,o.key)):Wt()}function U_(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(at("SyncEngine","New document in limbo: "+n),i.ga.add(o),Tg(i))}function Tg(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new qt(jr.fromString(e)),o=i.Da.next();i.ya.set(o,new Vm(n)),i.pa=i.pa.insert(n,o),Ec(i.remoteStore,new Ba(Jo(ac(n.path)),o,"TargetPurposeLimboResolution",Cs._e))}}function Tc(i,e,n){return H_.apply(this,arguments)}function H_(){return H_=(0,E.Z)(function*(i,e,n){const o=Ht(i),u=[],p=[],v=[];var N;o.ma.isEmpty()||(o.ma.forEach((N,F)=>{v.push(o.va(F,e,n).then(G=>{if((G||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(F.targetId,G?.fromCache?"not-current":"current"),G){u.push(G);const X=Xf.Qi(F.targetId,G);p.push(X)}}))}),yield Promise.all(v),o.Va.a_(u),yield(N=(0,E.Z)(function*(G,X){const fe=Ht(G);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>qe.forEach(X,nt=>qe.forEach(nt.ki,Pt=>fe.persistence.referenceDelegate.addReference(Ne,nt.targetId,Pt)).next(()=>qe.forEach(nt.qi,Pt=>fe.persistence.referenceDelegate.removeReference(Ne,nt.targetId,Pt)))))}catch(Ne){if(!Pa(Ne))throw Ne;at("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of X){const nt=Ne.targetId;if(!Ne.fromCache){const Pt=fe.ts.get(nt),Kt=Pt.withLastLimboFreeSnapshotVersion(Pt.snapshotVersion);fe.ts=fe.ts.insert(nt,Kt)}}}),function F(G,X){return N.apply(this,arguments)})(o.localStore,p))}),H_.apply(this,arguments)}function Ay(i,e){return j_.apply(this,arguments)}function j_(){return j_=(0,E.Z)(function*(i,e){const n=Ht(i);if(!n.currentUser.isEqual(e)){at("SyncEngine","User change. New user:",e.toKey());const o=yield Tm(n.localStore,e);n.currentUser=e,(p=n).ba.forEach(N=>{N.forEach(F=>{F.reject(new Dt(Xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Tc(n,o._s)}var p}),j_.apply(this,arguments)}function mv(i,e){const n=Ht(i),o=n.ya.get(e);if(o&&o.Ra)return or().add(o.key);{let u=or();const p=n.fa.get(e);if(!p)return u;for(const v of p){const N=n.ma.get(v);u=u.unionWith(N.view.ua)}return u}}class pp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,E.Z)(function*(){n.serializer=qu(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function ep(i,e,n,o){return new Ey(i,e,n,o)}(this.persistence,new xh,e.initialUser,this.serializer)}createPersistence(e){return new Fd(tg.jr,this.serializer)}createSharedClientState(e){return new R_}terminate(){var e=this;return(0,E.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kd{initialize(e,n){var o=this;return(0,E.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>id(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ay.bind(null,o.syncEngine),yield function vg(i,e){return op.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vl}createDatastore(e){const n=qu(e.databaseInfo.databaseId),o=new Bh(e.databaseInfo);return new Bd(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,u=this.datastore,p=e.asyncQueue,v=n=>id(this.syncEngine,n,0),N=N_.D()?new N_:new Ty,new jh(o,u,p,v,N);var o,u,p,v,N}createSyncEngine(e,n){return function(u,p,v,N,F,G,X){const fe=new F_(u,p,v,N,F,G);return X&&(fe.Ca=!0),fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,E.Z)(function*(o){const u=Ht(o);at("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield il(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}class rf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Py{constructor(e,n,o,u){var p=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=bn.UNAUTHENTICATED,this.clientId=fu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,E.Z)(function*(N){at("FirestoreClient","Received user=",N.uid),yield p.authCredentialListener(N),p.user=N});return function(N){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(at("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,E.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,E.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=nu(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function mp(i,e){return zm.apply(this,arguments)}function zm(){return zm=(0,E.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,E.Z)(function*(p){o.isEqual(p)||(yield Tm(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),zm.apply(this,arguments)}function Wm(i,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,E.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function _p(i){return Km.apply(this,arguments)}(i);at("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>yl(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,p)=>yl(e.remoteStore,p)),i._onlineComponents=e}),Mg.apply(this,arguments)}function Km(){return Km=(0,E.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function qm(i){return"FirebaseError"===i.name?i.code===Xe.FAILED_PRECONDITION||i.code===Xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Hr("Error using user provided cache. Falling back to memory cache: "+n),yield mp(i,new pp)}}else at("FirestoreClient","Using default OfflineComponentProvider"),yield mp(i,new pp);return i._offlineComponents}),Km.apply(this,arguments)}function pa(i){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,E.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wm(i,i._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),yield Wm(i,new Kd))),i._onlineComponents}),Pg.apply(this,arguments)}function ld(i){return kg.apply(this,arguments)}function kg(){return kg=(0,E.Z)(function*(i){const e=yield pa(i),n=e.eventManager;return n.onListen=lp.bind(null,e.syncEngine),n.onUnlisten=Eg.bind(null,e.syncEngine),n}),kg.apply(this,arguments)}function K(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const oe=new Map;function ge(i,e,n){if(!n)throw new Dt(Xe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function et(i){if(!qt.isDocumentKey(i))throw new Dt(Xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ut(i){if(qt.isDocumentKey(i))throw new Dt(Xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ht(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":Wt()}function dt(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Dt(Xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ht(i);throw new Dt(Xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Gt{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Dt(Xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dt(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function De(i,e,n,o){if(!0===e&&!0===o)throw new Dt(Xe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=K(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Dt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Dt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Dt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mn{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gt({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Dt(Xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dt(Xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gt(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new hd;switch(o.type){case"firstParty":return new sh(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Dt(Xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=oe.get(n);o&&(at("ComponentProvider","Removing Datastore"),oe.delete(n),o.terminate())}(this),Promise.resolve()}}class Cn{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Cn(this.firestore,e,this._query)}}class nn{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class sr extends Cn{constructor(e,n,o){super(e,n,ac(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new qt(e))}withConverter(e){return new sr(this.firestore,e,this._path)}}function hr(i,e,...n){if(i=(0,ce.m9)(i),ge("collection","path",e),i instanceof Mn){const o=jr.fromString(e,...n);return ut(o),new sr(i,null,o)}{if(!(i instanceof nn||i instanceof sr))throw new Dt(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(jr.fromString(e,...n));return ut(o),new sr(i.firestore,null,o)}}function zr(i,e,...n){if(i=(0,ce.m9)(i),1===arguments.length&&(e=fu.newId()),ge("doc","path",e),i instanceof Mn){const o=jr.fromString(e,...n);return et(o),new nn(i,null,new qt(o))}{if(!(i instanceof nn||i instanceof sr))throw new Dt(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(jr.fromString(e,...n));return et(o),new nn(i.firestore,i instanceof sr?i.converter:null,new qt(o))}}class Fs{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ku(this,"async_queue_retry"),this.iu=()=>{const n=Xc();n&&at("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Xc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Xc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new ws;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,E.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Pa(n))throw n;at("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(v){let N=v.message||"";return v.stack&&(N=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),N}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=ap.createAndSchedule(this,e,n,o,p=>this.au(p));return this.Xa.push(u),u}su(){this.eu&&Wt()}verifyOperationInProgress(){}uu(){var e=this;return(0,E.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function uo(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(i)}class ti extends Mn{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Fs,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tr(this),this._firestoreClient.terminate()}}function In(i,e){const n="object"==typeof i?i:(0,B.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,B.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const p=(0,ce.P0)("firestore");p&&function jn(i,e,n,o={}){var u;const p=(i=dt(i,Mn))._getSettings(),v=`${e}:${n}`;if("firestore.googleapis.com"!==p.host&&p.host!==v&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},p),{host:v,ssl:!1})),o.mockUserToken){let N,F;if("string"==typeof o.mockUserToken)N=o.mockUserToken,F=bn.MOCK_USER;else{N=(0,ce.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const G=o.mockUserToken.sub||o.mockUserToken.user_id;if(!G)throw new Dt(Xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new bn(G)}i._authCredentials=new Al(new Ii(N,F))}}(u,...p)}return u}function un(i){return i._firestoreClient||Tr(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Tr(i){var e,n,o;const u=i._freezeSettings(),p=(F=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ol(i._databaseId,F,i._persistenceKey,(X=u).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,K(X.experimentalLongPollingOptions),X.useFetchStreams));var F,X;i._firestoreClient=new Py(i._authCredentials,i._appCheckCredentials,i._queue,p),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new su(ps.fromBase64String(e))}catch(n){throw new Dt(Xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new su(ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Dt(Xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fg{constructor(e){this._methodName=e}}class af{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Dt(Xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Dt(Xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Un(this._lat,e._lat)||Un(this._long,e._long)}}const Lg=/^__.*__$/;class Z_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new pl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}function lf(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt()}}class cf{constructor(e,n,o,u,p,v){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===p&&this.Pu(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new cf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return jo(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(lf(this.Iu)&&Lg.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Jm{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||qu(e)}pu(e,n,o,u=!1){return new cf({Iu:e,methodName:n,gu:o,path:wi.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ou(i){const e=i._freezeSettings(),n=qu(i._databaseId);return new Jm(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vp(i,e,n,o,u,p={}){const v=i.pu(p.merge||p.mergeFields?2:0,e,n,u);Vg("Data must be an object, but it was:",v,o);const N=ky(o,v);let F,G;if(p.merge)F=new ki(v.fieldMask),G=v.fieldTransforms;else if(p.mergeFields){const X=[];for(const fe of p.mergeFields){const Ne=Bg(e,fe,n);if(!v.contains(Ne))throw new Dt(Xe.INVALID_ARGUMENT,`Field '${Ne}' is specified in your field mask but missing from your input data.`);Xd(X,Ne)||X.push(Ne)}F=new ki(X),G=v.fieldTransforms.filter(fe=>F.covers(fe.field))}else F=null,G=v.fieldTransforms;return new Z_(new Ys(N),F,G)}function au(i,e){if(Fy(i=(0,ce.m9)(i)))return Vg("Unsupported field value:",e,i),ky(i,e);if(i instanceof Fg)return function(o,u){if(!lf(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const p=o._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const p=[];let v=0;for(const N of o){let F=au(N,u.Vu(v));null==F&&(F={nullValue:"NULL_VALUE"}),p.push(F),v++}return{arrayValue:{values:p}}}(i,e)}return function(o,u){if(null===(o=(0,ce.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Xg(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const p=_i.fromDate(o);return{timestampValue:le(u.serializer,p)}}if(o instanceof _i){const p=new _i(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:le(u.serializer,p)}}if(o instanceof af)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof su)return{bytesValue:ke(u.serializer,o._byteString)};if(o instanceof nn){const p=u.databaseId,v=o.firestore._databaseId;if(!v.isEqual(p))throw u.mu(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:gn(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${ht(o)}`)}(i,e)}function ky(i,e){const n={};return mu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(i,(o,u)=>{const p=au(u,e.Eu(o));null!=p&&(n[o]=p)}),{mapValue:{fields:n}}}function Fy(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof _i||i instanceof af||i instanceof su||i instanceof nn||i instanceof Fg)}function Vg(i,e,n){if(!Fy(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=ht(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function Bg(i,e,n){if((e=(0,ce.m9)(e))instanceof Zd)return e._internalPath;if("string"==typeof e)return Jd(i,e);throw jo("Field path arguments must be of type string or ",i,!1,void 0,n)}const lu=new RegExp("[~\\*/\\[\\]]");function Jd(i,e,n){if(e.search(lu)>=0)throw jo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Zd(...e.split("."))._internalPath}catch{throw jo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function jo(i,e,n,o,u){const p=o&&!o.isEmpty(),v=void 0!==u;let N=`Function ${e}() called with invalid data`;n&&(N+=" (via `toFirestore()`)"),N+=". ";let F="";return(p||v)&&(F+=" (found",p&&(F+=` in field ${o}`),v&&(F+=` in document ${u}`),F+=")"),new Dt(Xe.INVALID_ARGUMENT,N+i+F)}function Xd(i,e){return i.some(n=>n.isEqual(e))}class bp{constructor(e,n,o,u,p){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Gl extends bp{data(){return super.data()}}function Tp(i,e){return"string"==typeof e?Jd(i,e):e instanceof Zd?e._internalPath:e._delegate._internalPath}class eh{}class Ip extends eh{}function wp(i,e,...n){let o=[];e instanceof eh&&o.push(e),o=o.concat(n),function(p){const v=p.filter(F=>F instanceof Ic).length,N=p.filter(F=>F instanceof cu).length;if(v>1||v>0&&N>0)throw new Dt(Xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class cu extends Ip{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new cu(e,n,o)}_apply(e){const n=this._parse(e);return By(e._query,n),new Cn(e.firestore,e.converter,wf(e._query,n))}_parse(e){const n=ou(e.firestore);return function(p,v,N,F,G,X,fe){let Ne;if(G.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new Dt(Xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){Vy(fe,X);const nt=[];for(const Pt of fe)nt.push(Cv(F,p,Pt));Ne={arrayValue:{values:nt}}}else Ne=Cv(F,p,fe)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||Vy(fe,X),Ne=function vv(i,e,n,o=!1){return au(n,i.pu(o?4:3,e))}(N,"where",fe,"in"===X||"not-in"===X);return mr.create(G,X,Ne)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ic extends eh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ic(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:Gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,p){let v=u;const N=p.getFlattenedFilters();for(const F of N)By(v,F),v=wf(v,F)}(e._query,n),new Cn(e.firestore,e.converter,wf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Cv(i,e,n){if("string"==typeof(n=(0,ce.m9)(n))){if(""===n)throw new Dt(Xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tu(e)&&-1!==n.indexOf("/"))throw new Dt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(jr.fromString(n));if(!qt.isDocumentKey(o))throw new Dt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ul(i,new qt(o))}if(n instanceof nn)return ul(i,n._key);throw new Dt(Xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ht(n)}.`)}function Vy(i,e){if(!Array.isArray(i)||0===i.length)throw new Dt(Xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function By(i,e){const n=function(u,p){for(const v of u)for(const N of v.getFlattenedFilters())if(p.indexOf(N.op)>=0)return N.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Dt(Xe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Av{convertValue(e,n="none"){switch(xl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Po(e,(u,p)=>{o[u]=this.convertValue(p,n)}),o}convertGeoPoint(e){return new af(Di(e.latitude),Di(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=ll(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Ta(e));default:return null}}convertTimestamp(e){const n=Vo(e);return new _i(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=jr.fromString(e);cn(cm(o));const u=new Qa(o.get(1),o.get(3)),p=new qt(o.popFirst(5));return u.isEqual(n)||Cr(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),p}}class uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hf extends bp{constructor(e,n,o,u,p,v){super(e,n,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Tp("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class th extends hf{data(e={}){return super.data(e)}}class ff{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new uu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new th(this._firestore,this._userDataWriter,o.key,o,new uu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Dt(Xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(N=>({type:"added",doc:new th(u._firestore,u._userDataWriter,N.doc.key,N.doc,new uu(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(N=>p||3!==N.type).map(N=>{const F=new th(u._firestore,u._userDataWriter,N.doc.key,N.doc,new uu(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter);let G=-1,X=-1;return 0!==N.type&&(G=v.indexOf(N.doc.key),v=v.delete(N.doc.key)),1!==N.type&&(v=v.add(N.doc),X=v.indexOf(N.doc.key)),{type:Rv(N.type),doc:F,oldIndex:G,newIndex:X}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Rv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt()}}class nh extends Av{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function z0(i,e,n){i=dt(i,nn);const o=dt(i.firestore,ti),u=function Uy(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e,n);return function Wg(i,e){return function(o,u){const p=new ws;return o.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return function Bm(i,e,n){return Um.apply(this,arguments)}(yield function xg(i){return pa(i).then(e=>e.syncEngine)}(o),u,p)})),p.promise}(un(i),e)}(o,[vp(ou(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,es.none())])}function Nv(i,...e){var n,o,u;i=(0,ce.m9)(i);let p={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||uo(e[v])||(p=e[v],v++);const N={includeMetadataChanges:p.includeMetadataChanges};if(uo(e[v])){const fe=e[v];e[v]=null===(n=fe.next)||void 0===n?void 0:n.bind(fe),e[v+1]=null===(o=fe.error)||void 0===o?void 0:o.bind(fe),e[v+2]=null===(u=fe.complete)||void 0===u?void 0:u.bind(fe)}let F,G,X;if(i instanceof nn)G=dt(i.firestore,ti),X=ac(i._key.path),F={next:fe=>{e[v]&&e[v](function ny(i,e,n){const o=n.docs.get(e._key),u=new nh(i);return new hf(i,u,e._key,o,new uu(n.hasPendingWrites,n.fromCache),e.converter)}(G,i,fe))},error:e[v+1],complete:e[v+2]};else{const fe=dt(i,Cn);G=dt(fe.firestore,ti),X=fe._query;const Ne=new nh(G);F={next:nt=>{e[v]&&e[v](new ff(G,Ne,fe,nt))},error:e[v+1],complete:e[v+2]},function df(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Dt(Xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(Ne,nt,Pt,Ut){const Kt=new rf(Ut),Zn=new ru(nt,Kt,Pt);return Ne.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return function Kh(i,e){return xm.apply(this,arguments)}(yield ld(Ne),Zn)})),()=>{Kt.Na(),Ne.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return function $d(i,e){return $l.apply(this,arguments)}(yield ld(Ne),Zn)}))}}(un(G),X,N,F)}!function(e,n=!0){mi=B.Jn,(0,B.Xd)(new Fe.wA("firestore",(o,{instanceIdentifier:u,options:p})=>{const v=o.getProvider("app").getImmediate(),N=new ti(new Ds(o.getProvider("auth-internal")),new io(o.getProvider("app-check-internal")),function(G,X){if(!Object.prototype.hasOwnProperty.apply(G.options,["projectId"]))throw new Dt(Xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(G.options.projectId,X)}(v,u),v);return p=Object.assign({useFetchStreams:n},p),N._setSettings(p),N},"PUBLIC").setMultipleInstances(!0)),(0,B.KN)(br,"4.3.2",e),(0,B.KN)(br,"4.3.2","esm2017")}()},8672:(Lt,Ke,$)=>{$.d(Ke,{Ro:()=>xe,ef:()=>Qe,t2:()=>$n});var E=$(9468),B=$(5619),Fe=$(8645),y=$(2181),ce=$(9773),he=$(6825),Ae=$(6814),Ce=$(6593);const Ye=["overlay"];function de(Le,Ue){1&Le&&E._UZ(0,"div")}function Ie(Le,Ue){if(1&Le&&(E.TgZ(0,"div"),E.YNc(1,de,1,0,"div",6),E.qZA()),2&Le){const je=E.oxw(2);E.Tol(je.spinner.class),E.Udp("color",je.spinner.color),E.xp6(1),E.Q6J("ngForOf",je.spinner.divArray)}}function ze(Le,Ue){if(1&Le&&(E._UZ(0,"div",7),E.ALo(1,"safeHtml")),2&Le){const je=E.oxw(2);E.Q6J("innerHTML",E.lcZ(1,1,je.template),E.oJD)}}function wt(Le,Ue){if(1&Le&&(E.TgZ(0,"div",1,2),E.YNc(2,Ie,2,5,"div",3),E.YNc(3,ze,2,3,"div",4),E.TgZ(4,"div",5),E.Hsn(5),E.qZA()()),2&Le){const je=E.oxw();E.Udp("background-color",je.spinner.bdColor)("z-index",je.spinner.zIndex)("position",je.spinner.fullScreen?"fixed":"absolute"),E.Q6J("@.disabled",je.disableAnimation)("@fadeIn","in"),E.xp6(2),E.Q6J("ngIf",!je.template),E.xp6(1),E.Q6J("ngIf",je.template),E.xp6(1),E.Udp("z-index",je.spinner.zIndex)}}const it=["*"],pt={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Yt="primary";class St{constructor(Ue){Object.assign(this,Ue)}static create(Ue){return!Ue?.template&&!Ue?.type&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new St(Ue)}}let $n=(()=>{class Le{constructor(){this.spinnerObservable=new B.X(null)}getSpinner(je){return this.spinnerObservable.asObservable().pipe((0,y.h)(lt=>lt&&lt.name===je))}show(je=Yt,lt){return new Promise((_t,Xn)=>{setTimeout(()=>{lt&&Object.keys(lt).length?(lt.name=je,this.spinnerObservable.next(new St({...lt,show:!0})),_t(!0)):(this.spinnerObservable.next(new St({name:je,show:!0})),_t(!0))},10)})}hide(je=Yt,lt=10){return new Promise((_t,Xn)=>{setTimeout(()=>{this.spinnerObservable.next(new St({name:je,show:!1})),_t(!0)},lt)})}static#e=this.\u0275fac=function(lt){return new(lt||Le)};static#t=this.\u0275prov=E.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})();const Re=new E.OlP("NGX_SPINNER_CONFIG");let _e=(()=>{class Le{constructor(je){this._sanitizer=je}transform(je){if(je)return this._sanitizer.bypassSecurityTrustHtml(je)}static#e=this.\u0275fac=function(lt){return new(lt||Le)(E.Y36(Ce.H7,16))};static#t=this.\u0275pipe=E.Yjl({name:"safeHtml",type:Le,pure:!0})}return Le})(),xe=(()=>{class Le{constructor(je,lt,_t,Xn){this.spinnerService=je,this.changeDetector=lt,this.elementRef=_t,this.globalConfig=Xn,this.disableAnimation=!1,this.spinner=new St,this.ngUnsubscribe=new Fe.x,this.setDefaultOptions=()=>{const{type:ft}=this.globalConfig??{};this.spinner=St.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??ft,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Yt,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe((0,ce.R)(this.ngUnsubscribe)).subscribe(je=>{this.setDefaultOptions(),Object.assign(this.spinner,je),je.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(je){return je===this.elementRef.nativeElement.parentElement||je.parentNode&&this.isSpinnerZone(je.parentNode)}ngOnChanges(je){for(const lt in je)if(lt){const _t=je[lt];if(_t.isFirstChange())return;typeof _t.currentValue<"u"&&_t.currentValue!==_t.previousValue&&""!==_t.currentValue&&(this.spinner[lt]=_t.currentValue,"showSpinner"===lt&&(_t.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===lt&&this.initObservable())}}getClass(je,lt){this.spinner.divCount=pt[je],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((Xn,ft)=>ft);let _t="";switch(lt.toLowerCase()){case"small":_t="la-sm";break;case"medium":_t="la-2x";break;case"large":_t="la-3x"}return"la-"+je+" "+_t}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static#e=this.\u0275fac=function(lt){return new(lt||Le)(E.Y36($n),E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(Re,8))};static#t=this.\u0275cmp=E.Xpm({type:Le,selectors:[["ngx-spinner"]],viewQuery:function(lt,_t){if(1&lt&&E.Gf(Ye,5),2&lt){let Xn;E.iGM(Xn=E.CRH())&&(_t.spinnerDOM=Xn.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[E.TTD],ngContentSelectors:it,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(lt,_t){1&lt&&(E.F$t(),E.YNc(0,wt,6,12,"div",0)),2&lt&&E.Q6J("ngIf",_t.spinner.show)},dependencies:[Ae.sg,Ae.O5,_e],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,he.X$)("fadeIn",[(0,he.SB)("in",(0,he.oB)({opacity:1})),(0,he.eR)(":enter",[(0,he.oB)({opacity:0}),(0,he.jt)(300)]),(0,he.eR)(":leave",(0,he.jt)(200,(0,he.oB)({opacity:0})))])]},changeDetection:0})}return Le})(),Qe=(()=>{class Le{static forRoot(je){return{ngModule:Le,providers:[{provide:Re,useValue:je}]}}static#e=this.\u0275fac=function(lt){return new(lt||Le)};static#t=this.\u0275mod=E.oAB({type:Le});static#n=this.\u0275inj=E.cJS({imports:[Ae.ez]})}return Le})()},6974:(Lt,Ke,$)=>{$.d(Ke,{iG:()=>tr,Xt:()=>ni});var E=$(6814),B=$(9468),Fe=$(95);let Yt=(()=>{class ae{template;type;name;constructor(Y){this.template=Y}getType(){return this.name}static \u0275fac=function(ve){return new(ve||ae)(B.Y36(B.Rgc))};static \u0275dir=B.lG2({type:ae,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return ae})(),St=(()=>{class ae{static \u0275fac=function(ve){return new(ve||ae)};static \u0275mod=B.oAB({type:ae});static \u0275inj=B.cJS({imports:[E.ez]})}return ae})();class _e{static equals(ue,Y,ve){return ve?this.resolveFieldData(ue,ve)===this.resolveFieldData(Y,ve):this.equalsByValue(ue,Y)}static equalsByValue(ue,Y){if(ue===Y)return!0;if(ue&&Y&&"object"==typeof ue&&"object"==typeof Y){var $e,Ot,Xt,ve=Array.isArray(ue),Se=Array.isArray(Y);if(ve&&Se){if((Ot=ue.length)!=Y.length)return!1;for($e=Ot;0!=$e--;)if(!this.equalsByValue(ue[$e],Y[$e]))return!1;return!0}if(ve!=Se)return!1;var en=this.isDate(ue),rn=this.isDate(Y);if(en!=rn)return!1;if(en&&rn)return ue.getTime()==Y.getTime();var fn=ue instanceof RegExp,cr=Y instanceof RegExp;if(fn!=cr)return!1;if(fn&&cr)return ue.toString()==Y.toString();var ln=Object.keys(ue);if((Ot=ln.length)!==Object.keys(Y).length)return!1;for($e=Ot;0!=$e--;)if(!Object.prototype.hasOwnProperty.call(Y,ln[$e]))return!1;for($e=Ot;0!=$e--;)if(!this.equalsByValue(ue[Xt=ln[$e]],Y[Xt]))return!1;return!0}return ue!=ue&&Y!=Y}static resolveFieldData(ue,Y){if(ue&&Y){if(this.isFunction(Y))return Y(ue);if(-1==Y.indexOf("."))return ue[Y];{let ve=Y.split("."),Se=ue;for(let $e=0,Ot=ve.length;$e<Ot;++$e){if(null==Se)return null;Se=Se[ve[$e]]}return Se}}return null}static isFunction(ue){return!!(ue&&ue.constructor&&ue.call&&ue.apply)}static reorderArray(ue,Y,ve){ue&&Y!==ve&&(ve>=ue.length&&(ve%=ue.length,Y%=ue.length),ue.splice(ve,0,ue.splice(Y,1)[0]))}static insertIntoOrderedArray(ue,Y,ve,Se){if(ve.length>0){let $e=!1;for(let Ot=0;Ot<ve.length;Ot++)if(this.findIndexInList(ve[Ot],Se)>Y){ve.splice(Ot,0,ue),$e=!0;break}$e||ve.push(ue)}else ve.push(ue)}static findIndexInList(ue,Y){let ve=-1;if(Y)for(let Se=0;Se<Y.length;Se++)if(Y[Se]==ue){ve=Se;break}return ve}static contains(ue,Y){if(null!=ue&&Y&&Y.length)for(let ve of Y)if(this.equals(ue,ve))return!0;return!1}static removeAccents(ue){return ue&&ue.search(/[\xC0-\xFF]/g)>-1&&(ue=ue.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),ue}static isDate(ue){return"[object Date]"===Object.prototype.toString.call(ue)}static isEmpty(ue){return null==ue||""===ue||Array.isArray(ue)&&0===ue.length||!this.isDate(ue)&&"object"==typeof ue&&0===Object.keys(ue).length}static isNotEmpty(ue){return!this.isEmpty(ue)}static compare(ue,Y,ve,Se=1){let $e=-1;const Ot=this.isEmpty(ue),Xt=this.isEmpty(Y);return $e=Ot&&Xt?0:Ot?Se:Xt?-Se:"string"==typeof ue&&"string"==typeof Y?ue.localeCompare(Y,ve,{numeric:!0}):ue<Y?-1:ue>Y?1:0,$e}static sort(ue,Y,ve=1,Se,$e=1){return(1===$e?ve:$e)*_e.compare(ue,Y,Se,ve)}static merge(ue,Y){if(null!=ue||null!=Y)return null!=ue&&"object"!=typeof ue||null!=Y&&"object"!=typeof Y?null!=ue&&"string"!=typeof ue||null!=Y&&"string"!=typeof Y?Y||ue:[ue||"",Y||""].join(" "):{...ue||{},...Y||{}}}static isPrintableCharacter(ue=""){return this.isNotEmpty(ue)&&1===ue.length&&ue.match(/\S| /)}static getItemValue(ue,...Y){return this.isFunction(ue)?ue(...Y):ue}static findLastIndex(ue,Y){let ve=-1;if(this.isNotEmpty(ue))try{ve=ue.findLastIndex(Y)}catch{ve=ue.lastIndexOf([...ue].reverse().find(Y))}return ve}static findLast(ue,Y){let ve;if(this.isNotEmpty(ue))try{ve=ue.findLast(Y)}catch{ve=[...ue].reverse().find(Y)}return ve}}var xe=0;function Qe(ae="pn_id_"){return`${ae}${++xe}`}!function Le(){let ae=[];const Se=$e=>$e&&parseInt($e.style.zIndex,10)||0}();const je=["*"];let lt=(()=>{class ae{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const Y=_e.isEmpty(this.label);this.role=Y?void 0:"img",this.ariaLabel=Y?void 0:this.label,this.ariaHidden=Y}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(ve){return new(ve||ae)};static \u0275cmp=B.Xpm({type:ae,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[B.jDz],ngContentSelectors:je,decls:1,vars:0,template:function(ve,Se){1&ve&&(B.F$t(),B.Hsn(0))},encapsulation:2,changeDetection:0})}return ae})(),_t=(()=>{class ae extends lt{pathId;ngOnInit(){this.pathId="url(#"+Qe()+")"}static \u0275fac=function(){let Y;return function(Se){return(Y||(Y=B.n5z(ae)))(Se||ae)}}();static \u0275cmp=B.Xpm({type:ae,selectors:[["StarFillIcon"]],standalone:!0,features:[B.qOj,B.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(ve,Se){1&ve&&(B.O4$(),B.TgZ(0,"svg",0)(1,"g"),B._UZ(2,"path",1),B.qZA(),B.TgZ(3,"defs")(4,"clipPath",2),B._UZ(5,"rect",3),B.qZA()()()),2&ve&&(B.Tol(Se.getClassNames()),B.uIk("aria-label",Se.ariaLabel)("aria-hidden",Se.ariaHidden)("role",Se.role),B.xp6(1),B.uIk("clip-path",Se.pathId),B.xp6(3),B.Q6J("id",Se.pathId))},encapsulation:2})}return ae})(),Xn=(()=>{class ae extends lt{pathId;ngOnInit(){this.pathId="url(#"+Qe()+")"}static \u0275fac=function(){let Y;return function(Se){return(Y||(Y=B.n5z(ae)))(Se||ae)}}();static \u0275cmp=B.Xpm({type:ae,selectors:[["StarIcon"]],standalone:!0,features:[B.qOj,B.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(ve,Se){1&ve&&(B.O4$(),B.TgZ(0,"svg",0)(1,"g"),B._UZ(2,"path",1),B.qZA(),B.TgZ(3,"defs")(4,"clipPath",2),B._UZ(5,"rect",3),B.qZA()()()),2&ve&&(B.Tol(Se.getClassNames()),B.uIk("aria-label",Se.ariaLabel)("aria-hidden",Se.ariaHidden)("role",Se.role),B.xp6(1),B.uIk("clip-path",Se.pathId),B.xp6(3),B.Q6J("id",Se.pathId))},encapsulation:2})}return ae})(),ft=(()=>{class ae extends lt{pathId;ngOnInit(){this.pathId="url(#"+Qe()+")"}static \u0275fac=function(){let Y;return function(Se){return(Y||(Y=B.n5z(ae)))(Se||ae)}}();static \u0275cmp=B.Xpm({type:ae,selectors:[["BanIcon"]],standalone:!0,features:[B.qOj,B.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7 0C5.61553 0 4.26215 0.410543 3.11101 1.17971C1.95987 1.94888 1.06266 3.04213 0.532846 4.32122C0.00303296 5.6003 -0.13559 7.00776 0.134506 8.36563C0.404603 9.7235 1.07129 10.9708 2.05026 11.9497C3.02922 12.9287 4.2765 13.5954 5.63437 13.8655C6.99224 14.1356 8.3997 13.997 9.67879 13.4672C10.9579 12.9373 12.0511 12.0401 12.8203 10.889C13.5895 9.73785 14 8.38447 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0ZM1.16667 7C1.16549 5.65478 1.63303 4.35118 2.48889 3.31333L10.6867 11.5111C9.83309 12.2112 8.79816 12.6544 7.70243 12.789C6.60669 12.9236 5.49527 12.744 4.49764 12.2713C3.50001 11.7986 2.65724 11.0521 2.06751 10.1188C1.47778 9.18558 1.16537 8.10397 1.16667 7ZM11.5111 10.6867L3.31334 2.48889C4.43144 1.57388 5.84966 1.10701 7.29265 1.1789C8.73565 1.2508 10.1004 1.85633 11.1221 2.87795C12.1437 3.89956 12.7492 5.26435 12.8211 6.70735C12.893 8.15034 12.4261 9.56856 11.5111 10.6867Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(ve,Se){1&ve&&(B.O4$(),B.TgZ(0,"svg",0)(1,"g"),B._UZ(2,"path",1),B.qZA(),B.TgZ(3,"defs")(4,"clipPath",2),B._UZ(5,"rect",3),B.qZA()()()),2&ve&&(B.Tol(Se.getClassNames()),B.uIk("aria-label",Se.ariaLabel)("aria-hidden",Se.ariaHidden)("role",Se.role),B.xp6(1),B.uIk("clip-path",Se.pathId),B.xp6(3),B.Q6J("id",Se.pathId))},encapsulation:2})}return ae})();function wn(ae,ue){if(1&ae){const Y=B.EpF();B.TgZ(0,"span",7),B.NdJ("click",function(Se){B.CHM(Y);const $e=B.oxw(3);return B.KtG($e.clear(Se))})("keydown.enter",function(Se){B.CHM(Y);const $e=B.oxw(3);return B.KtG($e.clear(Se))}),B.qZA()}if(2&ae){const Y=B.oxw(3);B.Q6J("ngClass",Y.iconCancelClass)("ngStyle",Y.iconCancelStyle),B.uIk("tabindex",Y.disabled||Y.readonly?null:"0")}}function er(ae,ue){if(1&ae){const Y=B.EpF();B.TgZ(0,"BanIcon",8),B.NdJ("click",function(Se){B.CHM(Y);const $e=B.oxw(3);return B.KtG($e.clear(Se))})("keydown.enter",function(Se){B.CHM(Y);const $e=B.oxw(3);return B.KtG($e.clear(Se))}),B.qZA()}if(2&ae){const Y=B.oxw(3);B.Q6J("styleClass","p-rating-icon p-rating-cancel")("ngStyle",Y.iconCancelStyle),B.uIk("tabindex",Y.disabled||Y.readonly?null:"0")}}function xt(ae,ue){if(1&ae&&(B.ynx(0),B.YNc(1,wn,1,3,"span",5),B.YNc(2,er,1,3,"BanIcon",6),B.BQk()),2&ae){const Y=B.oxw(2);B.xp6(1),B.Q6J("ngIf",Y.iconCancelClass),B.xp6(1),B.Q6J("ngIf",!Y.iconCancelClass)}}function vn(ae,ue){if(1&ae){const Y=B.EpF();B.TgZ(0,"span",11),B.NdJ("click",function(Se){B.CHM(Y);const $e=B.oxw(2).index,Ot=B.oxw(2);return B.KtG(Ot.rate(Se,$e))})("keydown.enter",function(Se){B.CHM(Y);const $e=B.oxw(2).index,Ot=B.oxw(2);return B.KtG(Ot.rate(Se,$e))}),B.qZA()}if(2&ae){const Y=B.oxw(4);B.Q6J("ngStyle",Y.iconOffStyle)("ngClass",Y.iconOffClass)}}function tn(ae,ue){if(1&ae){const Y=B.EpF();B.TgZ(0,"StarIcon",12),B.NdJ("click",function(Se){B.CHM(Y);const $e=B.oxw(2).index,Ot=B.oxw(2);return B.KtG(Ot.rate(Se,$e))})("keydown.enter",function(Se){B.CHM(Y);const $e=B.oxw(2).index,Ot=B.oxw(2);return B.KtG(Ot.rate(Se,$e))}),B.qZA()}if(2&ae){const Y=B.oxw(4);B.Q6J("ngStyle",Y.iconOffStyle)("styleClass","p-rating-icon"),B.uIk("tabindex",Y.disabled||Y.readonly?null:"0")}}function Me(ae,ue){if(1&ae&&(B.ynx(0),B.YNc(1,vn,1,2,"span",9),B.YNc(2,tn,1,3,"StarIcon",10),B.BQk()),2&ae){const Y=B.oxw(3);B.xp6(1),B.Q6J("ngIf",Y.iconOffClass),B.xp6(1),B.Q6J("ngIf",!Y.iconOffClass)}}function Be(ae,ue){if(1&ae){const Y=B.EpF();B.TgZ(0,"span",14),B.NdJ("click",function(Se){B.CHM(Y);const $e=B.oxw(2).index,Ot=B.oxw(2);return B.KtG(Ot.rate(Se,$e))})("keydown.enter",function(Se){B.CHM(Y);const $e=B.oxw(2).index,Ot=B.oxw(2);return B.KtG(Ot.rate(Se,$e))}),B.qZA()}if(2&ae){const Y=B.oxw(4);B.Q6J("ngStyle",Y.iconOnStyle)("ngClass",Y.iconOnClass)}}function We(ae,ue){if(1&ae){const Y=B.EpF();B.TgZ(0,"StarFillIcon",12),B.NdJ("click",function(Se){B.CHM(Y);const $e=B.oxw(2).index,Ot=B.oxw(2);return B.KtG(Ot.rate(Se,$e))})("keydown.enter",function(Se){B.CHM(Y);const $e=B.oxw(2).index,Ot=B.oxw(2);return B.KtG(Ot.rate(Se,$e))}),B.qZA()}if(2&ae){const Y=B.oxw(4);B.Q6J("ngStyle",Y.iconOnStyle)("styleClass","p-rating-icon p-rating-icon-active"),B.uIk("tabindex",Y.disabled||Y.readonly?null:"0")}}function st(ae,ue){if(1&ae&&(B.ynx(0),B.YNc(1,Be,1,2,"span",13),B.YNc(2,We,1,3,"StarFillIcon",10),B.BQk()),2&ae){const Y=B.oxw(3);B.xp6(1),B.Q6J("ngIf",Y.iconOnClass),B.xp6(1),B.Q6J("ngIf",!Y.iconOnClass)}}function yt(ae,ue){if(1&ae&&(B.TgZ(0,"span"),B.YNc(1,Me,3,2,"ng-container",3),B.YNc(2,st,3,2,"ng-container",3),B.qZA()),2&ae){const Y=ue.index,ve=B.oxw(2);B.xp6(1),B.Q6J("ngIf",!ve.value||Y>=ve.value),B.xp6(1),B.Q6J("ngIf",ve.value&&Y<ve.value)}}function It(ae,ue){if(1&ae&&(B.ynx(0),B.YNc(1,xt,3,2,"ng-container",3),B.YNc(2,yt,3,2,"span",4),B.BQk()),2&ae){const Y=B.oxw();B.xp6(1),B.Q6J("ngIf",Y.cancel),B.xp6(1),B.Q6J("ngForOf",Y.starsArray)}}function Zt(ae,ue){1&ae&&B.GkF(0)}function Qt(ae,ue){if(1&ae){const Y=B.EpF();B.TgZ(0,"span",17),B.NdJ("click",function(Se){B.CHM(Y);const $e=B.oxw(2);return B.KtG($e.clear(Se))})("keydown.enter",function(Se){B.CHM(Y);const $e=B.oxw(2);return B.KtG($e.clear(Se))}),B.YNc(1,Zt,1,0,"ng-container",18),B.qZA()}if(2&ae){const Y=B.oxw(2);B.Q6J("ngStyle",Y.iconCancelStyle),B.uIk("tabindex",Y.disabled||Y.readonly?null:"0"),B.xp6(1),B.Q6J("ngTemplateOutlet",Y.cancelIconTemplate)}}function An(ae,ue){1&ae&&B.GkF(0)}function mn(ae,ue){if(1&ae){const Y=B.EpF();B.TgZ(0,"span",19),B.NdJ("click",function(Se){const Ot=B.CHM(Y).index,Xt=B.oxw(2);return B.KtG(Xt.rate(Se,Ot))})("keydown.enter",function(Se){const Ot=B.CHM(Y).index,Xt=B.oxw(2);return B.KtG(Xt.rate(Se,Ot))}),B.YNc(1,An,1,0,"ng-container",18),B.qZA()}if(2&ae){const Y=ue.index,ve=B.oxw(2);B.uIk("tabindex",ve.disabled||ve.readonly?null:"0"),B.xp6(1),B.Q6J("ngTemplateOutlet",ve.getIconTemplate(Y))}}function Dn(ae,ue){if(1&ae&&(B.YNc(0,Qt,2,3,"span",15),B.YNc(1,mn,2,2,"span",16)),2&ae){const Y=B.oxw();B.Q6J("ngIf",Y.cancel),B.xp6(1),B.Q6J("ngForOf",Y.starsArray)}}const Ft=function(ae,ue){return{"p-readonly":ae,"p-disabled":ue}},Yn={provide:Fe.JU,useExisting:(0,B.Gpc)(()=>tr),multi:!0};let tr=(()=>{class ae{cd;disabled;readonly;stars=5;cancel=!0;iconOnClass;iconOnStyle;iconOffClass;iconOffStyle;iconCancelClass;iconCancelStyle;onRate=new B.vpe;onCancel=new B.vpe;templates;onIconTemplate;offIconTemplate;cancelIconTemplate;constructor(Y){this.cd=Y}value;onModelChange=()=>{};onModelTouched=()=>{};starsArray;ngOnInit(){this.starsArray=[];for(let Y=0;Y<this.stars;Y++)this.starsArray[Y]=Y}ngAfterContentInit(){this.templates.forEach(Y=>{switch(Y.getType()){case"onicon":this.onIconTemplate=Y.template;break;case"officon":this.offIconTemplate=Y.template;break;case"cancelicon":this.cancelIconTemplate=Y.template}})}getIconTemplate(Y){return!this.value||Y>=this.value?this.offIconTemplate:this.onIconTemplate}rate(Y,ve){!this.readonly&&!this.disabled&&(this.value=ve+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:Y,value:ve+1})),Y.preventDefault()}clear(Y){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(Y)),Y.preventDefault()}writeValue(Y){this.value=Y,this.cd.detectChanges()}registerOnChange(Y){this.onModelChange=Y}registerOnTouched(Y){this.onModelTouched=Y}setDisabledState(Y){this.disabled=Y,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}static \u0275fac=function(ve){return new(ve||ae)(B.Y36(B.sBO))};static \u0275cmp=B.Xpm({type:ae,selectors:[["p-rating"]],contentQueries:function(ve,Se,$e){if(1&ve&&B.Suo($e,Yt,4),2&ve){let Ot;B.iGM(Ot=B.CRH())&&(Se.templates=Ot)}},hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[B._Bn([Yn])],decls:4,vars:6,consts:[[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["customTemplate",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[3,"styleClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[3,"styleClass","ngStyle","click","keydown.enter"],["class","p-rating-icon",3,"ngStyle","ngClass","click","keydown.enter",4,"ngIf"],[3,"ngStyle","styleClass","click","keydown.enter",4,"ngIf"],[1,"p-rating-icon",3,"ngStyle","ngClass","click","keydown.enter"],[3,"ngStyle","styleClass","click","keydown.enter"],["class","p-rating-icon p-rating-icon-active",3,"ngStyle","ngClass","click","keydown.enter",4,"ngIf"],[1,"p-rating-icon","p-rating-icon-active",3,"ngStyle","ngClass","click","keydown.enter"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngStyle","click","keydown.enter"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click","keydown.enter"]],template:function(ve,Se){if(1&ve&&(B.TgZ(0,"div",0),B.YNc(1,It,3,2,"ng-container",1),B.YNc(2,Dn,2,2,"ng-template",null,2,B.W1O),B.qZA()),2&ve){const $e=B.MAs(3);B.Q6J("ngClass",B.WLB(3,Ft,Se.readonly,Se.disabled)),B.xp6(1),B.Q6J("ngIf",!Se.isCustomIcon)("ngIfElse",$e)}},dependencies:function(){return[E.mk,E.sg,E.O5,E.tP,E.PC,_t,Xn,ft]},styles:["@layer primeng{.p-rating{display:inline-flex}.p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}}\n"],encapsulation:2,changeDetection:0})}return ae})(),ni=(()=>{class ae{static \u0275fac=function(ve){return new(ve||ae)};static \u0275mod=B.oAB({type:ae});static \u0275inj=B.cJS({imports:[E.ez,_t,Xn,ft,St]})}return ae})()},5861:(Lt,Ke,$)=>{function E(Fe,y,ce,he,Ae,Ce,Ye){try{var de=Fe[Ce](Ye),Ie=de.value}catch(ze){return void ce(ze)}de.done?y(Ie):Promise.resolve(Ie).then(he,Ae)}function B(Fe){return function(){var y=this,ce=arguments;return new Promise(function(he,Ae){var Ce=Fe.apply(y,ce);function Ye(Ie){E(Ce,he,Ae,Ye,de,"next",Ie)}function de(Ie){E(Ce,he,Ae,Ye,de,"throw",Ie)}Ye(void 0)})}}$.d(Ke,{Z:()=>B})},7582:(Lt,Ke,$)=>{function y(Me,Be){var We={};for(var st in Me)Object.prototype.hasOwnProperty.call(Me,st)&&Be.indexOf(st)<0&&(We[st]=Me[st]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var yt=0;for(st=Object.getOwnPropertySymbols(Me);yt<st.length;yt++)Be.indexOf(st[yt])<0&&Object.prototype.propertyIsEnumerable.call(Me,st[yt])&&(We[st[yt]]=Me[st[yt]])}return We}function ze(Me,Be,We,st){return new(We||(We=Promise))(function(It,Zt){function Qt(Dn){try{mn(st.next(Dn))}catch(Ft){Zt(Ft)}}function An(Dn){try{mn(st.throw(Dn))}catch(Ft){Zt(Ft)}}function mn(Dn){Dn.done?It(Dn.value):function yt(It){return It instanceof We?It:new We(function(Zt){Zt(It)})}(Dn.value).then(Qt,An)}mn((st=st.apply(Me,Be||[])).next())})}function _e(Me){return this instanceof _e?(this.v=Me,this):new _e(Me)}function xe(Me,Be,We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,st=We.apply(Me,Be||[]),It=[];return yt={},Zt("next"),Zt("throw"),Zt("return"),yt[Symbol.asyncIterator]=function(){return this},yt;function Zt(Yn){st[Yn]&&(yt[Yn]=function(tr){return new Promise(function(ni,ae){It.push([Yn,tr,ni,ae])>1||Qt(Yn,tr)})})}function Qt(Yn,tr){try{!function An(Yn){Yn.value instanceof _e?Promise.resolve(Yn.value.v).then(mn,Dn):Ft(It[0][2],Yn)}(st[Yn](tr))}catch(ni){Ft(It[0][3],ni)}}function mn(Yn){Qt("next",Yn)}function Dn(Yn){Qt("throw",Yn)}function Ft(Yn,tr){Yn(tr),It.shift(),It.length&&Qt(It[0][0],It[0][1])}}function Le(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Be=Me[Symbol.asyncIterator];return Be?Be.call(Me):(Me=function Rt(Me){var Be="function"==typeof Symbol&&Symbol.iterator,We=Be&&Me[Be],st=0;if(We)return We.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&st>=Me.length&&(Me=void 0),{value:Me&&Me[st++],done:!Me}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),We={},st("next"),st("throw"),st("return"),We[Symbol.asyncIterator]=function(){return this},We);function st(It){We[It]=Me[It]&&function(Zt){return new Promise(function(Qt,An){!function yt(It,Zt,Qt,An){Promise.resolve(An).then(function(mn){It({value:mn,done:Qt})},Zt)}(Qt,An,(Zt=Me[It](Zt)).done,Zt.value)})}}}$.d(Ke,{FC:()=>xe,KL:()=>Le,_T:()=>y,mG:()=>ze,qq:()=>_e}),"function"==typeof SuppressedError&&SuppressedError}},Lt=>{var Ke=E=>Lt(Lt.s=E);Ke(2614),Ke(8620)}]);