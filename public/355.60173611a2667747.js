"use strict";(self.webpackChunkTPClinica=self.webpackChunkTPClinica||[]).push([[355],{4355:(K,p,o)=>{o.r(p),o.d(p,{UsersModule:()=>z});var a=o(6814),m=o(6024),r=o(5861),t=o(9468),d=o(563),u=o(951),g=o(3251),_=o(8672),f=o(4212),h=o(3175);let b=(()=>{class e{transform(i){return i}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=t.Yjl({name:"specialist",type:e,pure:!0})}return e})();var T=o(4553);function v(e,l){if(1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"uppercase"),t.ALo(3,"keysToSpanish"),t.qZA()),2&e){const i=l.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,t.lcZ(3,3,i.key))," ")}}function U(e,l){1&e&&(t.TgZ(0,"th"),t._uU(1,"Accion"),t.qZA())}function Z(e,l){1&e&&t._UZ(0,"td",19)}function x(e,l){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"speciality"),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,i.value)," ")}}function w(e,l){}function C(e,l){1&e&&t.YNc(0,w,0,0,"ng-template")}function A(e,l){if(1&e&&t._UZ(0,"img",26),2&e){const i=t.oxw(2).$implicit;t.s9C("src",i.value,t.LSH)}}function y(e,l){if(1&e&&(t._uU(0),t.ALo(1,"booleans")),2&e){const i=t.oxw(2).$implicit;t.Oqu(t.lcZ(1,1,i.value))}}function O(e,l){if(1&e&&(t.YNc(0,C,1,0,null,23),t.YNc(1,A,1,1,"ng-template",null,24,t.W1O),t.YNc(3,y,2,3,"ng-template",null,25,t.W1O)),2&e){const i=t.MAs(2),n=t.MAs(4),s=t.oxw().$implicit;t.Q6J("ngIf",s.key.startsWith("profilePh"))("ngIfThen",i)("ngIfElse",n)}}function S(e,l){if(1&e&&(t.TgZ(0,"td",19),t.YNc(1,x,3,3,"div",21),t.YNc(2,O,5,3,"ng-template",null,22,t.W1O),t.qZA()),2&e){const i=l.$implicit,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf","speciality"===i.key)("ngIfElse",n)}}function k(e,l){if(1&e&&(t.YNc(0,S,4,2,"td",20),t.ALo(1,"keyvalue"),t.ALo(2,"specialist")),2&e){const i=t.oxw().$implicit;t.Q6J("ngForOf",t.lcZ(1,1,t.lcZ(2,3,i)))}}function I(e,l){}function N(e,l){1&e&&t.YNc(0,I,0,0,"ng-template")}function J(e,l){if(1&e&&t._UZ(0,"img",29),2&e){const i=t.oxw().$implicit;t.s9C("src",i.value,t.LSH)}}function Y(e,l){if(1&e&&(t._uU(0),t.ALo(1,"booleans")),2&e){const i=t.oxw().$implicit;t.Oqu(t.lcZ(1,1,i.value))}}function E(e,l){if(1&e&&(t.TgZ(0,"td",19),t.YNc(1,N,1,0,null,23),t.YNc(2,J,1,1,"ng-template",null,27,t.W1O),t.YNc(4,Y,2,3,"ng-template",null,28,t.W1O),t.qZA()),2&e){const i=l.$implicit,n=t.MAs(3),s=t.MAs(5);t.xp6(1),t.Q6J("ngIf",i.key.startsWith("profilePh"))("ngIfThen",n)("ngIfElse",s)}}function F(e,l){if(1&e&&(t.YNc(0,E,6,3,"td",20),t.ALo(1,"keyvalue")),2&e){const i=t.oxw().$implicit;t.Q6J("ngForOf",t.lcZ(1,1,i))}}function L(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2).$implicit,c=t.oxw(2);return t.KtG(c.validateSpecialist(s))}),t._UZ(1,"img",33),t.qZA()}}function P(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"i",34),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2).$implicit,c=t.oxw(2);return t.KtG(c.validateSpecialist(s))}),t._UZ(1,"img",35),t.qZA()}}function Q(e,l){if(1&e&&(t.TgZ(0,"td",19),t.YNc(1,L,2,0,"i",30),t.ALo(2,"specialist"),t.YNc(3,P,2,0,"i",31),t.ALo(4,"specialist"),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,i).verifiedByAdmin),t.xp6(2),t.Q6J("ngIf",!0===t.lcZ(4,4,i).verifiedByAdmin)}}function M(e,l){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,Z,1,0,"td",15),t.YNc(2,k,3,5,"ng-template",null,16,t.W1O),t.YNc(4,F,2,3,"ng-template",null,17,t.W1O),t.YNc(6,Q,5,6,"td",18),t.qZA()),2&e){const i=t.MAs(3),n=t.MAs(5),s=t.oxw(2);t.xp6(1),t.Q6J("ngIf","especialista"===s.roleOption)("ngIfThen",i)("ngIfElse",n),t.xp6(5),t.Q6J("ngIf","especialista"===s.roleOption)}}function $(e,l){if(1&e&&(t.TgZ(0,"table",8)(1,"thead",9)(2,"tr"),t.YNc(3,v,4,5,"th",10),t.ALo(4,"keyvalue"),t.YNc(5,U,2,0,"th",11),t.qZA()(),t.TgZ(6,"tbody",12),t.YNc(7,M,7,4,"tr",13),t.qZA()()),2&e){const i=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,3,i.list[0])),t.xp6(2),t.Q6J("ngIf","especialista"===i.roleOption),t.xp6(2),t.Q6J("ngForOf",i.list)}}let j=(()=>{class e{constructor(i,n,s){this.userService=i,this.alertService=n,this.sService=s,this.eventSendUser=new t.vpe,this.eventShowTable=new t.vpe,this.showTable=!0}return(){this.showTable=!this.showTable,this.eventShowTable.emit(this.showTable)}validateSpecialist(i){var n=this;return(0,r.Z)(function*(){try{n.sService.show();const s=yield n.userService.authorizeSpecialistByAdmin(i);n.sService.hide(),s?yield n.alertService.showAlert({icon:"success",message:"Especialista habilitado con exito",timer:2e3}):yield n.alertService.showAlert({icon:"success",message:"Especialista inhabilitado con exito",timer:2e3})}catch(s){yield n.alertService.showAlert({icon:"error",message:s.message,timer:2e3})}})()}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(d.K),t.Y36(g.c),t.Y36(_.t2))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-users-table"]],inputs:{list:"list",roleOption:"roleOption",showTable:"showTable"},outputs:{eventSendUser:"eventSendUser",eventShowTable:"eventShowTable"},decls:8,vars:2,consts:[["type","ball-scale-multiple"],["src","../../../../assets/img/loader.gif","alt",""],[1,"h-100","p-4",3,"hidden"],[1,"w-100","row","justify-content-center","justify-content-sm-start","p-2","m-0"],["title","Volver",1,"col-sm-1","col-md-2","col-8","btn","btn-warning",3,"click"],[1,"fa-solid","fa-circle-arrow-left"],[1,"table-responsive"],["class","table table-striped table-ligth",4,"ngIf"],[1,"table","table-striped","table-ligth"],[1,"table-dark"],["class","text-center fw-bold",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],[1,"text-center","fw-bold"],["class","text-center",4,"ngIf","ngIfThen","ngIfElse"],["thenEspecialistBlock",""],["elseEspcialistBlock",""],["class","text-center",4,"ngIf"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseSpecialityBlock",""],[4,"ngIf","ngIfThen","ngIfElse"],["thenProfilePhoto",""],["elseProfilePhoto",""],["alt","foto_perfil",1,"img-fluid","rounded","rounded-3",3,"src"],["thenElseEspcialistBlockProfilePhoto",""],["elseElseEspcialistBlockProfilePhoto",""],["alt","foto_perfil",1,"p-1","img-fluid","rounded","rounded-3",3,"src"],["title","Habilitar","class","btn btn-outline-success",3,"click",4,"ngIf"],["title","Inhabilitar","class","btn btn-outline-danger",3,"click",4,"ngIf"],["title","Habilitar",1,"btn","btn-outline-success",3,"click"],["src","../../../../assets/img/check.png","alt","Habilitar",2,"width","35px","height","35px"],["title","Inhabilitar",1,"btn","btn-outline-danger",3,"click"],["src","../../../../assets/img/cross.png","alt","Inhabilitar",2,"width","35px","height","35px"]],template:function(n,s){1&n&&(t.TgZ(0,"ngx-spinner",0),t._UZ(1,"img",1),t.qZA(),t.TgZ(2,"section",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return s.return()}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6),t.YNc(7,$,8,5,"table",7),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("hidden",s.showTable),t.xp6(5),t.Q6J("ngIf",s.list))},dependencies:[a.sg,a.O5,_.Ro,a.gd,a.Nd,f.x,h.U,b,T.t],styles:["@media (min-width: 1000px){img[_ngcontent-%COMP%]{width:64px;height:64px}}"]})}return e})();const B=[{path:"",component:(()=>{class e{constructor(i){this.userService=i,this.setListOfUsers(),this.listUsers=this.userService.users,this.showTable=!0}chooseListOption(i){var n=this;return(0,r.Z)(function*(){n.userOption=i,n.listFiltered=n.userService.users?.filter(s=>s.userRole===i),n.showTable=!n.showTable,n.listChoseOption=i})()}setListOfUsers(){var i=this;return(0,r.Z)(function*(){yield i.userService.getUsers()})()}activateCreateUsers(){this.showCreateUsers=!0}return(){this.showCreateUsers=!1}handlerUpdateView(i){this.showTable=i}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(d.K))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-users"]],decls:27,vars:6,consts:[[1,"row","justify-content-end","w-100","p-0","m-0"],[1,"p-5","mt-4","shadow","bg-body-tertiary","rounded-3"],[1,"container-fluid","py-5"],[1,"text-center","display-5","fw-bold"],[1,"row","justify-content-center","align-items-center","m-0","p-0","w-100",3,"hidden"],["title","Pacientes",1,"col-xxl-1","col-sm-2","col-6","m-1","p-3","btn","boton","rounded-circle",3,"click"],["src","../../../assets/img/paciente.jpg","alt","Pacientes",1,"card-img","img-fluid","rounded-circle"],["title","Especialistas",1,"col-xxl-1","col-sm-2","col-6","m-1","p-3","btn","boton","rounded-circle",3,"click"],["src","../../../assets/img/doctor.jpg","alt","Especialistas",1,"card-img","img-fluid","rounded-circle"],["title","Administradores",1,"col-xxl-1","col-sm-2","col-6","m-1","p-3","btn","boton","rounded-circle",3,"click"],["src","../../../assets/img/admin.png","alt","Administradores",1,"card-img","img-fluid","rounded-circle"],[3,"list","showTable","roleOption","eventShowTable"],[1,"w-100","row","justify-content-center","justify-content-sm-center","p-2","m-0"],["type","button","value","Comenzar",1,"col-sm-1","col-md-2","col-8","btn","btn-warning",3,"click"],[1,"mt-4","rounded-3",3,"hidden"],[1,"container-fluid"],["title","Salir del Alta",1,"col-sm-1","col-md-2","col-8","btn","btn-warning",3,"click"]],template:function(n,s){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"Usuarios Registrados"),t.qZA(),t.TgZ(5,"section",4)(6,"button",5),t.NdJ("click",function(){return s.chooseListOption("paciente")}),t._UZ(7,"img",6),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return s.chooseListOption("especialista")}),t._UZ(9,"img",8),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){return s.chooseListOption("admin")}),t._UZ(11,"img",10),t.qZA()()()()(),t.TgZ(12,"app-users-table",11),t.NdJ("eventShowTable",function(R){return s.handlerUpdateView(R)}),t.qZA(),t.TgZ(13,"section",0)(14,"div",1)(15,"div",2)(16,"h1",3),t._uU(17,"Alta Usuarios"),t.qZA(),t.TgZ(18,"section",4)(19,"div",12)(20,"input",13),t.NdJ("click",function(){return s.activateCreateUsers()}),t.qZA()()(),t.TgZ(21,"div",14)(22,"div",15)(23,"div",12)(24,"button",16),t.NdJ("click",function(){return s.return()}),t._uU(25,"Salir del Alta"),t.qZA()(),t._UZ(26,"app-register"),t.qZA()()()()()),2&n&&(t.xp6(5),t.Q6J("hidden",!s.showTable),t.xp6(7),t.Q6J("list",s.listFiltered)("showTable",s.showTable)("roleOption",s.listChoseOption),t.xp6(6),t.Q6J("hidden",s.showCreateUsers),t.xp6(3),t.Q6J("hidden",!s.showCreateUsers))},dependencies:[u.y,j],styles:[".text-shadow[_ngcontent-%COMP%]{cursor:pointer;background-color:#f5f5f5;opacity:75%;padding:.3rem;border-radius:1rem;font-weight:700}.boton[_ngcontent-%COMP%]{background-color:#bae7f7}.boton[_ngcontent-%COMP%]:hover{background-color:#4801fd;box-shadow:0 0 20px #6100c8cc}"]})}return e})()}];let q=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(B),m.Bz]})}return e})();var W=o(8147),H=o(103);let z=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[a.ez,q,W.RegisterModule,_.ef,H.D]})}return e})()}}]);